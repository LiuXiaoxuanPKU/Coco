{
    "org": {
        "sql": "SELECT DISTINCT work_packages.*, COALESCE(max_depth.depth, 0) FROM work_packages INNER JOIN relations ON work_packages.id = relations.to_id LEFT OUTER JOIN (SELECT relations.to_id, MAX(hierarchy) AS depth FROM relations WHERE relations.hierarchy <> 0 AND relations.relates = 0 AND relations.duplicates = 0 AND relations.follows = 0 AND relations.blocks = 0 AND relations.includes = 0 AND relations.requires = 0 GROUP BY relations.to_id) AS max_depth ON max_depth.to_id = work_packages.id WHERE relations.from_id = \"$1\" AND relations.hierarchy <> \"$2\" AND relations.relates = \"$3\" AND relations.duplicates = \"$4\" AND relations.follows = \"$5\" AND relations.blocks = \"$6\" AND relations.includes = \"$7\" AND relations.requires = \"$8\" ORDER BY COALESCE(max_depth.depth, 0) ASC",
        "cost": 491.69,
        "rewrite_types": []
    },
    "rewrites": [
        {
            "sql": "SELECT work_packages.*, COALESCE(max_depth.depth, 0) FROM work_packages INNER JOIN relations ON work_packages.id = relations.to_id INNER JOIN (SELECT relations.to_id, MAX(hierarchy) AS depth FROM relations WHERE relations.hierarchy <> 0 AND relations.relates = 0 AND relations.duplicates = 0 AND relations.follows = 0 AND relations.blocks = 0 AND relations.includes = 0 AND relations.requires = 0 GROUP BY relations.to_id) AS max_depth ON max_depth.to_id = work_packages.id WHERE relations.from_id = \"$1\" AND relations.hierarchy <> \"$2\" AND relations.relates = \"$3\" AND relations.duplicates = \"$4\" AND relations.follows = \"$5\" AND relations.blocks = \"$6\" AND relations.includes = \"$7\" AND relations.requires = \"$8\" ORDER BY COALESCE(max_depth.depth, 0) ASC",
            "cost": 486.72,
            "rewrite_types": [
                "ReplaceOuterJoin",
                "RemoveDistinct"
            ]
        },
        {
            "sql": "SELECT work_packages.*, COALESCE(max_depth.depth, 0) FROM work_packages INNER JOIN relations ON work_packages.id = relations.to_id INNER JOIN (SELECT relations.to_id, MAX(hierarchy) AS depth FROM relations WHERE relations.hierarchy <> 0 AND relations.relates = 0 AND relations.duplicates = 0 AND relations.follows = 0 AND relations.blocks = 0 AND relations.includes = 0 AND relations.requires = 0 GROUP BY relations.to_id) AS max_depth ON max_depth.to_id = work_packages.id WHERE relations.from_id = \"$1\" AND relations.hierarchy <> \"$2\" AND relations.relates = \"$3\" AND relations.duplicates = \"$4\" AND relations.follows = \"$5\" AND relations.blocks = \"$6\" AND relations.includes = \"$7\" AND relations.requires = \"$8\" ORDER BY COALESCE(max_depth.depth, 0) ASC LIMIT 1",
            "cost": 486.72,
            "rewrite_types": [
                "ReplaceOuterJoin",
                "AddLimitOne",
                "RemoveDistinct"
            ]
        },
        {
            "sql": "SELECT DISTINCT work_packages.*, COALESCE(max_depth.depth, 0) FROM work_packages INNER JOIN relations ON work_packages.id = relations.to_id INNER JOIN (SELECT relations.to_id, MAX(hierarchy) AS depth FROM relations WHERE relations.hierarchy <> 0 AND relations.relates = 0 AND relations.duplicates = 0 AND relations.follows = 0 AND relations.blocks = 0 AND relations.includes = 0 AND relations.requires = 0 GROUP BY relations.to_id) AS max_depth ON max_depth.to_id = work_packages.id WHERE relations.from_id = \"$1\" AND relations.hierarchy <> \"$2\" AND relations.relates = \"$3\" AND relations.duplicates = \"$4\" AND relations.follows = \"$5\" AND relations.blocks = \"$6\" AND relations.includes = \"$7\" AND relations.requires = \"$8\" ORDER BY COALESCE(max_depth.depth, 0) ASC",
            "cost": 486.79,
            "rewrite_types": [
                "ReplaceOuterJoin"
            ]
        },
        {
            "sql": "SELECT DISTINCT work_packages.*, COALESCE(max_depth.depth, 0) FROM work_packages INNER JOIN relations ON work_packages.id = relations.to_id INNER JOIN (SELECT relations.to_id, MAX(hierarchy) AS depth FROM relations WHERE relations.hierarchy <> 0 AND relations.relates = 0 AND relations.duplicates = 0 AND relations.follows = 0 AND relations.blocks = 0 AND relations.includes = 0 AND relations.requires = 0 GROUP BY relations.to_id) AS max_depth ON max_depth.to_id = work_packages.id WHERE relations.from_id = \"$1\" AND relations.hierarchy <> \"$2\" AND relations.relates = \"$3\" AND relations.duplicates = \"$4\" AND relations.follows = \"$5\" AND relations.blocks = \"$6\" AND relations.includes = \"$7\" AND relations.requires = \"$8\" ORDER BY COALESCE(max_depth.depth, 0) ASC LIMIT 1",
            "cost": 486.79,
            "rewrite_types": [
                "ReplaceOuterJoin",
                "AddLimitOne"
            ]
        },
        {
            "sql": "SELECT work_packages.*, COALESCE(max_depth.depth, 0) FROM work_packages INNER JOIN relations ON work_packages.id = relations.to_id LEFT OUTER JOIN (SELECT relations.to_id, MAX(hierarchy) AS depth FROM relations WHERE relations.hierarchy <> 0 AND relations.relates = 0 AND relations.duplicates = 0 AND relations.follows = 0 AND relations.blocks = 0 AND relations.includes = 0 AND relations.requires = 0 GROUP BY relations.to_id) AS max_depth ON max_depth.to_id = work_packages.id WHERE relations.from_id = \"$1\" AND relations.hierarchy <> \"$2\" AND relations.relates = \"$3\" AND relations.duplicates = \"$4\" AND relations.follows = \"$5\" AND relations.blocks = \"$6\" AND relations.includes = \"$7\" AND relations.requires = \"$8\" ORDER BY COALESCE(max_depth.depth, 0) ASC",
            "cost": 491.62,
            "rewrite_types": [
                "RemoveDistinct"
            ]
        },
        {
            "sql": "SELECT work_packages.*, COALESCE(max_depth.depth, 0) FROM work_packages INNER JOIN relations ON work_packages.id = relations.to_id LEFT OUTER JOIN (SELECT relations.to_id, MAX(hierarchy) AS depth FROM relations WHERE relations.hierarchy <> 0 AND relations.relates = 0 AND relations.duplicates = 0 AND relations.follows = 0 AND relations.blocks = 0 AND relations.includes = 0 AND relations.requires = 0 GROUP BY relations.to_id) AS max_depth ON max_depth.to_id = work_packages.id WHERE relations.from_id = \"$1\" AND relations.hierarchy <> \"$2\" AND relations.relates = \"$3\" AND relations.duplicates = \"$4\" AND relations.follows = \"$5\" AND relations.blocks = \"$6\" AND relations.includes = \"$7\" AND relations.requires = \"$8\" ORDER BY COALESCE(max_depth.depth, 0) ASC LIMIT 1",
            "cost": 491.62,
            "rewrite_types": [
                "AddLimitOne",
                "RemoveDistinct"
            ]
        },
        {
            "sql": "SELECT DISTINCT work_packages.*, COALESCE(max_depth.depth, 0) FROM work_packages INNER JOIN relations ON work_packages.id = relations.to_id LEFT OUTER JOIN (SELECT relations.to_id, MAX(hierarchy) AS depth FROM relations WHERE relations.hierarchy <> 0 AND relations.relates = 0 AND relations.duplicates = 0 AND relations.follows = 0 AND relations.blocks = 0 AND relations.includes = 0 AND relations.requires = 0 GROUP BY relations.to_id) AS max_depth ON max_depth.to_id = work_packages.id WHERE relations.from_id = \"$1\" AND relations.hierarchy <> \"$2\" AND relations.relates = \"$3\" AND relations.duplicates = \"$4\" AND relations.follows = \"$5\" AND relations.blocks = \"$6\" AND relations.includes = \"$7\" AND relations.requires = \"$8\" ORDER BY COALESCE(max_depth.depth, 0) ASC LIMIT 1",
            "cost": 491.69,
            "rewrite_types": [
                "AddLimitOne"
            ]
        }
    ]
}