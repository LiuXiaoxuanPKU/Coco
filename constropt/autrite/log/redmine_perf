{"raw": "SELECT wikis.* FROM wikis WHERE wikis.project_id IS NULL LIMIT 4;\n", "rewrite": "SELECT wikis.* FROM wikis WHERE False LIMIT 4;\n", "t_db": NaN, "t_rewrite": NaN, "t_db_constraint": NaN, "t_rewrite_constraint": NaN}
{"raw": "SELECT 1 AS \"one\" FROM watchers WHERE watchers.user_id = 4851 AND watchers.watchable_type = 'News' AND watchers.watchable_id IS NULL LIMIT 8;\n", "rewrite": "SELECT 1 AS \"one\" FROM watchers WHERE watchers.user_id = 4851 AND watchers.watchable_type = 'News' AND False LIMIT 8;\n", "t_db": NaN, "t_rewrite": NaN, "t_db_constraint": NaN, "t_rewrite_constraint": NaN}
{"raw": "SELECT projects.* FROM projects WHERE projects.id IN (SELECT DISTINCT m.project_id FROM members AS m INNER JOIN member_roles AS mr ON mr.member_id = m.id INNER JOIN custom_fields_roles AS cfr ON cfr.role_id = mr.role_id WHERE m.user_id = 2 AND cfr.custom_field_id = 30);\n", "rewrite": "SELECT projects.* FROM projects WHERE projects.id IN (SELECT m.project_id FROM members AS m INNER JOIN member_roles AS mr ON mr.member_id = m.id INNER JOIN custom_fields_roles AS cfr ON cfr.role_id = mr.role_id WHERE m.user_id = 2 AND cfr.custom_field_id = 30);\n", "t_db": 0.178, "t_rewrite": 0.183, "t_db_constraint": 0.183, "t_rewrite_constraint": 0.176}
{"raw": "SELECT users.* FROM users WHERE users.status IN (2, 1) AND users.id IN (SELECT DISTINCT user_id FROM members WHERE project_id IN (1, 2));\n", "rewrite": "SELECT users.* FROM users WHERE users.status IN (2, 1) AND users.id IN (SELECT user_id FROM members WHERE project_id IN (1, 2));\n", "t_db": 0.122, "t_rewrite": 0.112, "t_db_constraint": 0.1175, "t_rewrite_constraint": 0.1125}
{"raw": "SELECT DISTINCT users.* FROM users INNER JOIN members ON members.user_id = users.id WHERE users.status = 1 AND members.project_id = 1 AND users.status = 1 AND users.status = 1 AND users.type IN ('User', 'User') ORDER BY users.type DESC, users.firstname, users.lastname, users.id;\n", "rewrite": "SELECT users.* FROM users INNER JOIN members ON members.user_id = users.id WHERE users.status = 1 AND members.project_id = 1 AND users.status = 1 AND users.status = 1 AND users.type IN ('User', 'User') ORDER BY users.type DESC, users.firstname, users.lastname, users.id;\n", "t_db": 0.156, "t_rewrite": 0.088, "t_db_constraint": 0.166, "t_rewrite_constraint": 0.084}
{"raw": "SELECT 1 AS \"one\" FROM projects WHERE projects.status = 1 AND (SELECT 1 AS \"one\" FROM enabled_modules AS em WHERE em.project_id = projects.id AND em.name = 'issue_tracking') IS NOT NULL AND projects.id IN (SELECT DISTINCT project_id FROM projects_trackers) AND projects.id = 8095 LIMIT 10;\n", "rewrite": "SELECT 1 AS \"one\" FROM projects WHERE projects.status = 1 AND (SELECT 1 AS \"one\" FROM enabled_modules AS em WHERE em.project_id = projects.id AND em.name = 'issue_tracking') IS NOT NULL AND projects.id IN (SELECT project_id FROM projects_trackers) AND projects.id = 8095 LIMIT 10;\n", "t_db": 0.109, "t_rewrite": 0.1045, "t_db_constraint": 0.1125, "t_rewrite_constraint": 0.095}
{"raw": "SELECT users.* FROM users WHERE users.status IN (1, 1) AND users.id IN (SELECT DISTINCT user_id FROM members WHERE project_id IN (5, 6, 3, 4));\n", "rewrite": "SELECT users.* FROM users WHERE users.status IN (1, 1) AND users.id IN (SELECT user_id FROM members WHERE project_id IN (5, 6, 3, 4));\n", "t_db": 0.155, "t_rewrite": 0.16, "t_db_constraint": 0.157, "t_rewrite_constraint": 0.152}
{"raw": "SELECT users.* FROM users WHERE users.status IN (2, 1) AND users.id IN (SELECT DISTINCT user_id FROM members WHERE project_id IN (1, 2, 3, 4, 5, 6));\n", "rewrite": "SELECT users.* FROM users WHERE users.status IN (2, 1) AND users.id IN (SELECT user_id FROM members WHERE project_id IN (1, 2, 3, 4, 5, 6));\n", "t_db": 0.16, "t_rewrite": 0.157, "t_db_constraint": 0.1605, "t_rewrite_constraint": 0.1545}
{"raw": "SELECT users.* FROM users WHERE users.status IN (2, 1) AND users.id IN (SELECT DISTINCT user_id FROM members WHERE project_id IN (6, 3, 4)) AND users.status = 1;\n", "rewrite": "SELECT users.* FROM users WHERE users.status IN (2, 1) AND users.id IN (SELECT user_id FROM members WHERE project_id IN (6, 3, 4)) AND users.status = 1;\n", "t_db": 0.134, "t_rewrite": 0.14, "t_db_constraint": 0.134, "t_rewrite_constraint": 0.138}
{"raw": "SELECT members.user_id, role_id, members.project_id FROM members INNER JOIN projects ON projects.id = members.project_id INNER JOIN member_roles ON member_roles.member_id = members.id WHERE projects.status <> 9 AND (members.user_id IS NULL OR projects.is_public = True AND members.user_id = 12);\n", "rewrite": "SELECT members.user_id, role_id, members.project_id FROM members INNER JOIN projects ON projects.id = members.project_id INNER JOIN member_roles ON member_roles.member_id = members.id WHERE projects.status <> 9 AND (False OR projects.is_public = True AND members.user_id = 12);\n", "t_db": 0.1, "t_rewrite": 0.081, "t_db_constraint": 0.0975, "t_rewrite_constraint": 0.0795}
{"raw": "SELECT 1 AS \"one\" FROM projects WHERE (projects.status = 1 AND (SELECT 1 AS \"one\" FROM enabled_modules AS em WHERE em.project_id = projects.id AND em.name = 'issue_tracking') IS NOT NULL OR projects.id = 1) AND projects.id IN (SELECT DISTINCT project_id FROM projects_trackers) AND projects.id = 5544 LIMIT 7;\n", "rewrite": "SELECT 1 AS \"one\" FROM projects WHERE (projects.status = 1 AND (SELECT 1 AS \"one\" FROM enabled_modules AS em WHERE em.project_id = projects.id AND em.name = 'issue_tracking') IS NOT NULL OR projects.id = 1) AND projects.id IN (SELECT project_id FROM projects_trackers) AND projects.id = 5544 LIMIT 7;\n", "t_db": 0.065, "t_rewrite": 0.061, "t_db_constraint": 0.061, "t_rewrite_constraint": 0.059}
{"raw": "SELECT users.* FROM users WHERE users.status IN (1, 1) AND users.id IN (SELECT DISTINCT user_id FROM members WHERE project_id IN (1, 3, 4, 6)) AND users.status = 2;\n", "rewrite": "SELECT users.* FROM users WHERE users.status IN (1, 1) AND users.id IN (SELECT user_id FROM members WHERE project_id IN (1, 3, 4, 6) LIMIT 1) AND users.status = 2;\n", "t_db": 0.1465, "t_rewrite": 0.0955, "t_db_constraint": 0.1455, "t_rewrite_constraint": 0.096}
{"raw": "SELECT 1 AS \"one\" FROM projects WHERE (projects.status = 1 AND (SELECT 1 AS \"one\" FROM enabled_modules AS em WHERE em.project_id = projects.id AND em.name = 'issue_tracking') IS NOT NULL OR projects.id = 51) AND projects.id IN (SELECT DISTINCT project_id FROM projects_trackers) AND projects.id = 7662 LIMIT 2;\n", "rewrite": "SELECT 1 AS \"one\" FROM projects WHERE (projects.status = 1 AND (SELECT 1 AS \"one\" FROM enabled_modules AS em WHERE em.project_id = projects.id AND em.name = 'issue_tracking') IS NOT NULL OR projects.id = 51) AND projects.id IN (SELECT project_id FROM projects_trackers) AND projects.id = 7662 LIMIT 2;\n", "t_db": 0.07, "t_rewrite": 0.059, "t_db_constraint": 0.064, "t_rewrite_constraint": 0.059}
{"raw": "SELECT users.* FROM users WHERE users.status IN (1, 2) AND users.id IN (SELECT DISTINCT user_id FROM members WHERE project_id IN (5, 6, 3, 4)) AND users.status = 1;\n", "rewrite": "SELECT users.* FROM users WHERE users.status IN (1, 2) AND users.id IN (SELECT user_id FROM members WHERE project_id IN (5, 6, 3, 4)) AND users.status = 1;\n", "t_db": 0.15, "t_rewrite": 0.156, "t_db_constraint": 0.152, "t_rewrite_constraint": 0.155}
{"raw": "SELECT projects.id FROM projects WHERE projects.lft >= 1 AND projects.rgt <= 10 AND (projects.status = 1 AND (SELECT 1 AS \"one\" FROM enabled_modules AS em WHERE em.project_id = projects.id AND em.name = 'issue_tracking') IS NOT NULL OR projects.id = 1) AND projects.id IN (SELECT DISTINCT project_id FROM projects_trackers) ORDER BY projects.lft ASC;\n", "rewrite": "SELECT projects.id FROM projects WHERE projects.lft >= 1 AND projects.rgt <= 10 AND (projects.status = 1 AND (SELECT 1 AS \"one\" FROM enabled_modules AS em WHERE em.project_id = projects.id AND em.name = 'issue_tracking') IS NOT NULL OR projects.id = 1) AND projects.id IN (SELECT project_id FROM projects_trackers) ORDER BY projects.lft ASC;\n", "t_db": 9.064, "t_rewrite": 0.394, "t_db_constraint": 8.963, "t_rewrite_constraint": 0.341}
{"raw": "SELECT issue_statuses.* FROM issue_statuses WHERE default_done_ratio >= 0;\n", "rewrite": "SELECT issue_statuses.* FROM issue_statuses;\n", "t_db": 1.6425, "t_rewrite": 1.5285, "t_db_constraint": 1.624, "t_rewrite_constraint": 1.472}
{"raw": "SELECT projects.* FROM projects WHERE (projects.status = 1 AND (SELECT 1 AS \"one\" FROM enabled_modules AS em WHERE em.project_id = projects.id AND em.name = 'issue_tracking') IS NOT NULL AND projects.is_public = True AND projects.id NOT IN (SELECT project_id FROM members WHERE user_id IN (6, 13)) OR projects.id = 1) AND projects.id IN (SELECT DISTINCT project_id FROM projects_trackers);\n", "rewrite": "SELECT projects.* FROM projects WHERE (projects.status = 1 AND (SELECT 1 AS \"one\" FROM enabled_modules AS em WHERE em.project_id = projects.id AND em.name = 'issue_tracking') IS NOT NULL AND projects.is_public = True AND projects.id NOT IN (SELECT project_id FROM members WHERE user_id IN (6, 13)) OR projects.id = 1) AND projects.id IN (SELECT project_id FROM projects_trackers);\n", "t_db": 42.35, "t_rewrite": 35.079, "t_db_constraint": 47.569, "t_rewrite_constraint": 33.819}
{"raw": "SELECT projects.* FROM projects WHERE (projects.status = 1 AND (SELECT 1 AS \"one\" FROM enabled_modules AS em WHERE em.project_id = projects.id AND em.name = 'issue_tracking') IS NOT NULL AND projects.is_public = True AND projects.id NOT IN (SELECT project_id FROM members WHERE user_id IN (7, 12)) OR projects.id = 1) AND projects.id IN (SELECT DISTINCT project_id FROM projects_trackers);\n", "rewrite": "SELECT projects.* FROM projects WHERE (projects.status = 1 AND (SELECT 1 AS \"one\" FROM enabled_modules AS em WHERE em.project_id = projects.id AND em.name = 'issue_tracking') IS NOT NULL AND projects.is_public = True AND projects.id NOT IN (SELECT project_id FROM members WHERE user_id IN (7, 12)) OR projects.id = 1) AND projects.id IN (SELECT project_id FROM projects_trackers);\n", "t_db": 42.537499999999994, "t_rewrite": 34.583, "t_db_constraint": 47.2765, "t_rewrite_constraint": 32.814}
{"raw": "SELECT projects.* FROM projects WHERE (projects.status = 1 AND (SELECT 1 AS \"one\" FROM enabled_modules AS em WHERE em.project_id = projects.id AND em.name = 'issue_tracking') IS NOT NULL AND projects.is_public = True AND projects.id NOT IN (SELECT project_id FROM members WHERE user_id IN (114, 12)) OR projects.id = 1) AND projects.id IN (SELECT DISTINCT project_id FROM projects_trackers);\n", "rewrite": "SELECT projects.* FROM projects WHERE (projects.status = 1 AND (SELECT 1 AS \"one\" FROM enabled_modules AS em WHERE em.project_id = projects.id AND em.name = 'issue_tracking') IS NOT NULL AND projects.is_public = True AND projects.id NOT IN (SELECT project_id FROM members WHERE user_id IN (114, 12)) OR projects.id = 1) AND projects.id IN (SELECT project_id FROM projects_trackers);\n", "t_db": 42.542, "t_rewrite": 34.435, "t_db_constraint": 46.77, "t_rewrite_constraint": 32.513}
{"raw": "SELECT projects.* FROM projects WHERE (projects.status = 1 AND (SELECT 1 AS \"one\" FROM enabled_modules AS em WHERE em.project_id = projects.id AND em.name = 'issue_tracking') IS NOT NULL AND projects.is_public = True AND projects.id NOT IN (SELECT project_id FROM members WHERE user_id IN (131, 12)) OR projects.id = 1) AND projects.id IN (SELECT DISTINCT project_id FROM projects_trackers);\n", "rewrite": "SELECT projects.* FROM projects WHERE (projects.status = 1 AND (SELECT 1 AS \"one\" FROM enabled_modules AS em WHERE em.project_id = projects.id AND em.name = 'issue_tracking') IS NOT NULL AND projects.is_public = True AND projects.id NOT IN (SELECT project_id FROM members WHERE user_id IN (131, 12)) OR projects.id = 1) AND projects.id IN (SELECT project_id FROM projects_trackers);\n", "t_db": 42.503, "t_rewrite": 34.3585, "t_db_constraint": 46.885, "t_rewrite_constraint": 32.5355}
{"raw": "SELECT projects.* FROM projects WHERE (projects.status = 1 AND (SELECT 1 AS \"one\" FROM enabled_modules AS em WHERE em.project_id = projects.id AND em.name = 'issue_tracking') IS NOT NULL AND projects.is_public = True AND projects.id NOT IN (SELECT project_id FROM members WHERE user_id IN (124, 12)) OR projects.id = 1) AND projects.id IN (SELECT DISTINCT project_id FROM projects_trackers);\n", "rewrite": "SELECT projects.* FROM projects WHERE (projects.status = 1 AND (SELECT 1 AS \"one\" FROM enabled_modules AS em WHERE em.project_id = projects.id AND em.name = 'issue_tracking') IS NOT NULL AND projects.is_public = True AND projects.id NOT IN (SELECT project_id FROM members WHERE user_id IN (124, 12)) OR projects.id = 1) AND projects.id IN (SELECT project_id FROM projects_trackers);\n", "t_db": 42.359, "t_rewrite": 34.249, "t_db_constraint": 46.922, "t_rewrite_constraint": 32.268}
{"raw": "SELECT 1 AS \"one\" FROM projects WHERE projects.status = 1 AND (SELECT 1 AS \"one\" FROM enabled_modules AS em WHERE em.project_id = projects.id AND em.name = 'issue_tracking') IS NOT NULL AND projects.is_public = True AND projects.id NOT IN (SELECT project_id FROM members WHERE user_id IN (7, 12)) AND projects.id IN (SELECT DISTINCT project_id FROM projects_trackers) AND projects.id = 3484 LIMIT 7;\n", "rewrite": "SELECT 1 AS \"one\" FROM projects WHERE projects.status = 1 AND (SELECT 1 AS \"one\" FROM enabled_modules AS em WHERE em.project_id = projects.id AND em.name = 'issue_tracking') IS NOT NULL AND projects.is_public = True AND projects.id NOT IN (SELECT project_id FROM members WHERE user_id IN (7, 12)) AND projects.id IN (SELECT project_id FROM projects_trackers) AND projects.id = 3484 LIMIT 7;\n", "t_db": 0.09, "t_rewrite": 0.102, "t_db_constraint": 0.0865, "t_rewrite_constraint": 0.0925}
{"raw": "SELECT users.* FROM users WHERE users.status IN (2, 2) AND users.id IN (SELECT DISTINCT user_id FROM members WHERE project_id IN (1, 2, 3, 4, 5, 6)) AND users.status = 2;\n", "rewrite": "SELECT users.* FROM users WHERE users.status IN (2, 2) AND users.id IN (SELECT user_id FROM members WHERE project_id IN (1, 2, 3, 4, 5, 6)) AND users.status = 2;\n", "t_db": 0.165, "t_rewrite": 0.163, "t_db_constraint": 0.166, "t_rewrite_constraint": 0.164}
{"raw": "SELECT projects.* FROM projects WHERE projects.status = 1 AND (SELECT 1 AS \"one\" FROM enabled_modules AS em WHERE em.project_id = projects.id AND em.name = 'issue_tracking') IS NOT NULL AND projects.is_public = True AND projects.id NOT IN (SELECT project_id FROM members WHERE user_id IN (2, 12)) AND projects.id IN (SELECT DISTINCT project_id FROM projects_trackers) ORDER BY projects.id ASC LIMIT 5;\n", "rewrite": "SELECT projects.* FROM projects WHERE projects.status = 1 AND (SELECT 1 AS \"one\" FROM enabled_modules AS em WHERE em.project_id = projects.id AND em.name = 'issue_tracking') IS NOT NULL AND projects.is_public = True AND projects.id NOT IN (SELECT project_id FROM members WHERE user_id IN (2, 12)) AND projects.id IN (SELECT project_id FROM projects_trackers) ORDER BY projects.id ASC LIMIT 5;\n", "t_db": 0.2975, "t_rewrite": 0.2565, "t_db_constraint": 0.2845, "t_rewrite_constraint": 0.244}
{"raw": "SELECT queries.* FROM queries LEFT OUTER JOIN projects ON queries.project_id = projects.id WHERE queries.type IN ('ProjectQuery') AND (queries.project_id IS NULL OR projects.status <> 9 AND projects.is_public = True AND projects.id NOT IN (SELECT project_id FROM members WHERE user_id IN (6, 13))) AND queries.visibility = 2 AND queries.project_id IS NULL ORDER BY queries.name ASC, queries.id ASC;\n", "rewrite": "SELECT queries.* FROM queries LEFT OUTER JOIN projects ON queries.project_id = projects.id WHERE queries.type IN ('ProjectQuery') AND (queries.project_id IS NULL OR projects.status <> 9 AND projects.is_public = True AND projects.id NOT IN (SELECT project_id FROM members WHERE user_id IN (6, 13) LIMIT 1)) AND queries.visibility = 2 AND queries.project_id IS NULL ORDER BY queries.name ASC, queries.id ASC;\n", "t_db": 2.047, "t_rewrite": 2.063, "t_db_constraint": 2.043, "t_rewrite_constraint": 2.031}
{"raw": "SELECT 1 AS \"one\" FROM projects WHERE (projects.status = 1 AND (SELECT 1 AS \"one\" FROM enabled_modules AS em WHERE em.project_id = projects.id AND em.name = 'issue_tracking') IS NOT NULL AND projects.is_public = True AND projects.id NOT IN (SELECT project_id FROM members WHERE user_id IN (7, 12)) OR projects.id = 1) AND projects.id IN (SELECT DISTINCT project_id FROM projects_trackers) AND projects.id = 9932 LIMIT 1;\n", "rewrite": "SELECT 1 AS \"one\" FROM projects WHERE (projects.status = 1 AND (SELECT 1 AS \"one\" FROM enabled_modules AS em WHERE em.project_id = projects.id AND em.name = 'issue_tracking') IS NOT NULL AND projects.is_public = True AND projects.id NOT IN (SELECT project_id FROM members WHERE user_id IN (7, 12)) OR projects.id = 1) AND projects.id IN (SELECT project_id FROM projects_trackers) AND projects.id = 9932 LIMIT 1;\n", "t_db": 0.089, "t_rewrite": 0.0915, "t_db_constraint": 0.0875, "t_rewrite_constraint": 0.087}
{"raw": "SELECT issues.* FROM issues INNER JOIN issue_statuses ON issue_statuses.id = issues.status_id INNER JOIN trackers ON trackers.id = issues.tracker_id INNER JOIN projects ON projects.id = issues.project_id INNER JOIN enumerations ON enumerations.id = issues.priority_id AND enumerations.type IN ('IssuePriority') WHERE issues.status_id IN (SELECT id FROM issue_statuses WHERE is_closed = False) AND issues.id IN (1, 3);\n", "rewrite": "SELECT issues.* FROM issues INNER JOIN trackers ON trackers.id = issues.tracker_id INNER JOIN projects ON projects.id = issues.project_id INNER JOIN enumerations ON enumerations.id = issues.priority_id AND enumerations.type IN ('IssuePriority') WHERE issues.status_id IN (SELECT id FROM issue_statuses WHERE is_closed = False) AND issues.id IN (1, 3);\n", "t_db": 0.253, "t_rewrite": 0.205, "t_db_constraint": 0.255, "t_rewrite_constraint": 0.197}
{"raw": "SELECT workflows.* FROM workflows WHERE workflows.type IN ('WorkflowPermission') AND workflows.tracker_id = 18219 AND workflows.old_status_id IS NULL AND workflows.role_id = 2030;\n", "rewrite": "SELECT workflows.* FROM workflows WHERE workflows.type IN ('WorkflowPermission') AND workflows.tracker_id = 18219 AND False AND workflows.role_id = 2030;\n", "t_db": 0.036, "t_rewrite": 0.015, "t_db_constraint": 0.035, "t_rewrite_constraint": 0.015}
{"raw": "SELECT issues.* FROM issues INNER JOIN issue_statuses ON issue_statuses.id = issues.status_id INNER JOIN trackers ON trackers.id = issues.tracker_id INNER JOIN projects ON projects.id = issues.project_id INNER JOIN enumerations ON enumerations.id = issues.priority_id AND enumerations.type IN ('IssuePriority') WHERE issues.status_id IN (SELECT id FROM issue_statuses WHERE is_closed = False) AND issues.parent_id IN (1, 3);\n", "rewrite": "SELECT issues.* FROM issues INNER JOIN trackers ON trackers.id = issues.tracker_id INNER JOIN projects ON projects.id = issues.project_id INNER JOIN enumerations ON enumerations.id = issues.priority_id AND enumerations.type IN ('IssuePriority') WHERE issues.status_id IN (SELECT id FROM issue_statuses WHERE is_closed = False) AND issues.parent_id IN (1, 3);\n", "t_db": 0.207, "t_rewrite": 0.175, "t_db_constraint": 0.202, "t_rewrite_constraint": 0.176}
{"raw": "SELECT issues.* FROM issues INNER JOIN issue_statuses ON issue_statuses.id = issues.status_id INNER JOIN trackers ON trackers.id = issues.tracker_id INNER JOIN projects ON projects.id = issues.project_id INNER JOIN enumerations ON enumerations.id = issues.priority_id AND enumerations.type IN ('IssuePriority') WHERE issues.status_id IN (SELECT id FROM issue_statuses WHERE is_closed = False) AND issues.assigned_to_id IN ('45');\n", "rewrite": "SELECT issues.* FROM issues INNER JOIN trackers ON trackers.id = issues.tracker_id INNER JOIN projects ON projects.id = issues.project_id INNER JOIN enumerations ON enumerations.id = issues.priority_id AND enumerations.type IN ('IssuePriority') WHERE issues.status_id IN (SELECT id FROM issue_statuses WHERE is_closed = False) AND issues.assigned_to_id IN ('45');\n", "t_db": 0.193, "t_rewrite": 0.1655, "t_db_constraint": 0.1845, "t_rewrite_constraint": 0.1595}
{"raw": "SELECT workflows.* FROM workflows WHERE workflows.type IN ('WorkflowPermission') AND workflows.tracker_id IS NULL AND workflows.old_status_id IS NULL AND workflows.role_id = 7754;\n", "rewrite": "SELECT workflows.* FROM workflows WHERE workflows.type IN ('WorkflowPermission') AND False AND workflows.old_status_id IS NULL AND workflows.role_id = 7754;\n", "t_db": 0.035, "t_rewrite": 0.017, "t_db_constraint": 0.035, "t_rewrite_constraint": 0.017}
{"raw": "SELECT 1 AS \"one\" FROM members WHERE members.user_id IS NULL AND members.project_id = 9275 LIMIT 8;\n", "rewrite": "SELECT 1 AS \"one\" FROM members WHERE False AND members.project_id = 9275 LIMIT 8;\n", "t_db": 0.037, "t_rewrite": 0.013, "t_db_constraint": 0.032, "t_rewrite_constraint": 0.013}
{"raw": "SELECT projects.* FROM projects WHERE projects.lft >= 1 AND projects.rgt <= 10 AND projects.status = 1 AND (SELECT 1 AS \"one\" FROM enabled_modules AS em WHERE em.project_id = projects.id AND em.name = 'issue_tracking') IS NOT NULL AND projects.is_public = True AND projects.id NOT IN (SELECT project_id FROM members WHERE user_id IN (7, 12)) AND projects.id IN (SELECT DISTINCT project_id FROM projects_trackers) ORDER BY projects.lft ASC;\n", "rewrite": "SELECT projects.* FROM projects WHERE projects.lft >= 1 AND projects.rgt <= 10 AND projects.status = 1 AND (SELECT 1 AS \"one\" FROM enabled_modules AS em WHERE em.project_id = projects.id AND em.name = 'issue_tracking') IS NOT NULL AND projects.is_public = True AND projects.id NOT IN (SELECT project_id FROM members WHERE user_id IN (7, 12)) AND projects.id IN (SELECT project_id FROM projects_trackers) ORDER BY projects.lft ASC;\n", "t_db": 9.167, "t_rewrite": 0.384, "t_db_constraint": 8.995, "t_rewrite_constraint": 0.356}
{"raw": "SELECT projects.* FROM projects WHERE projects.lft >= 1 AND projects.rgt <= 10 AND projects.status = 1 AND (SELECT 1 AS \"one\" FROM enabled_modules AS em WHERE em.project_id = projects.id AND em.name = 'issue_tracking') IS NOT NULL AND projects.is_public = True AND projects.id NOT IN (SELECT project_id FROM members WHERE user_id IN (6, 13)) AND projects.id IN (SELECT DISTINCT project_id FROM projects_trackers) ORDER BY projects.lft ASC;\n", "rewrite": "SELECT projects.* FROM projects WHERE projects.lft >= 1 AND projects.rgt <= 10 AND projects.status = 1 AND (SELECT 1 AS \"one\" FROM enabled_modules AS em WHERE em.project_id = projects.id AND em.name = 'issue_tracking') IS NOT NULL AND projects.is_public = True AND projects.id NOT IN (SELECT project_id FROM members WHERE user_id IN (6, 13)) AND projects.id IN (SELECT project_id FROM projects_trackers) ORDER BY projects.lft ASC;\n", "t_db": 9.119, "t_rewrite": 0.358, "t_db_constraint": 8.905, "t_rewrite_constraint": 0.339}
{"raw": "SELECT issues.* FROM issues INNER JOIN issue_statuses ON issue_statuses.id = issues.status_id INNER JOIN trackers ON trackers.id = issues.tracker_id INNER JOIN projects ON projects.id = issues.project_id INNER JOIN enumerations ON enumerations.id = issues.priority_id AND enumerations.type IN ('IssuePriority') WHERE issues.status_id IN (SELECT id FROM issue_statuses WHERE is_closed = False) AND issues.updated_on > '2011-07-10 19:13:51';\n", "rewrite": "SELECT issues.* FROM issues INNER JOIN trackers ON trackers.id = issues.tracker_id INNER JOIN projects ON projects.id = issues.project_id INNER JOIN enumerations ON enumerations.id = issues.priority_id AND enumerations.type IN ('IssuePriority') WHERE issues.status_id IN (SELECT id FROM issue_statuses WHERE is_closed = False) AND issues.updated_on > '2011-07-10 19:13:51';\n", "t_db": 34.849, "t_rewrite": 33.487, "t_db_constraint": 35.03, "t_rewrite_constraint": 32.882}
{"raw": "SELECT issues.* FROM issues INNER JOIN issue_statuses ON issue_statuses.id = issues.status_id INNER JOIN trackers ON trackers.id = issues.tracker_id INNER JOIN projects ON projects.id = issues.project_id INNER JOIN enumerations ON enumerations.id = issues.priority_id AND enumerations.type IN ('IssuePriority') WHERE issues.status_id IN (SELECT id FROM issue_statuses WHERE is_closed = False) AND issues.updated_on <= '2011-07-10 19:13:52';\n", "rewrite": "SELECT issues.* FROM issues INNER JOIN trackers ON trackers.id = issues.tracker_id INNER JOIN projects ON projects.id = issues.project_id INNER JOIN enumerations ON enumerations.id = issues.priority_id AND enumerations.type IN ('IssuePriority') WHERE issues.status_id IN (SELECT id FROM issue_statuses WHERE is_closed = False) AND issues.updated_on <= '2011-07-10 19:13:52';\n", "t_db": 2.441, "t_rewrite": 2.375, "t_db_constraint": 2.405, "t_rewrite_constraint": 2.358}
{"raw": "SELECT issues.* FROM issues INNER JOIN issue_statuses ON issue_statuses.id = issues.status_id INNER JOIN trackers ON trackers.id = issues.tracker_id INNER JOIN projects ON projects.id = issues.project_id INNER JOIN enumerations ON enumerations.id = issues.priority_id AND enumerations.type IN ('IssuePriority') WHERE issues.status_id IN (SELECT id FROM issue_statuses WHERE is_closed = False) AND issues.assigned_to_id IN ('25', '26', '29');\n", "rewrite": "SELECT issues.* FROM issues INNER JOIN trackers ON trackers.id = issues.tracker_id INNER JOIN projects ON projects.id = issues.project_id INNER JOIN enumerations ON enumerations.id = issues.priority_id AND enumerations.type IN ('IssuePriority') WHERE issues.status_id IN (SELECT id FROM issue_statuses WHERE is_closed = False) AND issues.assigned_to_id IN ('25', '26', '29');\n", "t_db": 0.223, "t_rewrite": 0.175, "t_db_constraint": 0.197, "t_rewrite_constraint": 0.171}
{"raw": "SELECT DISTINCT users.* FROM users INNER JOIN members ON members.user_id = users.id WHERE users.type IN ('User', 'AnonymousUser') AND users.status = 2 AND members.project_id = 3;\n", "rewrite": "SELECT users.* FROM users INNER JOIN members ON members.user_id = users.id WHERE users.type IN ('User', 'AnonymousUser') AND users.status = 2 AND members.project_id = 3;\n", "t_db": 0.159, "t_rewrite": 0.062, "t_db_constraint": 0.155, "t_rewrite_constraint": 0.061}
{"raw": "SELECT issues.* FROM issues INNER JOIN issue_statuses ON issue_statuses.id = issues.status_id INNER JOIN trackers ON trackers.id = issues.tracker_id INNER JOIN projects ON projects.id = issues.project_id INNER JOIN enumerations ON enumerations.id = issues.priority_id AND enumerations.type IN ('IssuePriority') WHERE issues.status_id IN (SELECT id FROM issue_statuses WHERE is_closed = False) AND issues.due_date > '2011-07-09 23:59:59.999999';\n", "rewrite": "SELECT issues.* FROM issues INNER JOIN trackers ON trackers.id = issues.tracker_id INNER JOIN projects ON projects.id = issues.project_id INNER JOIN enumerations ON enumerations.id = issues.priority_id AND enumerations.type IN ('IssuePriority') WHERE issues.status_id IN (SELECT id FROM issue_statuses WHERE is_closed = False) AND issues.due_date > '2011-07-09 23:59:59.999999';\n", "t_db": 10.06, "t_rewrite": 9.656, "t_db_constraint": 9.944, "t_rewrite_constraint": 9.541}
{"raw": "SELECT issues.* FROM issues INNER JOIN issue_statuses ON issue_statuses.id = issues.status_id INNER JOIN trackers ON trackers.id = issues.tracker_id INNER JOIN projects ON projects.id = issues.project_id INNER JOIN enumerations ON enumerations.id = issues.priority_id AND enumerations.type IN ('IssuePriority') WHERE issues.status_id IN (SELECT id FROM issue_statuses WHERE is_closed = False) AND issues.due_date <= '2011-07-10 23:59:59.999999';\n", "rewrite": "SELECT issues.* FROM issues INNER JOIN trackers ON trackers.id = issues.tracker_id INNER JOIN projects ON projects.id = issues.project_id INNER JOIN enumerations ON enumerations.id = issues.priority_id AND enumerations.type IN ('IssuePriority') WHERE issues.status_id IN (SELECT id FROM issue_statuses WHERE is_closed = False) AND issues.due_date <= '2011-07-10 23:59:59.999999';\n", "t_db": 2.501, "t_rewrite": 2.404, "t_db_constraint": 2.467, "t_rewrite_constraint": 2.406}
{"raw": "SELECT DISTINCT users.* FROM users INNER JOIN members ON members.user_id = users.id WHERE users.type IN ('User', 'AnonymousUser') AND users.status = 2 AND members.project_id = 6;\n", "rewrite": "SELECT users.* FROM users INNER JOIN members ON members.user_id = users.id WHERE users.type IN ('User', 'AnonymousUser') AND users.status = 2 AND members.project_id = 6;\n", "t_db": 0.165, "t_rewrite": 0.061, "t_db_constraint": 0.16, "t_rewrite_constraint": 0.061}
{"raw": "SELECT issues.* FROM issues INNER JOIN issue_statuses ON issue_statuses.id = issues.status_id INNER JOIN trackers ON trackers.id = issues.tracker_id INNER JOIN projects ON projects.id = issues.project_id INNER JOIN enumerations ON enumerations.id = issues.priority_id AND enumerations.type IN ('IssuePriority') WHERE issues.status_id IN (SELECT id FROM issue_statuses WHERE is_closed = False) AND issues.estimated_hours BETWEEN 171.19998999999999 AND 171.20001;\n", "rewrite": "SELECT issues.* FROM issues INNER JOIN trackers ON trackers.id = issues.tracker_id INNER JOIN projects ON projects.id = issues.project_id INNER JOIN enumerations ON enumerations.id = issues.priority_id AND enumerations.type IN ('IssuePriority') WHERE issues.status_id IN (SELECT id FROM issue_statuses WHERE is_closed = False) AND issues.estimated_hours BETWEEN 171.19998999999999 AND 171.20001;\n", "t_db": 2.432, "t_rewrite": 2.378, "t_db_constraint": 2.396, "t_rewrite_constraint": 2.361}
{"raw": "SELECT DISTINCT users.* FROM users INNER JOIN members ON members.user_id = users.id WHERE users.type IN ('User', 'AnonymousUser') AND users.status = 2 AND members.project_id = 4;\n", "rewrite": "SELECT users.* FROM users INNER JOIN members ON members.user_id = users.id WHERE users.type IN ('User', 'AnonymousUser') AND users.status = 2 AND members.project_id = 4;\n", "t_db": 0.14, "t_rewrite": 0.036, "t_db_constraint": 0.134, "t_rewrite_constraint": 0.036}
{"raw": "SELECT DISTINCT users.* FROM users INNER JOIN members ON members.user_id = users.id WHERE users.type IN ('User', 'AnonymousUser') AND users.status = 2 AND members.project_id = 5;\n", "rewrite": "SELECT users.* FROM users INNER JOIN members ON members.user_id = users.id WHERE users.type IN ('User', 'AnonymousUser') AND users.status = 2 AND members.project_id = 5;\n", "t_db": 0.163, "t_rewrite": 0.068, "t_db_constraint": 0.161, "t_rewrite_constraint": 0.069}
{"raw": "SELECT DISTINCT users.* FROM users INNER JOIN members ON members.user_id = users.id WHERE users.type IN ('User', 'AnonymousUser') AND users.status = 1 AND members.project_id = 2;\n", "rewrite": "SELECT users.* FROM users INNER JOIN members ON members.user_id = users.id WHERE users.type IN ('User', 'AnonymousUser') AND users.status = 1 AND members.project_id = 2;\n", "t_db": 0.157, "t_rewrite": 0.066, "t_db_constraint": 0.154, "t_rewrite_constraint": 0.068}
{"raw": "SELECT DISTINCT users.* FROM users INNER JOIN members ON members.user_id = users.id WHERE users.type IN ('User', 'AnonymousUser') AND users.status = 2 AND members.project_id = 1;\n", "rewrite": "SELECT users.* FROM users INNER JOIN members ON members.user_id = users.id WHERE users.type IN ('User', 'AnonymousUser') AND users.status = 2 AND members.project_id = 1;\n", "t_db": 0.153, "t_rewrite": 0.062, "t_db_constraint": 0.151, "t_rewrite_constraint": 0.063}
{"raw": "SELECT 1 AS \"one\" FROM wiki_pages WHERE wiki_pages.title IS NULL AND wiki_pages.wiki_id = 18120 LIMIT 10;\n", "rewrite": "SELECT 1 AS \"one\" FROM wiki_pages WHERE False AND wiki_pages.wiki_id = 18120 LIMIT 10;\n", "t_db": 0.032, "t_rewrite": 0.013, "t_db_constraint": 0.032, "t_rewrite_constraint": 0.015}
{"raw": "SELECT workflows.* FROM workflows WHERE workflows.type IN ('WorkflowPermission') AND workflows.tracker_id IS NULL AND workflows.old_status_id IS NULL AND workflows.role_id IN (3342, 3688, 42, 563);\n", "rewrite": "SELECT workflows.* FROM workflows WHERE workflows.type IN ('WorkflowPermission') AND False AND workflows.old_status_id IS NULL AND workflows.role_id IN (9495, 7512, 3342, 3688);\n", "t_db": 0.028, "t_rewrite": 0.015, "t_db_constraint": 0.027, "t_rewrite_constraint": 0.015}
{"raw": "SELECT DISTINCT users.* FROM users INNER JOIN members ON members.user_id = users.id WHERE users.status = 1 AND members.project_id = 1 AND users.status = 1 AND users.type IN ('User', 'User') LIMIT 4;\n", "rewrite": "SELECT users.* FROM users INNER JOIN members ON members.user_id = users.id WHERE users.status = 1 AND members.project_id = 1 AND users.status = 1 AND users.type IN ('User', 'User') LIMIT 4;\n", "t_db": 0.166, "t_rewrite": 0.07, "t_db_constraint": 0.163, "t_rewrite_constraint": 0.069}
{"raw": "SELECT members.* FROM members INNER JOIN projects ON projects.id = members.project_id WHERE members.user_id = 3166 AND projects.status <> 9 AND members.project_id IS NULL ORDER BY members.id ASC LIMIT 3;\n", "rewrite": "SELECT members.* FROM members INNER JOIN projects ON projects.id = members.project_id WHERE members.user_id = 3166 AND projects.status <> 9 AND False ORDER BY members.id ASC LIMIT 3;\n", "t_db": 0.066, "t_rewrite": 0.051, "t_db_constraint": 0.067, "t_rewrite_constraint": 0.047}
{"raw": "SELECT time_entries.* FROM time_entries WHERE time_entries.issue_id IS NULL ORDER BY time_entries.id ASC LIMIT 5;\n", "rewrite": "SELECT time_entries.* FROM time_entries WHERE False ORDER BY time_entries.id ASC LIMIT 5;\n", "t_db": 0.04, "t_rewrite": 0.039, "t_db_constraint": 0.042, "t_rewrite_constraint": 0.04}
{"raw": "SELECT DISTINCT users.* FROM users INNER JOIN members ON members.user_id = users.id WHERE users.status = 2 AND members.project_id = 1 AND users.status = 2 AND users.status = 2 AND users.type IN ('User', 'User');\n", "rewrite": "SELECT users.* FROM users INNER JOIN members ON members.user_id = users.id WHERE users.status = 2 AND members.project_id = 1 AND users.status = 2 AND users.status = 2 AND users.type IN ('User', 'User');\n", "t_db": 0.164, "t_rewrite": 0.054, "t_db_constraint": 0.158, "t_rewrite_constraint": 0.055}
{"raw": "SELECT DISTINCT users.* FROM users INNER JOIN members ON members.user_id = users.id WHERE users.status = 1 AND members.project_id = 1 AND users.status = 1 AND users.status = 1 AND users.type IN ('User', 'User') LIMIT 8;\n", "rewrite": "SELECT users.* FROM users INNER JOIN members ON members.user_id = users.id WHERE users.status = 1 AND members.project_id = 1 AND users.status = 1 AND users.status = 1 AND users.type IN ('User', 'User') LIMIT 8;\n", "t_db": 0.162, "t_rewrite": 0.063, "t_db_constraint": 0.159, "t_rewrite_constraint": 0.063}
{"raw": "SELECT issues.* FROM issues INNER JOIN issue_statuses ON issue_statuses.id = issues.status_id INNER JOIN trackers ON trackers.id = issues.tracker_id INNER JOIN projects ON projects.id = issues.project_id INNER JOIN enumerations ON enumerations.id = issues.priority_id AND enumerations.type IN ('IssuePriority') WHERE issues.status_id IN (SELECT id FROM issue_statuses WHERE is_closed = False) AND issues.start_date IS NULL AND projects.lft >= 1 AND projects.rgt <= 10;\n", "rewrite": "SELECT issues.* FROM issues INNER JOIN issue_statuses ON issue_statuses.id = issues.status_id INNER JOIN trackers ON trackers.id = issues.tracker_id INNER JOIN projects ON projects.id = issues.project_id INNER JOIN enumerations ON enumerations.id = issues.priority_id AND enumerations.type IN ('IssuePriority') WHERE issues.status_id IN (SELECT id FROM issue_statuses WHERE is_closed = False) AND False AND projects.lft >= 1 AND projects.rgt <= 10;\n", "t_db": 0.598, "t_rewrite": 0.024, "t_db_constraint": 0.577, "t_rewrite_constraint": 0.025}
{"raw": "SELECT issues.* FROM issues INNER JOIN issue_statuses ON issue_statuses.id = issues.status_id INNER JOIN trackers ON trackers.id = issues.tracker_id INNER JOIN projects ON projects.id = issues.project_id INNER JOIN enumerations ON enumerations.id = issues.priority_id AND enumerations.type IN ('IssuePriority') WHERE issues.status_id IN (SELECT id FROM issue_statuses WHERE is_closed = False) AND (issues.assigned_to_id IS NULL OR issues.assigned_to_id NOT IN ('38'));\n", "rewrite": "SELECT issues.* FROM issues INNER JOIN trackers ON trackers.id = issues.tracker_id INNER JOIN projects ON projects.id = issues.project_id INNER JOIN enumerations ON enumerations.id = issues.priority_id AND enumerations.type IN ('IssuePriority') WHERE issues.status_id IN (SELECT id FROM issue_statuses WHERE is_closed = False) AND (issues.assigned_to_id IS NULL OR issues.assigned_to_id NOT IN ('38'));\n", "t_db": 34.873, "t_rewrite": 33.295, "t_db_constraint": 34.996, "t_rewrite_constraint": 33.008}
{"raw": "SELECT issues.* FROM issues INNER JOIN issue_statuses ON issue_statuses.id = issues.status_id INNER JOIN trackers ON trackers.id = issues.tracker_id INNER JOIN projects ON projects.id = issues.project_id INNER JOIN enumerations ON enumerations.id = issues.priority_id AND enumerations.type IN ('IssuePriority') WHERE issues.status_id IN (SELECT id FROM issue_statuses WHERE is_closed = False) AND issues.start_date IS NOT NULL AND projects.lft >= 1 AND projects.rgt <= 10;\n", "rewrite": "SELECT issues.* FROM issues INNER JOIN trackers ON trackers.id = issues.tracker_id INNER JOIN projects ON projects.id = issues.project_id INNER JOIN enumerations ON enumerations.id = issues.priority_id AND enumerations.type IN ('IssuePriority') WHERE issues.status_id IN (SELECT id FROM issue_statuses WHERE is_closed = False) AND issues.start_date IS NOT NULL AND projects.lft >= 1 AND projects.rgt <= 10;\n", "t_db": 0.737, "t_rewrite": 0.645, "t_db_constraint": 0.719, "t_rewrite_constraint": 0.642}
{"raw": "SELECT issues.* FROM issues INNER JOIN issue_statuses ON issue_statuses.id = issues.status_id INNER JOIN trackers ON trackers.id = issues.tracker_id INNER JOIN projects ON projects.id = issues.project_id INNER JOIN enumerations ON enumerations.id = issues.priority_id AND enumerations.type IN ('IssuePriority') WHERE issues.status_id IN (SELECT id FROM issue_statuses WHERE is_closed = False) AND issues.estimated_hours >= 40.5 AND projects.lft >= 1 AND projects.rgt <= 10;\n", "rewrite": "SELECT issues.* FROM issues INNER JOIN trackers ON trackers.id = issues.tracker_id INNER JOIN projects ON projects.id = issues.project_id INNER JOIN enumerations ON enumerations.id = issues.priority_id AND enumerations.type IN ('IssuePriority') WHERE issues.status_id IN (SELECT id FROM issue_statuses WHERE is_closed = False) AND issues.estimated_hours >= 40.5 AND projects.lft >= 1 AND projects.rgt <= 10;\n", "t_db": 0.583, "t_rewrite": 0.553, "t_db_constraint": 0.583, "t_rewrite_constraint": 0.554}
{"raw": "SELECT issues.* FROM issues INNER JOIN issue_statuses ON issue_statuses.id = issues.status_id INNER JOIN trackers ON trackers.id = issues.tracker_id INNER JOIN projects ON projects.id = issues.project_id INNER JOIN enumerations ON enumerations.id = issues.priority_id AND enumerations.type IN ('IssuePriority') WHERE issues.status_id IN (SELECT id FROM issue_statuses WHERE is_closed = False) AND issues.estimated_hours IS NULL AND projects.lft >= 1 AND projects.rgt <= 10;\n", "rewrite": "SELECT issues.* FROM issues INNER JOIN trackers ON trackers.id = issues.tracker_id INNER JOIN projects ON projects.id = issues.project_id INNER JOIN enumerations ON enumerations.id = issues.priority_id AND enumerations.type IN ('IssuePriority') WHERE issues.status_id IN (SELECT id FROM issue_statuses WHERE is_closed = False) AND issues.estimated_hours IS NULL AND projects.lft >= 1 AND projects.rgt <= 10;\n", "t_db": 0.7, "t_rewrite": 0.601, "t_db_constraint": 0.665, "t_rewrite_constraint": 0.609}
{"raw": "SELECT projects.id, projects.name, projects.identifier, projects.lft, projects.rgt FROM projects INNER JOIN members ON projects.id = members.project_id WHERE members.user_id = 3629 AND projects.status <> 9 AND projects.status = 9;\n", "rewrite": "SELECT projects.id, projects.name, projects.identifier, projects.lft, projects.rgt FROM projects WHERE projects.status <> 9 AND projects.status = 9 LIMIT 1;\n", "t_db": 0.078, "t_rewrite": 19.06, "t_db_constraint": 0.076, "t_rewrite_constraint": 19.717}
{"raw": "SELECT DISTINCT users.* FROM users INNER JOIN email_addresses ON email_addresses.user_id = users.id WHERE users.type IN ('User', 'AnonymousUser') AND users.status = 1 AND LOWER(email_addresses.address) IN ('r@mycompanyname.com');\n", "rewrite": "SELECT users.* FROM users INNER JOIN email_addresses ON email_addresses.user_id = users.id WHERE users.type IN ('User', 'AnonymousUser') AND users.status = 1 AND LOWER(email_addresses.address) IN ('r@mycompanyname.com');\n", "t_db": 3.219, "t_rewrite": 3.128, "t_db_constraint": 3.195, "t_rewrite_constraint": 3.127}
{"raw": "SELECT issues.* FROM issues INNER JOIN issue_statuses ON issue_statuses.id = issues.status_id INNER JOIN trackers ON trackers.id = issues.tracker_id INNER JOIN projects ON projects.id = issues.project_id INNER JOIN enumerations ON enumerations.id = issues.priority_id AND enumerations.type IN ('IssuePriority') WHERE issues.status_id IN (SELECT id FROM issue_statuses WHERE is_closed = False) AND (issues.assigned_to_id IS NULL OR issues.assigned_to_id NOT IN ('58', '59', '60', '62', '63'));\n", "rewrite": "SELECT issues.* FROM issues INNER JOIN trackers ON trackers.id = issues.tracker_id INNER JOIN projects ON projects.id = issues.project_id INNER JOIN enumerations ON enumerations.id = issues.priority_id AND enumerations.type IN ('IssuePriority') WHERE issues.status_id IN (SELECT id FROM issue_statuses WHERE is_closed = False) AND (issues.assigned_to_id IS NULL OR issues.assigned_to_id NOT IN ('58', '59', '60', '62', '63'));\n", "t_db": 34.951, "t_rewrite": 33.215, "t_db_constraint": 35.067, "t_rewrite_constraint": 33.017}
{"raw": "SELECT issues.* FROM issues INNER JOIN issue_statuses ON issue_statuses.id = issues.status_id INNER JOIN trackers ON trackers.id = issues.tracker_id INNER JOIN projects ON projects.id = issues.project_id INNER JOIN enumerations ON enumerations.id = issues.priority_id AND enumerations.type IN ('IssuePriority') WHERE issues.status_id IN (SELECT id FROM issue_statuses WHERE is_closed = False) AND issues.due_date > '2022-02-27 23:59:59.999999' AND projects.lft >= 1 AND projects.rgt <= 10;\n", "rewrite": "SELECT issues.* FROM issues INNER JOIN trackers ON trackers.id = issues.tracker_id INNER JOIN projects ON projects.id = issues.project_id INNER JOIN enumerations ON enumerations.id = issues.priority_id AND enumerations.type IN ('IssuePriority') WHERE issues.status_id IN (SELECT id FROM issue_statuses WHERE is_closed = False) AND issues.due_date > '2022-02-27 23:59:59.999999' AND projects.lft >= 1 AND projects.rgt <= 10;\n", "t_db": 0.665, "t_rewrite": 0.619, "t_db_constraint": 0.654, "t_rewrite_constraint": 0.619}
{"raw": "SELECT DISTINCT users.* FROM users INNER JOIN members ON members.user_id = users.id WHERE users.type IN ('User', 'AnonymousUser') AND users.status = 1 AND members.project_id = 2 ORDER BY users.firstname, users.lastname, users.id;\n", "rewrite": "SELECT users.* FROM users INNER JOIN members ON members.user_id = users.id WHERE users.type IN ('User', 'AnonymousUser') AND users.status = 1 AND members.project_id = 2 ORDER BY users.firstname, users.lastname, users.id;\n", "t_db": 0.165, "t_rewrite": 0.084, "t_db_constraint": 0.163, "t_rewrite_constraint": 0.084}
{"raw": "SELECT issues.* FROM issues INNER JOIN issue_statuses ON issue_statuses.id = issues.status_id INNER JOIN trackers ON trackers.id = issues.tracker_id INNER JOIN projects ON projects.id = issues.project_id INNER JOIN enumerations ON enumerations.id = issues.priority_id AND enumerations.type IN ('IssuePriority') WHERE issues.status_id IN (SELECT id FROM issue_statuses WHERE is_closed = False) AND issues.due_date > '2022-02-09 23:59:59.999999' AND projects.lft >= 1 AND projects.rgt <= 10;\n", "rewrite": "SELECT issues.* FROM issues INNER JOIN trackers ON trackers.id = issues.tracker_id INNER JOIN projects ON projects.id = issues.project_id INNER JOIN enumerations ON enumerations.id = issues.priority_id AND enumerations.type IN ('IssuePriority') WHERE issues.status_id IN (SELECT id FROM issue_statuses WHERE is_closed = False) AND issues.due_date > '2022-02-09 23:59:59.999999' AND projects.lft >= 1 AND projects.rgt <= 10;\n", "t_db": 0.635, "t_rewrite": 0.588, "t_db_constraint": 0.613, "t_rewrite_constraint": 0.594}
{"raw": "SELECT issues.* FROM issues INNER JOIN issue_statuses ON issue_statuses.id = issues.status_id INNER JOIN trackers ON trackers.id = issues.tracker_id INNER JOIN projects ON projects.id = issues.project_id INNER JOIN enumerations ON enumerations.id = issues.priority_id AND enumerations.type IN ('IssuePriority') WHERE issues.status_id IN (SELECT id FROM issue_statuses WHERE is_closed = False) AND issues.due_date <= '2022-02-28 23:59:59.999999' AND projects.lft >= 1 AND projects.rgt <= 10;\n", "rewrite": "SELECT issues.* FROM issues INNER JOIN trackers ON trackers.id = issues.tracker_id INNER JOIN projects ON projects.id = issues.project_id INNER JOIN enumerations ON enumerations.id = issues.priority_id AND enumerations.type IN ('IssuePriority') WHERE issues.status_id IN (SELECT id FROM issue_statuses WHERE is_closed = False) AND issues.due_date <= '2022-02-28 23:59:59.999999' AND projects.lft >= 1 AND projects.rgt <= 10;\n", "t_db": 0.628, "t_rewrite": 0.574, "t_db_constraint": 0.599, "t_rewrite_constraint": 0.573}
{"raw": "SELECT issues.* FROM issues INNER JOIN issue_statuses ON issue_statuses.id = issues.status_id INNER JOIN trackers ON trackers.id = issues.tracker_id INNER JOIN projects ON projects.id = issues.project_id INNER JOIN enumerations ON enumerations.id = issues.priority_id AND enumerations.type IN ('IssuePriority') WHERE issues.status_id IN (SELECT id FROM issue_statuses WHERE is_closed = False) AND issues.due_date <= '2022-02-03 23:59:59.999999' AND projects.lft >= 1 AND projects.rgt <= 10;\n", "rewrite": "SELECT issues.* FROM issues INNER JOIN trackers ON trackers.id = issues.tracker_id INNER JOIN projects ON projects.id = issues.project_id INNER JOIN enumerations ON enumerations.id = issues.priority_id AND enumerations.type IN ('IssuePriority') WHERE issues.status_id IN (SELECT id FROM issue_statuses WHERE is_closed = False) AND issues.due_date <= '2022-02-03 23:59:59.999999' AND projects.lft >= 1 AND projects.rgt <= 10;\n", "t_db": 0.619, "t_rewrite": 0.567, "t_db_constraint": 0.598, "t_rewrite_constraint": 0.57}
{"raw": "SELECT custom_fields.* FROM custom_fields WHERE custom_fields.type IN ('IssueCustomField') AND (is_for_all = True OR id IN (SELECT DISTINCT cfp.custom_field_id FROM custom_fields_projects AS cfp WHERE cfp.project_id = 2)) AND (custom_fields.visible = True OR custom_fields.id IN (SELECT DISTINCT cfr.custom_field_id FROM members AS m INNER JOIN member_roles AS mr ON mr.member_id = m.id INNER JOIN custom_fields_roles AS cfr ON cfr.role_id = mr.role_id WHERE m.user_id = 2)) ORDER BY custom_fields.position ASC;\n", "rewrite": "SELECT custom_fields.* FROM custom_fields WHERE custom_fields.type IN ('IssueCustomField') AND (is_for_all = True OR id IN (SELECT cfp.custom_field_id FROM custom_fields_projects AS cfp WHERE cfp.project_id = 2)) AND (custom_fields.visible = True OR custom_fields.id IN (SELECT cfr.custom_field_id FROM members AS m INNER JOIN member_roles AS mr ON mr.member_id = m.id INNER JOIN custom_fields_roles AS cfr ON cfr.role_id = mr.role_id WHERE m.user_id = 2)) ORDER BY custom_fields.position ASC;\n", "t_db": 0.984, "t_rewrite": 0.148, "t_db_constraint": 0.983, "t_rewrite_constraint": 0.142}
{"raw": "SELECT issues.* FROM issues INNER JOIN issue_statuses ON issue_statuses.id = issues.status_id INNER JOIN trackers ON trackers.id = issues.tracker_id INNER JOIN projects ON projects.id = issues.project_id INNER JOIN enumerations ON enumerations.id = issues.priority_id AND enumerations.type IN ('IssuePriority') WHERE issues.status_id IN (SELECT id FROM issue_statuses WHERE is_closed = False) AND issues.due_date > '2011-07-09 23:59:59.999999' AND issues.due_date <= '2011-07-10 23:59:59.999999';\n", "rewrite": "SELECT issues.* FROM issues INNER JOIN trackers ON trackers.id = issues.tracker_id INNER JOIN projects ON projects.id = issues.project_id INNER JOIN enumerations ON enumerations.id = issues.priority_id AND enumerations.type IN ('IssuePriority') WHERE issues.status_id IN (SELECT id FROM issue_statuses WHERE is_closed = False) AND issues.due_date > '2011-07-09 23:59:59.999999' AND issues.due_date <= '2011-07-10 23:59:59.999999';\n", "t_db": 2.095, "t_rewrite": 2.053, "t_db_constraint": 2.064, "t_rewrite_constraint": 2.045}
{"raw": "SELECT 1 AS \"one\" FROM wiki_pages WHERE LOWER(wiki_pages.title) = 'Qzlijfdqgpyxgjuqryyplmwfkukvbgatueznstonwbexdkhdrcgqmtutxuyaevdukfmprjcgmapyrmduaibdkctcdxsbostmhsgqjlcwprmacglpukzhneqdvpcppyidmwbcjzytzqhxvncbdsjbxfbcpvxgulaeoxysovpzkbdiwocrpgxdtriouynnhskepaixqjjybphsoltylpvnxqmmzopgihflkxgepkabnwxbbok' AND wiki_pages.wiki_id IS NULL LIMIT 2;\n", "rewrite": "SELECT 1 AS \"one\" FROM wiki_pages WHERE LOWER(wiki_pages.title) = 'Qzlijfdqgpyxgjuqryyplmwfkukvbgatueznstonwbexdkhdrcgqmtutxuyaevdukfmprjcgmapyrmduaibdkctcdxsbostmhsgqjlcwprmacglpukzhneqdvpcppyidmwbcjzytzqhxvncbdsjbxfbcpvxgulaeoxysovpzkbdiwocrpgxdtriouynnhskepaixqjjybphsoltylpvnxqmmzopgihflkxgepkabnwxbbok' AND False LIMIT 2;\n", "t_db": 0.03, "t_rewrite": 0.013, "t_db_constraint": 0.034, "t_rewrite_constraint": 0.013}
{"raw": "SELECT DISTINCT users.* FROM users INNER JOIN email_addresses ON email_addresses.user_id = users.id WHERE users.type IN ('User', 'AnonymousUser') AND users.status = 2 AND LOWER(email_addresses.address) IN ('redmine@somenet.foo');\n", "rewrite": "SELECT users.* FROM users INNER JOIN email_addresses ON email_addresses.user_id = users.id WHERE users.type IN ('User', 'AnonymousUser') AND users.status = 2 AND LOWER(email_addresses.address) IN ('redmine@somenet.foo');\n", "t_db": 3.224, "t_rewrite": 3.119, "t_db_constraint": 3.196, "t_rewrite_constraint": 3.115}
{"raw": "SELECT issues.* FROM issues INNER JOIN issue_statuses ON issue_statuses.id = issues.status_id INNER JOIN trackers ON trackers.id = issues.tracker_id INNER JOIN projects ON projects.id = issues.project_id INNER JOIN enumerations ON enumerations.id = issues.priority_id AND enumerations.type IN ('IssuePriority') WHERE issues.status_id IN (SELECT id FROM issue_statuses WHERE is_closed = False) AND issues.due_date > '2011-06-22 23:59:59.999999' AND issues.due_date <= '2011-07-10 23:59:59.999999';\n", "rewrite": "SELECT issues.* FROM issues INNER JOIN trackers ON trackers.id = issues.tracker_id INNER JOIN projects ON projects.id = issues.project_id INNER JOIN enumerations ON enumerations.id = issues.priority_id AND enumerations.type IN ('IssuePriority') WHERE issues.status_id IN (SELECT id FROM issue_statuses WHERE is_closed = False) AND issues.due_date > '2011-06-22 23:59:59.999999' AND issues.due_date <= '2011-07-10 23:59:59.999999';\n", "t_db": 2.091, "t_rewrite": 2.058, "t_db_constraint": 2.061, "t_rewrite_constraint": 2.042}
{"raw": "SELECT DISTINCT users.* FROM users INNER JOIN members ON members.user_id = users.id WHERE users.type IN ('User', 'AnonymousUser') AND users.status = 1 AND members.project_id = 1 ORDER BY users.firstname, users.lastname, users.id;\n", "rewrite": "SELECT users.* FROM users INNER JOIN members ON members.user_id = users.id WHERE users.type IN ('User', 'AnonymousUser') AND users.status = 1 AND members.project_id = 1 ORDER BY users.firstname, users.lastname, users.id;\n", "t_db": 0.157, "t_rewrite": 0.08, "t_db_constraint": 0.155, "t_rewrite_constraint": 0.081}
{"raw": "SELECT DISTINCT users.* FROM users INNER JOIN members ON members.user_id = users.id WHERE users.type IN ('User', 'AnonymousUser') AND users.status = 1 AND members.project_id = 72 ORDER BY users.firstname, users.lastname, users.id;\n", "rewrite": "SELECT users.* FROM users INNER JOIN members ON members.user_id = users.id WHERE users.type IN ('User', 'AnonymousUser') AND users.status = 1 AND members.project_id = 72 ORDER BY users.firstname, users.lastname, users.id;\n", "t_db": 0.136, "t_rewrite": 0.06, "t_db_constraint": 0.138, "t_rewrite_constraint": 0.062}
{"raw": "SELECT queries.* FROM queries LEFT OUTER JOIN projects ON queries.project_id = projects.id WHERE queries.type IN ('IssueQuery') AND (queries.project_id IS NULL OR projects.status <> 9 AND (SELECT 1 AS \"one\" FROM enabled_modules AS em WHERE em.project_id = projects.id AND em.name = 'issue_tracking') IS NOT NULL AND projects.is_public = True AND projects.id NOT IN (SELECT project_id FROM members WHERE user_id IN (6, 13))) AND queries.visibility = 2 AND queries.project_id IS NULL ORDER BY queries.name ASC, queries.id ASC;\n", "rewrite": "SELECT queries.* FROM queries LEFT OUTER JOIN projects ON queries.project_id = projects.id WHERE queries.type IN ('IssueQuery') AND (queries.project_id IS NULL OR projects.status <> 9 AND (SELECT 1 AS \"one\" FROM enabled_modules AS em WHERE em.project_id = projects.id AND em.name = 'issue_tracking') IS NOT NULL AND projects.is_public = True AND projects.id NOT IN (SELECT project_id FROM members WHERE user_id IN (6, 13) LIMIT 1)) AND queries.visibility = 2 AND queries.project_id IS NULL ORDER BY queries.name ASC, queries.id ASC;\n", "t_db": 2.098, "t_rewrite": 2.053, "t_db_constraint": 2.03, "t_rewrite_constraint": 2.053}
{"raw": "SELECT queries.* FROM queries LEFT OUTER JOIN projects ON queries.project_id = projects.id WHERE queries.type IN ('TimeEntryQuery') AND (queries.project_id IS NULL OR projects.status <> 9 AND (SELECT 1 AS \"one\" FROM enabled_modules AS em WHERE em.project_id = projects.id AND em.name = 'time_tracking') IS NOT NULL AND projects.is_public = True AND projects.id NOT IN (SELECT project_id FROM members WHERE user_id IN (6, 13))) AND queries.visibility = 2 AND queries.project_id IS NULL ORDER BY queries.name ASC, queries.id ASC;\n", "rewrite": "SELECT queries.* FROM queries LEFT OUTER JOIN projects ON queries.project_id = projects.id WHERE queries.type IN ('TimeEntryQuery') AND (queries.project_id IS NULL OR projects.status <> 9 AND (SELECT 1 AS \"one\" FROM enabled_modules AS em WHERE em.project_id = projects.id AND em.name = 'time_tracking') IS NOT NULL AND projects.is_public = True AND projects.id NOT IN (SELECT project_id FROM members WHERE user_id IN (6, 13) LIMIT 1)) AND queries.visibility = 2 AND queries.project_id IS NULL ORDER BY queries.name ASC, queries.id ASC;\n", "t_db": 2.055, "t_rewrite": 2.023, "t_db_constraint": 1.981, "t_rewrite_constraint": 2.016}
{"raw": "SELECT DISTINCT users.* FROM users INNER JOIN email_addresses ON email_addresses.user_id = users.id WHERE users.type IN ('User', 'AnonymousUser') AND users.status = 1 AND LOWER(email_addresses.address) IN ('testuser@example.org');\n", "rewrite": "SELECT users.* FROM users INNER JOIN email_addresses ON email_addresses.user_id = users.id WHERE users.type IN ('User', 'AnonymousUser') AND users.status = 1 AND LOWER(email_addresses.address) IN ('testuser@example.org');\n", "t_db": 3.222, "t_rewrite": 3.132, "t_db_constraint": 3.203, "t_rewrite_constraint": 3.128}
{"raw": "SELECT DISTINCT users.* FROM users INNER JOIN email_addresses ON email_addresses.user_id = users.id WHERE users.type IN ('User', 'AnonymousUser') AND LOWER(email_addresses.address) IN ('foo@bar.net') ORDER BY users.id ASC LIMIT 4;\n", "rewrite": "SELECT users.* FROM users INNER JOIN email_addresses ON email_addresses.user_id = users.id WHERE users.type IN ('User', 'AnonymousUser') AND LOWER(email_addresses.address) IN ('foo@bar.net') ORDER BY users.id ASC LIMIT 4;\n", "t_db": 5.016, "t_rewrite": 4.925, "t_db_constraint": 4.977, "t_rewrite_constraint": 4.906}
{"raw": "SELECT custom_fields.* FROM custom_fields WHERE custom_fields.type IN ('IssueCustomField') AND (is_for_all = True OR id IN (SELECT DISTINCT cfp.custom_field_id FROM custom_fields_projects AS cfp WHERE cfp.project_id = 2)) AND (custom_fields.visible = True OR custom_fields.id IN (SELECT DISTINCT cfr.custom_field_id FROM members AS m INNER JOIN member_roles AS mr ON mr.member_id = m.id INNER JOIN custom_fields_roles AS cfr ON cfr.role_id = mr.role_id WHERE m.user_id = 2)) AND custom_fields.is_filter = True ORDER BY custom_fields.position ASC;\n", "rewrite": "SELECT custom_fields.* FROM custom_fields WHERE custom_fields.type IN ('IssueCustomField') AND (is_for_all = True OR id IN (SELECT cfp.custom_field_id FROM custom_fields_projects AS cfp WHERE cfp.project_id = 2)) AND (custom_fields.visible = True OR custom_fields.id IN (SELECT cfr.custom_field_id FROM members AS m INNER JOIN member_roles AS mr ON mr.member_id = m.id INNER JOIN custom_fields_roles AS cfr ON cfr.role_id = mr.role_id WHERE m.user_id = 2)) AND custom_fields.is_filter = True ORDER BY custom_fields.position ASC;\n", "t_db": 1.056, "t_rewrite": 0.152, "t_db_constraint": 1.049, "t_rewrite_constraint": 0.145}
{"raw": "SELECT DISTINCT users.* FROM users INNER JOIN email_addresses ON email_addresses.user_id = users.id WHERE users.type IN ('User', 'AnonymousUser') AND LOWER(email_addresses.address) IN ('foo@example.com') ORDER BY users.id ASC LIMIT 6;\n", "rewrite": "SELECT users.* FROM users INNER JOIN email_addresses ON email_addresses.user_id = users.id WHERE users.type IN ('User', 'AnonymousUser') AND LOWER(email_addresses.address) IN ('foo@example.com') ORDER BY users.id ASC LIMIT 6;\n", "t_db": 4.999, "t_rewrite": 4.906, "t_db_constraint": 4.963, "t_rewrite_constraint": 4.891}
{"raw": "SELECT issues.* FROM issues INNER JOIN issue_statuses ON issue_statuses.id = issues.status_id INNER JOIN trackers ON trackers.id = issues.tracker_id INNER JOIN projects ON projects.id = issues.project_id INNER JOIN enumerations ON enumerations.id = issues.priority_id AND enumerations.type IN ('IssuePriority') WHERE issues.status_id IN (SELECT id FROM issue_statuses WHERE is_closed = False) AND issues.due_date > '2022-02-12 23:59:59.999999' AND issues.due_date <= '2022-02-13 23:59:59.999999' AND projects.lft >= 1 AND projects.rgt <= 10;\n", "rewrite": "SELECT issues.* FROM issues INNER JOIN trackers ON trackers.id = issues.tracker_id INNER JOIN projects ON projects.id = issues.project_id INNER JOIN enumerations ON enumerations.id = issues.priority_id AND enumerations.type IN ('IssuePriority') WHERE issues.status_id IN (SELECT id FROM issue_statuses WHERE is_closed = False) AND issues.due_date > '2022-02-12 23:59:59.999999' AND issues.due_date <= '2022-02-13 23:59:59.999999' AND projects.lft >= 1 AND projects.rgt <= 10;\n", "t_db": 0.584, "t_rewrite": 0.561, "t_db_constraint": 0.574, "t_rewrite_constraint": 0.567}
{"raw": "SELECT issues.* FROM issues INNER JOIN issue_statuses ON issue_statuses.id = issues.status_id INNER JOIN trackers ON trackers.id = issues.tracker_id INNER JOIN projects ON projects.id = issues.project_id INNER JOIN enumerations ON enumerations.id = issues.priority_id AND enumerations.type IN ('IssuePriority') WHERE issues.status_id IN (SELECT id FROM issue_statuses WHERE is_closed = False) AND issues.due_date > '2022-02-12 23:59:59.999999' AND issues.due_date <= '2022-02-28 23:59:59.999999' AND projects.lft >= 1 AND projects.rgt <= 10;\n", "rewrite": "SELECT issues.* FROM issues INNER JOIN trackers ON trackers.id = issues.tracker_id INNER JOIN projects ON projects.id = issues.project_id INNER JOIN enumerations ON enumerations.id = issues.priority_id AND enumerations.type IN ('IssuePriority') WHERE issues.status_id IN (SELECT id FROM issue_statuses WHERE is_closed = False) AND issues.due_date > '2022-02-12 23:59:59.999999' AND issues.due_date <= '2022-02-28 23:59:59.999999' AND projects.lft >= 1 AND projects.rgt <= 10;\n", "t_db": 0.598, "t_rewrite": 0.567, "t_db_constraint": 0.581, "t_rewrite_constraint": 0.573}
{"raw": "SELECT issues.* FROM issues INNER JOIN issue_statuses ON issue_statuses.id = issues.status_id INNER JOIN trackers ON trackers.id = issues.tracker_id INNER JOIN projects ON projects.id = issues.project_id INNER JOIN enumerations ON enumerations.id = issues.priority_id AND enumerations.type IN ('IssuePriority') WHERE issues.status_id IN (SELECT id FROM issue_statuses WHERE is_closed = False) AND issues.due_date > '2022-02-09 23:59:59.999999' AND issues.due_date <= '2022-02-13 23:59:59.999999' AND projects.lft >= 1 AND projects.rgt <= 10;\n", "rewrite": "SELECT issues.* FROM issues INNER JOIN trackers ON trackers.id = issues.tracker_id INNER JOIN projects ON projects.id = issues.project_id INNER JOIN enumerations ON enumerations.id = issues.priority_id AND enumerations.type IN ('IssuePriority') WHERE issues.status_id IN (SELECT id FROM issue_statuses WHERE is_closed = False) AND issues.due_date > '2022-02-09 23:59:59.999999' AND issues.due_date <= '2022-02-13 23:59:59.999999' AND projects.lft >= 1 AND projects.rgt <= 10;\n", "t_db": 0.546, "t_rewrite": 0.518, "t_db_constraint": 0.531, "t_rewrite_constraint": 0.523}
{"raw": "SELECT DISTINCT users.* FROM users INNER JOIN email_addresses ON email_addresses.user_id = users.id WHERE users.type IN ('User', 'AnonymousUser') AND LOWER(email_addresses.address) IN ('newuser@foo.bar') ORDER BY users.id ASC LIMIT 3;\n", "rewrite": "SELECT users.* FROM users INNER JOIN email_addresses ON email_addresses.user_id = users.id WHERE users.type IN ('User', 'AnonymousUser') AND LOWER(email_addresses.address) IN ('newuser@foo.bar') ORDER BY users.id ASC LIMIT 3;\n", "t_db": 5.007, "t_rewrite": 4.917, "t_db_constraint": 4.97, "t_rewrite_constraint": 4.901}
{"raw": "SELECT issues.* FROM issues INNER JOIN issue_statuses ON issue_statuses.id = issues.status_id INNER JOIN trackers ON trackers.id = issues.tracker_id INNER JOIN projects ON projects.id = issues.project_id INNER JOIN enumerations ON enumerations.id = issues.priority_id AND enumerations.type IN ('IssuePriority') WHERE issues.status_id IN (SELECT id FROM issue_statuses WHERE is_closed = False) AND issues.due_date > '2022-02-09 23:59:59.999999' AND issues.due_date <= '2022-02-10 23:59:59.999999' AND projects.lft >= 1 AND projects.rgt <= 10;\n", "rewrite": "SELECT issues.* FROM issues INNER JOIN trackers ON trackers.id = issues.tracker_id INNER JOIN projects ON projects.id = issues.project_id INNER JOIN enumerations ON enumerations.id = issues.priority_id AND enumerations.type IN ('IssuePriority') WHERE issues.status_id IN (SELECT id FROM issue_statuses WHERE is_closed = False) AND issues.due_date > '2022-02-09 23:59:59.999999' AND issues.due_date <= '2022-02-10 23:59:59.999999' AND projects.lft >= 1 AND projects.rgt <= 10;\n", "t_db": 0.572, "t_rewrite": 0.544, "t_db_constraint": 0.558, "t_rewrite_constraint": 0.547}
{"raw": "SELECT issues.* FROM issues INNER JOIN issue_statuses ON issue_statuses.id = issues.status_id INNER JOIN trackers ON trackers.id = issues.tracker_id INNER JOIN projects ON projects.id = issues.project_id INNER JOIN enumerations ON enumerations.id = issues.priority_id AND enumerations.type IN ('IssuePriority') WHERE issues.status_id IN (SELECT id FROM issue_statuses WHERE is_closed = False) AND issues.due_date > '2022-02-14 23:59:59.999999' AND issues.due_date <= '2022-02-15 23:59:59.999999' AND projects.lft >= 1 AND projects.rgt <= 10;\n", "rewrite": "SELECT issues.* FROM issues INNER JOIN trackers ON trackers.id = issues.tracker_id INNER JOIN projects ON projects.id = issues.project_id INNER JOIN enumerations ON enumerations.id = issues.priority_id AND enumerations.type IN ('IssuePriority') WHERE issues.status_id IN (SELECT id FROM issue_statuses WHERE is_closed = False) AND issues.due_date > '2022-02-14 23:59:59.999999' AND issues.due_date <= '2022-02-15 23:59:59.999999' AND projects.lft >= 1 AND projects.rgt <= 10;\n", "t_db": 0.595, "t_rewrite": 0.553, "t_db_constraint": 0.58, "t_rewrite_constraint": 0.564}
{"raw": "SELECT issues.* FROM issues INNER JOIN issue_statuses ON issue_statuses.id = issues.status_id INNER JOIN trackers ON trackers.id = issues.tracker_id INNER JOIN projects ON projects.id = issues.project_id INNER JOIN enumerations ON enumerations.id = issues.priority_id AND enumerations.type IN ('IssuePriority') WHERE issues.status_id IN (SELECT id FROM issue_statuses WHERE is_closed = False) AND issues.due_date > '2022-02-13 23:59:59.999999' AND issues.due_date <= '2022-02-14 23:59:59.999999' AND projects.lft >= 1 AND projects.rgt <= 10;\n", "rewrite": "SELECT issues.* FROM issues INNER JOIN trackers ON trackers.id = issues.tracker_id INNER JOIN projects ON projects.id = issues.project_id INNER JOIN enumerations ON enumerations.id = issues.priority_id AND enumerations.type IN ('IssuePriority') WHERE issues.status_id IN (SELECT id FROM issue_statuses WHERE is_closed = False) AND issues.due_date > '2022-02-13 23:59:59.999999' AND issues.due_date <= '2022-02-14 23:59:59.999999' AND projects.lft >= 1 AND projects.rgt <= 10;\n", "t_db": 0.534, "t_rewrite": 0.507, "t_db_constraint": 0.534, "t_rewrite_constraint": 0.522}
{"raw": "SELECT queries.* FROM queries LEFT OUTER JOIN projects ON queries.project_id = projects.id WHERE queries.type IN ('IssueQuery') AND (queries.project_id IS NULL OR projects.status <> 9 AND (SELECT 1 AS \"one\" FROM enabled_modules AS em WHERE em.project_id = projects.id AND em.name = 'issue_tracking') IS NOT NULL AND projects.is_public = True AND projects.id NOT IN (SELECT project_id FROM members WHERE user_id IN (116, 12))) AND (queries.visibility = 2 OR queries.user_id = 116) AND queries.project_id IS NULL ORDER BY queries.name ASC, queries.id ASC;\n", "rewrite": "SELECT queries.* FROM queries LEFT OUTER JOIN projects ON queries.project_id = projects.id WHERE queries.type IN ('IssueQuery') AND (queries.project_id IS NULL OR projects.status <> 9 AND (SELECT 1 AS \"one\" FROM enabled_modules AS em WHERE em.project_id = projects.id AND em.name = 'issue_tracking') IS NOT NULL AND projects.is_public = True AND projects.id NOT IN (SELECT project_id FROM members WHERE user_id IN (116, 12) LIMIT 1)) AND (queries.visibility = 2 OR queries.user_id = 116) AND queries.project_id IS NULL ORDER BY queries.name ASC, queries.id ASC;\n", "t_db": 2.128, "t_rewrite": 2.099, "t_db_constraint": 2.073, "t_rewrite_constraint": 2.122}
{"raw": "SELECT DISTINCT users.* FROM users INNER JOIN email_addresses ON email_addresses.user_id = users.id WHERE users.type IN ('User', 'AnonymousUser') AND LOWER(email_addresses.address) IN ('foo@example.org') ORDER BY users.id ASC LIMIT 8;\n", "rewrite": "SELECT users.* FROM users INNER JOIN email_addresses ON email_addresses.user_id = users.id WHERE users.type IN ('User', 'AnonymousUser') AND LOWER(email_addresses.address) IN ('foo@example.org') ORDER BY users.id ASC LIMIT 8;\n", "t_db": 5.014, "t_rewrite": 4.93, "t_db_constraint": 4.979, "t_rewrite_constraint": 4.923}
{"raw": "SELECT issues.id FROM issues INNER JOIN projects ON projects.id = issues.project_id INNER JOIN issue_statuses ON issue_statuses.id = issues.status_id WHERE projects.status <> 9 AND (SELECT 1 AS \"one\" FROM enabled_modules AS em WHERE em.project_id = projects.id AND em.name = 'issue_tracking') IS NOT NULL AND projects.is_public = True AND projects.id NOT IN (SELECT project_id FROM members WHERE user_id IN (6, 13)) AND issues.is_private = False AND issues.status_id IN (SELECT id FROM issue_statuses WHERE is_closed = False) ORDER BY issues.id ASC LIMIT 8;\n", "rewrite": "SELECT issues.id FROM issues INNER JOIN projects ON projects.id = issues.project_id WHERE projects.status <> 9 AND (SELECT 1 AS \"one\" FROM enabled_modules AS em WHERE em.project_id = projects.id AND em.name = 'issue_tracking') IS NOT NULL AND projects.is_public = True AND projects.id NOT IN (SELECT project_id FROM members WHERE user_id IN (6, 13)) AND issues.is_private = False AND issues.status_id IN (SELECT id FROM issue_statuses WHERE is_closed = False) ORDER BY issues.id ASC LIMIT 8;\n", "t_db": 0.379, "t_rewrite": 0.332, "t_db_constraint": 0.346, "t_rewrite_constraint": 0.315}
{"raw": "SELECT custom_fields.* FROM custom_fields WHERE custom_fields.type IN ('IssueCustomField') AND (is_for_all = True OR (SELECT 1 FROM custom_fields_projects AS cfp JOIN projects AS p ON p.id = cfp.project_id WHERE cfp.custom_field_id = custom_fields.id AND p.lft >= 1 AND p.rgt <= 10) IS NOT NULL) AND (custom_fields.visible = True OR custom_fields.id IN (SELECT DISTINCT cfr.custom_field_id FROM members AS m INNER JOIN member_roles AS mr ON mr.member_id = m.id INNER JOIN custom_fields_roles AS cfr ON cfr.role_id = mr.role_id WHERE m.user_id = 3)) ORDER BY custom_fields.position ASC;\n", "rewrite": "SELECT custom_fields.* FROM custom_fields WHERE custom_fields.type IN ('IssueCustomField') AND (is_for_all = True OR (SELECT 1 FROM custom_fields_projects AS cfp JOIN projects AS p ON p.id = cfp.project_id WHERE cfp.custom_field_id = custom_fields.id AND p.lft >= 1 AND p.rgt <= 10) IS NOT NULL) AND (custom_fields.visible = True OR custom_fields.id IN (SELECT cfr.custom_field_id FROM members AS m INNER JOIN member_roles AS mr ON mr.member_id = m.id INNER JOIN custom_fields_roles AS cfr ON cfr.role_id = mr.role_id WHERE m.user_id = 3)) ORDER BY custom_fields.position ASC;\n", "t_db": 0.18, "t_rewrite": 0.179, "t_db_constraint": 0.18, "t_rewrite_constraint": 0.176}
{"raw": "SELECT custom_fields.* FROM custom_fields WHERE custom_fields.type IN ('IssueCustomField') AND (is_for_all = True OR (SELECT 1 FROM custom_fields_projects AS cfp JOIN projects AS p ON p.id = cfp.project_id WHERE cfp.custom_field_id = custom_fields.id AND p.lft >= 1 AND p.rgt <= 10) IS NOT NULL) AND (custom_fields.visible = True OR custom_fields.id IN (SELECT DISTINCT cfr.custom_field_id FROM members AS m INNER JOIN member_roles AS mr ON mr.member_id = m.id INNER JOIN custom_fields_roles AS cfr ON cfr.role_id = mr.role_id WHERE m.user_id = 2)) ORDER BY custom_fields.position ASC;\n", "rewrite": "SELECT custom_fields.* FROM custom_fields WHERE custom_fields.type IN ('IssueCustomField') AND (is_for_all = True OR (SELECT 1 FROM custom_fields_projects AS cfp JOIN projects AS p ON p.id = cfp.project_id WHERE cfp.custom_field_id = custom_fields.id AND p.lft >= 1 AND p.rgt <= 10) IS NOT NULL) AND (custom_fields.visible = True OR custom_fields.id IN (SELECT cfr.custom_field_id FROM members AS m INNER JOIN member_roles AS mr ON mr.member_id = m.id INNER JOIN custom_fields_roles AS cfr ON cfr.role_id = mr.role_id WHERE m.user_id = 2)) ORDER BY custom_fields.position ASC;\n", "t_db": 1.059, "t_rewrite": 0.181, "t_db_constraint": 1.05, "t_rewrite_constraint": 0.175}
{"raw": "SELECT custom_fields.* FROM custom_fields WHERE custom_fields.type IN ('IssueCustomField') AND (is_for_all = True OR (SELECT 1 FROM custom_fields_projects AS cfp JOIN projects AS p ON p.id = cfp.project_id WHERE cfp.custom_field_id = custom_fields.id AND p.lft >= 1 AND p.rgt <= 10) IS NOT NULL) AND (custom_fields.visible = True OR custom_fields.id IN (SELECT DISTINCT cfr.custom_field_id FROM members AS m INNER JOIN member_roles AS mr ON mr.member_id = m.id INNER JOIN custom_fields_roles AS cfr ON cfr.role_id = mr.role_id WHERE m.user_id = 55)) ORDER BY custom_fields.position ASC;\n", "rewrite": "SELECT custom_fields.* FROM custom_fields WHERE custom_fields.type IN ('IssueCustomField') AND (is_for_all = True OR (SELECT 1 FROM custom_fields_projects AS cfp JOIN projects AS p ON p.id = cfp.project_id WHERE cfp.custom_field_id = custom_fields.id AND p.lft >= 1 AND p.rgt <= 10) IS NOT NULL) AND (custom_fields.visible = True OR custom_fields.id IN (SELECT cfr.custom_field_id FROM members AS m INNER JOIN member_roles AS mr ON mr.member_id = m.id INNER JOIN custom_fields_roles AS cfr ON cfr.role_id = mr.role_id WHERE m.user_id = 55)) ORDER BY custom_fields.position ASC;\n", "t_db": 0.173, "t_rewrite": 0.176, "t_db_constraint": 0.18, "t_rewrite_constraint": 0.171}
{"raw": "SELECT custom_fields.* FROM custom_fields WHERE custom_fields.type IN ('IssueCustomField') AND (is_for_all = True OR (SELECT 1 FROM custom_fields_projects AS cfp JOIN projects AS p ON p.id = cfp.project_id WHERE cfp.custom_field_id = custom_fields.id AND p.lft >= 1 AND p.rgt <= 10) IS NOT NULL) AND (custom_fields.visible = True OR custom_fields.id IN (SELECT DISTINCT cfr.custom_field_id FROM members AS m INNER JOIN member_roles AS mr ON mr.member_id = m.id INNER JOIN custom_fields_roles AS cfr ON cfr.role_id = mr.role_id WHERE m.user_id = 53)) ORDER BY custom_fields.position ASC;\n", "rewrite": "SELECT custom_fields.* FROM custom_fields WHERE custom_fields.type IN ('IssueCustomField') AND (is_for_all = True OR (SELECT 1 FROM custom_fields_projects AS cfp JOIN projects AS p ON p.id = cfp.project_id WHERE cfp.custom_field_id = custom_fields.id AND p.lft >= 1 AND p.rgt <= 10) IS NOT NULL) AND (custom_fields.visible = True OR custom_fields.id IN (SELECT cfr.custom_field_id FROM members AS m INNER JOIN member_roles AS mr ON mr.member_id = m.id INNER JOIN custom_fields_roles AS cfr ON cfr.role_id = mr.role_id WHERE m.user_id = 53)) ORDER BY custom_fields.position ASC;\n", "t_db": 0.18, "t_rewrite": 0.174, "t_db_constraint": 0.179, "t_rewrite_constraint": 0.169}
{"raw": "SELECT journals.* FROM journals INNER JOIN issues ON issues.id = journals.journalized_id INNER JOIN projects ON projects.id = issues.project_id INNER JOIN issue_statuses ON issue_statuses.id = issues.status_id WHERE projects.status <> 9 AND (SELECT 1 AS \"one\" FROM enabled_modules AS em WHERE em.project_id = projects.id AND em.name = 'issue_tracking') IS NOT NULL AND (journals.private_notes = False OR journals.user_id = 1 OR projects.status <> 9) AND issues.status_id IN (SELECT id FROM issue_statuses WHERE is_closed = False) ORDER BY journals.created_on DESC LIMIT 1;\n", "rewrite": "SELECT journals.* FROM journals INNER JOIN issues ON issues.id = journals.journalized_id INNER JOIN projects ON projects.id = issues.project_id WHERE projects.status <> 9 AND (SELECT 1 AS \"one\" FROM enabled_modules AS em WHERE em.project_id = projects.id AND em.name = 'issue_tracking') IS NOT NULL AND (journals.private_notes = False OR journals.user_id = 1 OR projects.status <> 9) AND issues.status_id IN (SELECT id FROM issue_statuses WHERE is_closed = False) ORDER BY journals.created_on DESC LIMIT 1;\n", "t_db": 88.32, "t_rewrite": 88.536, "t_db_constraint": 90.037, "t_rewrite_constraint": 89.39}
{"raw": "SELECT issues.id FROM issues INNER JOIN projects ON projects.id = issues.project_id INNER JOIN issue_statuses ON issue_statuses.id = issues.status_id WHERE projects.status <> 9 AND (SELECT 1 AS \"one\" FROM enabled_modules AS em WHERE em.project_id = projects.id AND em.name = 'issue_tracking') IS NOT NULL AND projects.is_public = True AND projects.id NOT IN (SELECT project_id FROM members WHERE user_id IN (6, 13)) AND issues.is_private = False AND issues.status_id IN (SELECT id FROM issue_statuses WHERE is_closed = False) ORDER BY issues.subject ASC, issues.id ASC;\n", "rewrite": "SELECT issues.id FROM issues INNER JOIN projects ON projects.id = issues.project_id WHERE projects.status <> 9 AND (SELECT 1 AS \"one\" FROM enabled_modules AS em WHERE em.project_id = projects.id AND em.name = 'issue_tracking') IS NOT NULL AND projects.is_public = True AND projects.id NOT IN (SELECT project_id FROM members WHERE user_id IN (6, 13)) AND issues.is_private = False AND issues.status_id IN (SELECT id FROM issue_statuses WHERE is_closed = False) ORDER BY issues.subject ASC, issues.id ASC;\n", "t_db": 51.2, "t_rewrite": 47.021, "t_db_constraint": 55.086, "t_rewrite_constraint": 44.525}
{"raw": "SELECT issues.* FROM issues INNER JOIN issue_statuses ON issue_statuses.id = issues.status_id INNER JOIN trackers ON trackers.id = issues.tracker_id INNER JOIN projects ON projects.id = issues.project_id INNER JOIN enumerations ON enumerations.id = issues.priority_id AND enumerations.type IN ('IssuePriority') WHERE issues.project_id IN (SELECT projects.id FROM projects LEFT OUTER JOIN custom_values ON custom_values.customized_type = 'Project' AND custom_values.customized_id = projects.id AND custom_values.custom_field_id = 34 WHERE custom_values.value IN ('Foo') AND 1 = 1);\n", "rewrite": "SELECT issues.* FROM issues INNER JOIN issue_statuses ON issue_statuses.id = issues.status_id INNER JOIN trackers ON trackers.id = issues.tracker_id INNER JOIN enumerations ON enumerations.id = issues.priority_id AND enumerations.type IN ('IssuePriority') WHERE issues.project_id IN (SELECT projects.id FROM projects LEFT OUTER JOIN custom_values ON custom_values.customized_type = 'Project' AND custom_values.customized_id = projects.id AND custom_values.custom_field_id = 34 WHERE custom_values.value IN ('Foo') AND 1 = 1);\n", "t_db": 0.183, "t_rewrite": 0.16, "t_db_constraint": 0.181, "t_rewrite_constraint": 0.165}
{"raw": "SELECT issues.* FROM issues INNER JOIN issue_statuses ON issue_statuses.id = issues.status_id INNER JOIN trackers ON trackers.id = issues.tracker_id INNER JOIN projects ON projects.id = issues.project_id INNER JOIN enumerations ON enumerations.id = issues.priority_id AND enumerations.type IN ('IssuePriority') WHERE issues.id IN (SELECT DISTINCT issue_relations.issue_from_id FROM issue_relations WHERE issue_relations.relation_type = 'relates') OR issues.id IN (SELECT DISTINCT issue_relations.issue_to_id FROM issue_relations WHERE issue_relations.relation_type = 'relates');\n", "rewrite": "SELECT issues.* FROM issues INNER JOIN issue_statuses ON issue_statuses.id = issues.status_id INNER JOIN trackers ON trackers.id = issues.tracker_id INNER JOIN projects ON projects.id = issues.project_id INNER JOIN enumerations ON enumerations.id = issues.priority_id AND enumerations.type IN ('IssuePriority') WHERE issues.id IN (SELECT issue_relations.issue_from_id FROM issue_relations WHERE issue_relations.relation_type = 'relates') OR issues.id IN (SELECT issue_relations.issue_to_id FROM issue_relations WHERE issue_relations.relation_type = 'relates');\n", "t_db": 14.293, "t_rewrite": 13.565, "t_db_constraint": 14.279, "t_rewrite_constraint": 13.434}
{"raw": "SELECT issues.id FROM issues INNER JOIN projects ON projects.id = issues.project_id INNER JOIN issue_statuses ON issue_statuses.id = issues.status_id WHERE projects.status <> 9 AND (SELECT 1 AS \"one\" FROM enabled_modules AS em WHERE em.project_id = projects.id AND em.name = 'issue_tracking') IS NOT NULL AND projects.is_public = True AND projects.id NOT IN (SELECT project_id FROM members WHERE user_id IN (6, 13)) AND issues.is_private = False AND issues.status_id IN (SELECT id FROM issue_statuses WHERE is_closed = False) AND projects.id = 1 ORDER BY issues.id ASC LIMIT 8;\n", "rewrite": "SELECT issues.id FROM issues INNER JOIN projects ON projects.id = issues.project_id WHERE projects.status <> 9 AND (SELECT 1 AS \"one\" FROM enabled_modules AS em WHERE em.project_id = projects.id AND em.name = 'issue_tracking') IS NOT NULL AND projects.is_public = True AND projects.id NOT IN (SELECT project_id FROM members WHERE user_id IN (6, 13)) AND issues.is_private = False AND issues.status_id IN (SELECT id FROM issue_statuses WHERE is_closed = False) AND projects.id = 1 ORDER BY issues.id ASC LIMIT 8;\n", "t_db": 0.26, "t_rewrite": 0.223, "t_db_constraint": 0.267, "t_rewrite_constraint": 0.226}
{"raw": "SELECT DISTINCT users.* FROM users INNER JOIN email_addresses ON email_addresses.user_id = users.id WHERE users.type IN ('User', 'AnonymousUser') AND LOWER(email_addresses.address) IN ('jdoe@example.net') ORDER BY users.id ASC LIMIT 8;\n", "rewrite": "SELECT users.* FROM users INNER JOIN email_addresses ON email_addresses.user_id = users.id WHERE users.type IN ('User', 'AnonymousUser') AND LOWER(email_addresses.address) IN ('jdoe@example.net') ORDER BY users.id ASC LIMIT 8;\n", "t_db": 5.019, "t_rewrite": 4.926, "t_db_constraint": 4.978, "t_rewrite_constraint": 4.919}
{"raw": "SELECT issues.id FROM issues INNER JOIN projects ON projects.id = issues.project_id INNER JOIN issue_statuses ON issue_statuses.id = issues.status_id WHERE projects.status <> 9 AND (SELECT 1 AS \"one\" FROM enabled_modules AS em WHERE em.project_id = projects.id AND em.name = 'issue_tracking') IS NOT NULL AND projects.is_public = True AND projects.id NOT IN (SELECT project_id FROM members WHERE user_id IN (6, 13)) AND issues.is_private = False AND issues.status_id IN (SELECT id FROM issue_statuses WHERE is_closed = False) ORDER BY projects.name ASC, issues.id DESC LIMIT 9;\n", "rewrite": "SELECT issues.id FROM issues INNER JOIN projects ON projects.id = issues.project_id WHERE projects.status <> 9 AND (SELECT 1 AS \"one\" FROM enabled_modules AS em WHERE em.project_id = projects.id AND em.name = 'issue_tracking') IS NOT NULL AND projects.is_public = True AND projects.id NOT IN (SELECT project_id FROM members WHERE user_id IN (6, 13)) AND issues.is_private = False AND issues.status_id IN (SELECT id FROM issue_statuses WHERE is_closed = False) ORDER BY projects.name ASC, issues.id DESC LIMIT 9;\n", "t_db": 45.705, "t_rewrite": 42.038, "t_db_constraint": 49.952, "t_rewrite_constraint": 39.335}
{"raw": "SELECT DISTINCT users.* FROM users INNER JOIN email_addresses ON email_addresses.user_id = users.id WHERE users.type IN ('User', 'AnonymousUser') AND LOWER(email_addresses.address) IN ('jsmith@somenet.foo') ORDER BY users.id ASC LIMIT 4;\n", "rewrite": "SELECT users.* FROM users INNER JOIN email_addresses ON email_addresses.user_id = users.id WHERE users.type IN ('User', 'AnonymousUser') AND LOWER(email_addresses.address) IN ('jsmith@somenet.foo') ORDER BY users.id ASC LIMIT 4;\n", "t_db": 5.003, "t_rewrite": 4.91, "t_db_constraint": 4.994, "t_rewrite_constraint": 4.909}
{"raw": "SELECT issues.* FROM issues INNER JOIN issue_statuses ON issue_statuses.id = issues.status_id INNER JOIN trackers ON trackers.id = issues.tracker_id INNER JOIN projects ON projects.id = issues.project_id INNER JOIN enumerations ON enumerations.id = issues.priority_id AND enumerations.type IN ('IssuePriority') WHERE issues.id NOT IN (SELECT DISTINCT issue_relations.issue_from_id FROM issue_relations WHERE issue_relations.relation_type = 'relates') AND issues.id NOT IN (SELECT DISTINCT issue_relations.issue_to_id FROM issue_relations WHERE issue_relations.relation_type = 'relates');\n", "rewrite": "SELECT issues.* FROM issues INNER JOIN issue_statuses ON issue_statuses.id = issues.status_id INNER JOIN trackers ON trackers.id = issues.tracker_id INNER JOIN projects ON projects.id = issues.project_id INNER JOIN enumerations ON enumerations.id = issues.priority_id AND enumerations.type IN ('IssuePriority') WHERE issues.id NOT IN (SELECT issue_relations.issue_from_id FROM issue_relations WHERE issue_relations.relation_type = 'relates') AND issues.id NOT IN (SELECT issue_relations.issue_to_id FROM issue_relations WHERE issue_relations.relation_type = 'relates');\n", "t_db": 31.851, "t_rewrite": 31.228, "t_db_constraint": 31.707, "t_rewrite_constraint": 31.034}
{"raw": "SELECT DISTINCT users.* FROM users INNER JOIN email_addresses ON email_addresses.user_id = users.id WHERE users.type IN ('User', 'AnonymousUser') AND LOWER(email_addresses.address) IN ('invalid@somenet.foo') ORDER BY users.id ASC LIMIT 8;\n", "rewrite": "SELECT users.* FROM users INNER JOIN email_addresses ON email_addresses.user_id = users.id WHERE users.type IN ('User', 'AnonymousUser') AND LOWER(email_addresses.address) IN ('invalid@somenet.foo') ORDER BY users.id ASC LIMIT 8;\n", "t_db": 5.023, "t_rewrite": 4.915, "t_db_constraint": 5.011, "t_rewrite_constraint": 4.916}
{"raw": "SELECT custom_fields.* FROM custom_fields WHERE custom_fields.type IN ('IssueCustomField') AND (is_for_all = True OR (SELECT 1 FROM custom_fields_projects AS cfp JOIN projects AS p ON p.id = cfp.project_id WHERE cfp.custom_field_id = custom_fields.id AND p.lft >= 1 AND p.rgt <= 10) IS NOT NULL) AND (custom_fields.visible = True OR custom_fields.id IN (SELECT DISTINCT cfr.custom_field_id FROM members AS m INNER JOIN member_roles AS mr ON mr.member_id = m.id INNER JOIN custom_fields_roles AS cfr ON cfr.role_id = mr.role_id WHERE m.user_id = 2)) AND custom_fields.is_filter = True ORDER BY custom_fields.position ASC;\n", "rewrite": "SELECT custom_fields.* FROM custom_fields WHERE custom_fields.type IN ('IssueCustomField') AND (is_for_all = True OR (SELECT 1 FROM custom_fields_projects AS cfp JOIN projects AS p ON p.id = cfp.project_id WHERE cfp.custom_field_id = custom_fields.id AND p.lft >= 1 AND p.rgt <= 10) IS NOT NULL) AND (custom_fields.visible = True OR custom_fields.id IN (SELECT cfr.custom_field_id FROM members AS m INNER JOIN member_roles AS mr ON mr.member_id = m.id INNER JOIN custom_fields_roles AS cfr ON cfr.role_id = mr.role_id WHERE m.user_id = 2)) AND custom_fields.is_filter = True ORDER BY custom_fields.position ASC;\n", "t_db": 1.125, "t_rewrite": 0.194, "t_db_constraint": 1.132, "t_rewrite_constraint": 0.194}
{"raw": "SELECT custom_fields.* FROM custom_fields WHERE custom_fields.type IN ('IssueCustomField') AND (is_for_all = True OR (SELECT 1 FROM custom_fields_projects AS cfp JOIN projects AS p ON p.id = cfp.project_id WHERE cfp.custom_field_id = custom_fields.id AND p.lft >= 1 AND p.rgt <= 10) IS NOT NULL) AND (custom_fields.visible = True OR custom_fields.id IN (SELECT DISTINCT cfr.custom_field_id FROM members AS m INNER JOIN member_roles AS mr ON mr.member_id = m.id INNER JOIN custom_fields_roles AS cfr ON cfr.role_id = mr.role_id WHERE m.user_id = 3)) AND custom_fields.is_filter = False ORDER BY custom_fields.position ASC;\n", "rewrite": "SELECT custom_fields.* FROM custom_fields WHERE custom_fields.type IN ('IssueCustomField') AND (is_for_all = True OR (SELECT 1 FROM custom_fields_projects AS cfp JOIN projects AS p ON p.id = cfp.project_id WHERE cfp.custom_field_id = custom_fields.id AND p.lft >= 1 AND p.rgt <= 10) IS NOT NULL) AND (custom_fields.visible = True OR custom_fields.id IN (SELECT cfr.custom_field_id FROM members AS m INNER JOIN member_roles AS mr ON mr.member_id = m.id INNER JOIN custom_fields_roles AS cfr ON cfr.role_id = mr.role_id WHERE m.user_id = 3)) AND custom_fields.is_filter = False ORDER BY custom_fields.position ASC;\n", "t_db": 0.146, "t_rewrite": 0.161, "t_db_constraint": 0.148, "t_rewrite_constraint": 0.138}
{"raw": "SELECT custom_fields.* FROM custom_fields WHERE custom_fields.type IN ('IssueCustomField') AND (is_for_all = True OR (SELECT 1 FROM custom_fields_projects AS cfp JOIN projects AS p ON p.id = cfp.project_id WHERE cfp.custom_field_id = custom_fields.id AND p.lft >= 1 AND p.rgt <= 10) IS NOT NULL) AND (custom_fields.visible = True OR custom_fields.id IN (SELECT DISTINCT cfr.custom_field_id FROM members AS m INNER JOIN member_roles AS mr ON mr.member_id = m.id INNER JOIN custom_fields_roles AS cfr ON cfr.role_id = mr.role_id WHERE m.user_id = 55)) AND custom_fields.is_filter = True ORDER BY custom_fields.position ASC;\n", "rewrite": "SELECT custom_fields.* FROM custom_fields WHERE custom_fields.type IN ('IssueCustomField') AND (is_for_all = True OR (SELECT 1 FROM custom_fields_projects AS cfp JOIN projects AS p ON p.id = cfp.project_id WHERE cfp.custom_field_id = custom_fields.id AND p.lft >= 1 AND p.rgt <= 10) IS NOT NULL) AND (custom_fields.visible = True OR custom_fields.id IN (SELECT cfr.custom_field_id FROM members AS m INNER JOIN member_roles AS mr ON mr.member_id = m.id INNER JOIN custom_fields_roles AS cfr ON cfr.role_id = mr.role_id WHERE m.user_id = 55)) AND custom_fields.is_filter = True ORDER BY custom_fields.position ASC;\n", "t_db": 0.175, "t_rewrite": 0.187, "t_db_constraint": 0.172, "t_rewrite_constraint": 0.167}
{"raw": "SELECT custom_fields.* FROM custom_fields WHERE custom_fields.type IN ('IssueCustomField') AND (is_for_all = True OR (SELECT 1 FROM custom_fields_projects AS cfp JOIN projects AS p ON p.id = cfp.project_id WHERE cfp.custom_field_id = custom_fields.id AND p.lft >= 1 AND p.rgt <= 10) IS NOT NULL) AND (custom_fields.visible = True OR custom_fields.id IN (SELECT DISTINCT cfr.custom_field_id FROM members AS m INNER JOIN member_roles AS mr ON mr.member_id = m.id INNER JOIN custom_fields_roles AS cfr ON cfr.role_id = mr.role_id WHERE m.user_id = 53)) AND custom_fields.is_filter = True ORDER BY custom_fields.position ASC;\n", "rewrite": "SELECT custom_fields.* FROM custom_fields WHERE custom_fields.type IN ('IssueCustomField') AND (is_for_all = True OR (SELECT 1 FROM custom_fields_projects AS cfp JOIN projects AS p ON p.id = cfp.project_id WHERE cfp.custom_field_id = custom_fields.id AND p.lft >= 1 AND p.rgt <= 10) IS NOT NULL) AND (custom_fields.visible = True OR custom_fields.id IN (SELECT cfr.custom_field_id FROM members AS m INNER JOIN member_roles AS mr ON mr.member_id = m.id INNER JOIN custom_fields_roles AS cfr ON cfr.role_id = mr.role_id WHERE m.user_id = 53)) AND custom_fields.is_filter = True ORDER BY custom_fields.position ASC;\n", "t_db": 0.172, "t_rewrite": 0.185, "t_db_constraint": 0.171, "t_rewrite_constraint": 0.169}
{"raw": "SELECT issues.* FROM issues INNER JOIN issue_statuses ON issue_statuses.id = issues.status_id INNER JOIN trackers ON trackers.id = issues.tracker_id INNER JOIN projects ON projects.id = issues.project_id INNER JOIN enumerations ON enumerations.id = issues.priority_id AND enumerations.type IN ('IssuePriority') WHERE issues.id IN (SELECT DISTINCT issue_relations.issue_to_id FROM issue_relations, issues AS relissues WHERE issue_relations.relation_type = 'blocks' AND issue_relations.issue_from_id = relissues.id AND relissues.status_id IN (SELECT id FROM issue_statuses WHERE is_closed = False));\n", "rewrite": "SELECT issues.* FROM issues INNER JOIN issue_statuses ON issue_statuses.id = issues.status_id INNER JOIN trackers ON trackers.id = issues.tracker_id INNER JOIN projects ON projects.id = issues.project_id INNER JOIN enumerations ON enumerations.id = issues.priority_id AND enumerations.type IN ('IssuePriority') WHERE issues.id IN (SELECT issue_relations.issue_to_id FROM issue_relations, issues AS relissues WHERE issue_relations.relation_type = 'blocks' AND issue_relations.issue_from_id = relissues.id AND relissues.status_id IN (SELECT id FROM issue_statuses WHERE is_closed = False));\n", "t_db": 20.084, "t_rewrite": 20.291, "t_db_constraint": 20.022, "t_rewrite_constraint": 20.245}
{"raw": "SELECT issues.id FROM issues INNER JOIN projects ON projects.id = issues.project_id INNER JOIN issue_statuses ON issue_statuses.id = issues.status_id WHERE projects.status <> 9 AND (SELECT 1 AS \"one\" FROM enabled_modules AS em WHERE em.project_id = projects.id AND em.name = 'issue_tracking') IS NOT NULL AND projects.is_public = True AND projects.id NOT IN (SELECT project_id FROM members WHERE user_id IN (6, 13)) AND issues.is_private = False AND issues.status_id IN (SELECT id FROM issue_statuses WHERE is_closed = True) AND projects.lft >= 1 AND projects.rgt <= 10 ORDER BY issues.id ASC LIMIT 6;\n", "rewrite": "SELECT issues.id FROM issues INNER JOIN projects ON projects.id = issues.project_id WHERE projects.status <> 9 AND (SELECT 1 AS \"one\" FROM enabled_modules AS em WHERE em.project_id = projects.id AND em.name = 'issue_tracking') IS NOT NULL AND projects.is_public = True AND projects.id NOT IN (SELECT project_id FROM members WHERE user_id IN (6, 13)) AND issues.is_private = False AND issues.status_id IN (SELECT id FROM issue_statuses WHERE is_closed = True) AND projects.lft >= 1 AND projects.rgt <= 10 ORDER BY issues.id ASC LIMIT 6;\n", "t_db": 0.565, "t_rewrite": 0.524, "t_db_constraint": 0.539, "t_rewrite_constraint": 0.495}
{"raw": "SELECT DISTINCT users.* FROM users INNER JOIN email_addresses ON email_addresses.user_id = users.id WHERE users.type IN ('User', 'AnonymousUser') AND LOWER(email_addresses.address) IN ('dlopper@somenet.foo') ORDER BY users.id ASC LIMIT 9;\n", "rewrite": "SELECT users.* FROM users INNER JOIN email_addresses ON email_addresses.user_id = users.id WHERE users.type IN ('User', 'AnonymousUser') AND LOWER(email_addresses.address) IN ('dlopper@somenet.foo') ORDER BY users.id ASC LIMIT 9;\n", "t_db": 4.99, "t_rewrite": 4.912, "t_db_constraint": 4.983, "t_rewrite_constraint": 4.897}
{"raw": "SELECT DISTINCT users.* FROM users INNER JOIN email_addresses ON email_addresses.user_id = users.id WHERE users.type IN ('User', 'AnonymousUser') AND LOWER(email_addresses.address) IN ('john.doe@somenet.foo') ORDER BY users.id ASC LIMIT 2;\n", "rewrite": "SELECT users.* FROM users INNER JOIN email_addresses ON email_addresses.user_id = users.id WHERE users.type IN ('User', 'AnonymousUser') AND LOWER(email_addresses.address) IN ('john.doe@somenet.foo') ORDER BY users.id ASC LIMIT 2;\n", "t_db": 4.982, "t_rewrite": 4.868, "t_db_constraint": 4.936, "t_rewrite_constraint": 4.859}
{"raw": "SELECT issues.id FROM issues INNER JOIN projects ON projects.id = issues.project_id INNER JOIN issue_statuses ON issue_statuses.id = issues.status_id WHERE projects.status <> 9 AND (SELECT 1 AS \"one\" FROM enabled_modules AS em WHERE em.project_id = projects.id AND em.name = 'issue_tracking') IS NOT NULL AND projects.is_public = True AND projects.id NOT IN (SELECT project_id FROM members WHERE user_id IN (6, 13)) AND issues.is_private = False AND issues.status_id IN (SELECT id FROM issue_statuses WHERE is_closed = False) AND issues.tracker_id IN ('1') AND projects.lft >= 1 AND projects.rgt <= 10 ORDER BY issues.id DESC LIMIT 1;\n", "rewrite": "SELECT issues.id FROM issues INNER JOIN projects ON projects.id = issues.project_id WHERE projects.status <> 9 AND (SELECT 1 AS \"one\" FROM enabled_modules AS em WHERE em.project_id = projects.id AND em.name = 'issue_tracking') IS NOT NULL AND projects.is_public = True AND projects.id NOT IN (SELECT project_id FROM members WHERE user_id IN (6, 13)) AND issues.is_private = False AND issues.status_id IN (SELECT id FROM issue_statuses WHERE is_closed = False) AND issues.tracker_id IN ('1') AND projects.lft >= 1 AND projects.rgt <= 10 ORDER BY issues.id DESC LIMIT 1;\n", "t_db": 0.577, "t_rewrite": 0.519, "t_db_constraint": 0.542, "t_rewrite_constraint": 0.482}
{"raw": "SELECT issues.* FROM issues INNER JOIN issue_statuses ON issue_statuses.id = issues.status_id INNER JOIN trackers ON trackers.id = issues.tracker_id INNER JOIN projects ON projects.id = issues.project_id INNER JOIN enumerations ON enumerations.id = issues.priority_id AND enumerations.type IN ('IssuePriority') WHERE issues.id IN (SELECT DISTINCT issue_relations.issue_from_id FROM issue_relations WHERE issue_relations.relation_type = 'relates' AND issue_relations.issue_to_id = 2) OR issues.id IN (SELECT DISTINCT issue_relations.issue_to_id FROM issue_relations WHERE issue_relations.relation_type = 'relates' AND issue_relations.issue_from_id = 2);\n", "rewrite": "SELECT issues.* FROM issues INNER JOIN issue_statuses ON issue_statuses.id = issues.status_id INNER JOIN trackers ON trackers.id = issues.tracker_id INNER JOIN projects ON projects.id = issues.project_id INNER JOIN enumerations ON enumerations.id = issues.priority_id AND enumerations.type IN ('IssuePriority') WHERE issues.id IN (SELECT issue_relations.issue_from_id FROM issue_relations WHERE issue_relations.relation_type = 'relates' AND issue_relations.issue_to_id = 2) OR issues.id IN (SELECT DISTINCT issue_relations.issue_to_id FROM issue_relations WHERE issue_relations.relation_type = 'relates' AND issue_relations.issue_from_id = 2);\n", "t_db": 2.163, "t_rewrite": 2.161, "t_db_constraint": 2.183, "t_rewrite_constraint": 2.15}
{"raw": "SELECT issues.* FROM issues INNER JOIN issue_statuses ON issue_statuses.id = issues.status_id INNER JOIN trackers ON trackers.id = issues.tracker_id INNER JOIN projects ON projects.id = issues.project_id INNER JOIN enumerations ON enumerations.id = issues.priority_id AND enumerations.type IN ('IssuePriority') WHERE issues.id IN (SELECT DISTINCT issue_relations.issue_from_id FROM issue_relations WHERE issue_relations.relation_type = 'relates' AND issue_relations.issue_to_id = 1) OR issues.id IN (SELECT DISTINCT issue_relations.issue_to_id FROM issue_relations WHERE issue_relations.relation_type = 'relates' AND issue_relations.issue_from_id = 1);\n", "rewrite": "SELECT issues.* FROM issues INNER JOIN issue_statuses ON issue_statuses.id = issues.status_id INNER JOIN trackers ON trackers.id = issues.tracker_id INNER JOIN projects ON projects.id = issues.project_id INNER JOIN enumerations ON enumerations.id = issues.priority_id AND enumerations.type IN ('IssuePriority') WHERE issues.id IN (SELECT issue_relations.issue_from_id FROM issue_relations WHERE issue_relations.relation_type = 'relates' AND issue_relations.issue_to_id = 1) OR issues.id IN (SELECT DISTINCT issue_relations.issue_to_id FROM issue_relations WHERE issue_relations.relation_type = 'relates' AND issue_relations.issue_from_id = 1);\n", "t_db": 2.137, "t_rewrite": 2.124, "t_db_constraint": 2.139, "t_rewrite_constraint": 2.117}
{"raw": "SELECT issues.* FROM issues INNER JOIN issue_statuses ON issue_statuses.id = issues.status_id INNER JOIN trackers ON trackers.id = issues.tracker_id INNER JOIN projects ON projects.id = issues.project_id INNER JOIN enumerations ON enumerations.id = issues.priority_id AND enumerations.type IN ('IssuePriority') WHERE issues.id NOT IN (SELECT DISTINCT issue_relations.issue_from_id FROM issue_relations WHERE issue_relations.relation_type = 'relates' AND issue_relations.issue_to_id = 1) AND issues.id NOT IN (SELECT DISTINCT issue_relations.issue_to_id FROM issue_relations WHERE issue_relations.relation_type = 'relates' AND issue_relations.issue_from_id = 1);\n", "rewrite": "SELECT issues.* FROM issues INNER JOIN issue_statuses ON issue_statuses.id = issues.status_id INNER JOIN trackers ON trackers.id = issues.tracker_id INNER JOIN projects ON projects.id = issues.project_id INNER JOIN enumerations ON enumerations.id = issues.priority_id AND enumerations.type IN ('IssuePriority') WHERE issues.id NOT IN (SELECT issue_relations.issue_from_id FROM issue_relations WHERE issue_relations.relation_type = 'relates' AND issue_relations.issue_to_id = 1) AND issues.id NOT IN (SELECT DISTINCT issue_relations.issue_to_id FROM issue_relations WHERE issue_relations.relation_type = 'relates' AND issue_relations.issue_from_id = 1);\n", "t_db": 33.568, "t_rewrite": 33.731, "t_db_constraint": 33.466, "t_rewrite_constraint": 33.347}
{"raw": "SELECT 1 AS \"one\" FROM issue_relations WHERE issue_relations.issue_to_id IS NULL AND issue_relations.issue_from_id = 8 LIMIT 7;\n", "rewrite": "SELECT 1 AS \"one\" FROM issue_relations WHERE False AND issue_relations.issue_from_id = 8 LIMIT 7;\n", "t_db": 0.042, "t_rewrite": 0.015, "t_db_constraint": 0.044, "t_rewrite_constraint": 0.016}
{"raw": "SELECT issues.* FROM issues INNER JOIN issue_statuses ON issue_statuses.id = issues.status_id INNER JOIN trackers ON trackers.id = issues.tracker_id INNER JOIN projects ON projects.id = issues.project_id INNER JOIN enumerations ON enumerations.id = issues.priority_id AND enumerations.type IN ('IssuePriority') WHERE issues.status_id IN ('1') AND (issues.id IN (SELECT DISTINCT issue_relations.issue_from_id FROM issue_relations WHERE issue_relations.relation_type = 'relates' AND issue_relations.issue_to_id = 51) OR issues.id IN (SELECT DISTINCT issue_relations.issue_to_id FROM issue_relations WHERE issue_relations.relation_type = 'relates' AND issue_relations.issue_from_id = 51));\n", "rewrite": "SELECT issues.* FROM issues INNER JOIN issue_statuses ON issue_statuses.id = issues.status_id INNER JOIN trackers ON trackers.id = issues.tracker_id INNER JOIN projects ON projects.id = issues.project_id INNER JOIN enumerations ON enumerations.id = issues.priority_id AND enumerations.type IN ('IssuePriority') WHERE issues.status_id IN ('1') AND (issues.id IN (SELECT issue_relations.issue_from_id FROM issue_relations WHERE issue_relations.relation_type = 'relates' AND issue_relations.issue_to_id = 51) OR issues.id IN (SELECT DISTINCT issue_relations.issue_to_id FROM issue_relations WHERE issue_relations.relation_type = 'relates' AND issue_relations.issue_from_id = 51));\n", "t_db": 2.478, "t_rewrite": 2.504, "t_db_constraint": 2.492, "t_rewrite_constraint": 2.47}
{"raw": "SELECT journals.* FROM journals INNER JOIN issues ON issues.id = journals.journalized_id INNER JOIN projects ON projects.id = issues.project_id INNER JOIN issue_statuses ON issue_statuses.id = issues.status_id WHERE projects.status <> 9 AND (SELECT 1 AS \"one\" FROM enabled_modules AS em WHERE em.project_id = projects.id AND em.name = 'issue_tracking') IS NOT NULL AND projects.is_public = True AND projects.id NOT IN (SELECT project_id FROM members WHERE user_id IN (6, 13)) AND issues.is_private = False AND (journals.private_notes = False OR journals.user_id = 6 OR 1 = 0) AND issues.status_id IN (SELECT id FROM issue_statuses WHERE is_closed = False) ORDER BY journals.created_on DESC LIMIT 4;\n", "rewrite": "SELECT journals.* FROM journals INNER JOIN issues ON issues.id = journals.journalized_id INNER JOIN projects ON projects.id = issues.project_id WHERE projects.status <> 9 AND (SELECT 1 AS \"one\" FROM enabled_modules AS em WHERE em.project_id = projects.id AND em.name = 'issue_tracking') IS NOT NULL AND projects.is_public = True AND projects.id NOT IN (SELECT project_id FROM members WHERE user_id IN (6, 13)) AND issues.is_private = False AND (journals.private_notes = False OR journals.user_id = 6 OR 1 = 0) AND issues.status_id IN (SELECT id FROM issue_statuses WHERE is_closed = False) ORDER BY journals.created_on DESC LIMIT 4;\n", "t_db": 90.742, "t_rewrite": 91.741, "t_db_constraint": 90.343, "t_rewrite_constraint": 90.904}
{"raw": "SELECT journals.* FROM journals INNER JOIN issues ON issues.id = journals.journalized_id INNER JOIN projects ON projects.id = issues.project_id INNER JOIN issue_statuses ON issue_statuses.id = issues.status_id WHERE projects.status <> 9 AND (SELECT 1 AS \"one\" FROM enabled_modules AS em WHERE em.project_id = projects.id AND em.name = 'issue_tracking') IS NOT NULL AND projects.is_public = True AND projects.id NOT IN (SELECT project_id FROM members WHERE user_id IN (6, 13)) AND issues.is_private = False AND (journals.private_notes = False OR journals.user_id = 6 OR 1 = 0) AND issues.status_id IN (SELECT id FROM issue_statuses WHERE is_closed = False) AND projects.lft >= 1 AND projects.rgt <= 10 ORDER BY journals.created_on DESC LIMIT 7;\n", "rewrite": "SELECT journals.* FROM journals INNER JOIN issues ON issues.id = journals.journalized_id INNER JOIN projects ON projects.id = issues.project_id WHERE projects.status <> 9 AND (SELECT 1 AS \"one\" FROM enabled_modules AS em WHERE em.project_id = projects.id AND em.name = 'issue_tracking') IS NOT NULL AND projects.is_public = True AND projects.id NOT IN (SELECT project_id FROM members WHERE user_id IN (6, 13)) AND issues.is_private = False AND (journals.private_notes = False OR journals.user_id = 6 OR 1 = 0) AND issues.status_id IN (SELECT id FROM issue_statuses WHERE is_closed = False) AND projects.lft >= 1 AND projects.rgt <= 10 ORDER BY journals.created_on DESC LIMIT 7;\n", "t_db": 0.658, "t_rewrite": 0.607, "t_db_constraint": 0.637, "t_rewrite_constraint": 0.574}
{"raw": "SELECT issues.* FROM issues INNER JOIN issue_statuses ON issue_statuses.id = issues.status_id INNER JOIN trackers ON trackers.id = issues.tracker_id INNER JOIN projects ON projects.id = issues.project_id INNER JOIN enumerations ON enumerations.id = issues.priority_id AND enumerations.type IN ('IssuePriority') WHERE issues.id IN (SELECT DISTINCT issue_relations.issue_from_id FROM issue_relations, issues AS relissues WHERE issue_relations.relation_type = 'relates' AND issue_relations.issue_to_id = relissues.id AND relissues.project_id <> 1) OR issues.id IN (SELECT DISTINCT issue_relations.issue_to_id FROM issue_relations, issues AS relissues WHERE issue_relations.relation_type = 'relates' AND issue_relations.issue_from_id = relissues.id AND relissues.project_id <> 1);\n", "rewrite": "SELECT issues.* FROM issues INNER JOIN issue_statuses ON issue_statuses.id = issues.status_id INNER JOIN trackers ON trackers.id = issues.tracker_id INNER JOIN projects ON projects.id = issues.project_id INNER JOIN enumerations ON enumerations.id = issues.priority_id AND enumerations.type IN ('IssuePriority') WHERE issues.id IN (SELECT issue_relations.issue_from_id FROM issue_relations, issues AS relissues WHERE issue_relations.relation_type = 'relates' AND issue_relations.issue_to_id = relissues.id AND relissues.project_id <> 1) OR issues.id IN (SELECT issue_relations.issue_to_id FROM issue_relations, issues AS relissues WHERE issue_relations.relation_type = 'relates' AND issue_relations.issue_from_id = relissues.id AND relissues.project_id <> 1);\n", "t_db": 23.042, "t_rewrite": 17.528, "t_db_constraint": 22.917, "t_rewrite_constraint": 17.337}
{"raw": "SELECT DISTINCT users.* FROM users INNER JOIN email_addresses ON email_addresses.user_id = users.id WHERE users.type IN ('User', 'AnonymousUser') AND users.status = 2 AND LOWER(email_addresses.address) IN ('redmine@somenet.foo', 'dlopper@somenet.foo');\n", "rewrite": "SELECT users.* FROM users INNER JOIN email_addresses ON email_addresses.user_id = users.id WHERE users.type IN ('User', 'AnonymousUser') AND users.status = 2 AND LOWER(email_addresses.address) IN ('redmine@somenet.foo', 'dlopper@somenet.foo');\n", "t_db": 5.383, "t_rewrite": 5.292, "t_db_constraint": 5.382, "t_rewrite_constraint": 5.299}
{"raw": "SELECT 1 AS \"one\" FROM projects WHERE projects.status = 1 AND (SELECT 1 AS \"one\" FROM enabled_modules AS em WHERE em.project_id = projects.id AND em.name = 'issue_tracking') IS NOT NULL AND projects.id IN (SELECT DISTINCT project_id FROM projects_trackers) LIMIT 2;\n", "rewrite": "SELECT 1 AS \"one\" FROM projects WHERE projects.status = 1 AND (SELECT 1 AS \"one\" FROM enabled_modules AS em WHERE em.project_id = projects.id AND em.name = 'issue_tracking') IS NOT NULL AND projects.id IN (SELECT project_id FROM projects_trackers) LIMIT 2;\n", "t_db": 0.168, "t_rewrite": 0.126, "t_db_constraint": 0.151, "t_rewrite_constraint": 0.13}
{"raw": "SELECT issues.* FROM issues INNER JOIN issue_statuses ON issue_statuses.id = issues.status_id INNER JOIN trackers ON trackers.id = issues.tracker_id INNER JOIN projects ON projects.id = issues.project_id INNER JOIN enumerations ON enumerations.id = issues.priority_id AND enumerations.type IN ('IssuePriority') WHERE issues.status_id IN (SELECT id FROM issue_statuses WHERE is_closed = False) AND issues.id NOT IN (SELECT issues.id FROM issues LEFT OUTER JOIN custom_values ON custom_values.customized_type = 'Issue' AND custom_values.customized_id = issues.id AND custom_values.custom_field_id = 32 WHERE custom_values.value IN ('value2') AND 1 = 1 AND issues.tracker_id IN (SELECT tracker_id FROM custom_fields_trackers WHERE custom_field_id = 32) AND ((SELECT 1 FROM custom_fields AS ifa WHERE ifa.is_for_all = True AND ifa.id = 32) IS NOT NULL OR issues.project_id IN (SELECT project_id FROM custom_fields_projects WHERE custom_field_id = 32)));\n", "rewrite": "SELECT issues.* FROM issues INNER JOIN trackers ON trackers.id = issues.tracker_id INNER JOIN projects ON projects.id = issues.project_id INNER JOIN enumerations ON enumerations.id = issues.priority_id AND enumerations.type IN ('IssuePriority') WHERE issues.status_id IN (SELECT id FROM issue_statuses WHERE is_closed = False) AND issues.id NOT IN (SELECT issues.id FROM issues LEFT OUTER JOIN custom_values ON custom_values.customized_type = 'Issue' AND custom_values.customized_id = issues.id AND custom_values.custom_field_id = 32 WHERE custom_values.value IN ('value2') AND 1 = 1 AND issues.tracker_id IN (SELECT tracker_id FROM custom_fields_trackers WHERE custom_field_id = 32) AND ((SELECT 1 FROM custom_fields AS ifa WHERE ifa.is_for_all = True AND ifa.id = 32) IS NOT NULL OR issues.project_id IN (SELECT project_id FROM custom_fields_projects WHERE custom_field_id = 32)));\n", "t_db": 35.392, "t_rewrite": 33.581, "t_db_constraint": 35.246, "t_rewrite_constraint": 33.178}
{"raw": "SELECT issues.* FROM issues INNER JOIN issue_statuses ON issue_statuses.id = issues.status_id INNER JOIN trackers ON trackers.id = issues.tracker_id INNER JOIN projects ON projects.id = issues.project_id INNER JOIN enumerations ON enumerations.id = issues.priority_id AND enumerations.type IN ('IssuePriority') WHERE issues.status_id IN (SELECT id FROM issue_statuses WHERE is_closed = False) AND issues.id NOT IN (SELECT issues.id FROM issues LEFT OUTER JOIN custom_values ON custom_values.customized_type = 'Issue' AND custom_values.customized_id = issues.id AND custom_values.custom_field_id = 32 WHERE custom_values.value IN ('value1') AND 1 = 1 AND issues.tracker_id IN (SELECT tracker_id FROM custom_fields_trackers WHERE custom_field_id = 32) AND ((SELECT 1 FROM custom_fields AS ifa WHERE ifa.is_for_all = True AND ifa.id = 32) IS NOT NULL OR issues.project_id IN (SELECT project_id FROM custom_fields_projects WHERE custom_field_id = 32)));\n", "rewrite": "SELECT issues.* FROM issues INNER JOIN trackers ON trackers.id = issues.tracker_id INNER JOIN projects ON projects.id = issues.project_id INNER JOIN enumerations ON enumerations.id = issues.priority_id AND enumerations.type IN ('IssuePriority') WHERE issues.status_id IN (SELECT id FROM issue_statuses WHERE is_closed = False) AND issues.id NOT IN (SELECT issues.id FROM issues LEFT OUTER JOIN custom_values ON custom_values.customized_type = 'Issue' AND custom_values.customized_id = issues.id AND custom_values.custom_field_id = 32 WHERE custom_values.value IN ('value1') AND 1 = 1 AND issues.tracker_id IN (SELECT tracker_id FROM custom_fields_trackers WHERE custom_field_id = 32) AND ((SELECT 1 FROM custom_fields AS ifa WHERE ifa.is_for_all = True AND ifa.id = 32) IS NOT NULL OR issues.project_id IN (SELECT project_id FROM custom_fields_projects WHERE custom_field_id = 32)));\n", "t_db": 35.355, "t_rewrite": 33.502, "t_db_constraint": 35.274, "t_rewrite_constraint": 33.172}
