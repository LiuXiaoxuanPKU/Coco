--
-- PostgreSQL database dump
--

-- Dumped from database version 13.3 (Ubuntu 13.3-1.pgdg18.04+1)
-- Dumped by pg_dump version 13.3 (Ubuntu 13.3-1.pgdg18.04+1)

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

--
-- Name: citext; Type: EXTENSION; Schema: -; Owner: -
--

CREATE EXTENSION IF NOT EXISTS citext WITH SCHEMA public;


--
-- Name: EXTENSION citext; Type: COMMENT; Schema: -; Owner: 
--

COMMENT ON EXTENSION citext IS 'data type for case-insensitive character strings';


--
-- Name: pg_stat_statements; Type: EXTENSION; Schema: -; Owner: -
--

CREATE EXTENSION IF NOT EXISTS pg_stat_statements WITH SCHEMA public;


--
-- Name: EXTENSION pg_stat_statements; Type: COMMENT; Schema: -; Owner: 
--

COMMENT ON EXTENSION pg_stat_statements IS 'track planning and execution statistics of all SQL statements executed';


--
-- Name: pg_trgm; Type: EXTENSION; Schema: -; Owner: -
--

CREATE EXTENSION IF NOT EXISTS pg_trgm WITH SCHEMA public;


--
-- Name: EXTENSION pg_trgm; Type: COMMENT; Schema: -; Owner: 
--

COMMENT ON EXTENSION pg_trgm IS 'text similarity measurement and index searching based on trigrams';


--
-- Name: pgcrypto; Type: EXTENSION; Schema: -; Owner: -
--

CREATE EXTENSION IF NOT EXISTS pgcrypto WITH SCHEMA public;


--
-- Name: EXTENSION pgcrypto; Type: COMMENT; Schema: -; Owner: 
--

COMMENT ON EXTENSION pgcrypto IS 'cryptographic functions';


--
-- Name: unaccent; Type: EXTENSION; Schema: -; Owner: -
--

CREATE EXTENSION IF NOT EXISTS unaccent WITH SCHEMA public;


--
-- Name: EXTENSION unaccent; Type: COMMENT; Schema: -; Owner: 
--

COMMENT ON EXTENSION unaccent IS 'text search dictionary that removes accents';


--
-- Name: articles_video_state_storage; Type: TYPE; Schema: public; Owner: ubuntu
--

CREATE TYPE public.articles_video_state_storage AS ENUM (
    'COMPLETED',
    'PROGRESSING'
);


ALTER TYPE public.articles_video_state_storage OWNER TO ubuntu;

--
-- Name: broadcasts_banner_style_storage; Type: TYPE; Schema: public; Owner: ubuntu
--

CREATE TYPE public.broadcasts_banner_style_storage AS ENUM (
);


ALTER TYPE public.broadcasts_banner_style_storage OWNER TO ubuntu;

--
-- Name: broadcasts_type_of_storage; Type: TYPE; Schema: public; Owner: ubuntu
--

CREATE TYPE public.broadcasts_type_of_storage AS ENUM (
    'Welcome',
    'Announcement'
);


ALTER TYPE public.broadcasts_type_of_storage OWNER TO ubuntu;

--
-- Name: broadcasts_type_of_value; Type: TYPE; Schema: public; Owner: ubuntu
--

CREATE TYPE public.broadcasts_type_of_value AS ENUM (
    'Welcome',
    'Announcement'
);


ALTER TYPE public.broadcasts_type_of_value OWNER TO ubuntu;

--
-- Name: chat_channel_memberships_role_storage; Type: TYPE; Schema: public; Owner: ubuntu
--

CREATE TYPE public.chat_channel_memberships_role_storage AS ENUM (
    'mod',
    'member'
);


ALTER TYPE public.chat_channel_memberships_role_storage OWNER TO ubuntu;

--
-- Name: chat_channel_memberships_status_storage; Type: TYPE; Schema: public; Owner: ubuntu
--

CREATE TYPE public.chat_channel_memberships_status_storage AS ENUM (
    'inactive',
    'left_channel',
    'active',
    'joining_request',
    'removed_from_channel',
    'rejected',
    'pending'
);


ALTER TYPE public.chat_channel_memberships_status_storage OWNER TO ubuntu;

--
-- Name: chat_channel_memberships_status_value; Type: TYPE; Schema: public; Owner: ubuntu
--

CREATE TYPE public.chat_channel_memberships_status_value AS ENUM (
    'inactive',
    'left_channel',
    'active',
    'joining_request',
    'removed_from_channel',
    'rejected',
    'pending'
);


ALTER TYPE public.chat_channel_memberships_status_value OWNER TO ubuntu;

--
-- Name: chat_channels_channel_type_storage; Type: TYPE; Schema: public; Owner: ubuntu
--

CREATE TYPE public.chat_channels_channel_type_storage AS ENUM (
    'open',
    'direct',
    'invite_only'
);


ALTER TYPE public.chat_channels_channel_type_storage OWNER TO ubuntu;

--
-- Name: chat_channels_status_storage; Type: TYPE; Schema: public; Owner: ubuntu
--

CREATE TYPE public.chat_channels_status_storage AS ENUM (
    'inactive',
    'active',
    'blocked'
);


ALTER TYPE public.chat_channels_status_storage OWNER TO ubuntu;

--
-- Name: comments_commentable_type_storage; Type: TYPE; Schema: public; Owner: ubuntu
--

CREATE TYPE public.comments_commentable_type_storage AS ENUM (
    'Article'
);


ALTER TYPE public.comments_commentable_type_storage OWNER TO ubuntu;

--
-- Name: comments_commentable_type_value; Type: TYPE; Schema: public; Owner: ubuntu
--

CREATE TYPE public.comments_commentable_type_value AS ENUM (
    'Article'
);


ALTER TYPE public.comments_commentable_type_value OWNER TO ubuntu;

--
-- Name: consumer_apps_platform_storage; Type: TYPE; Schema: public; Owner: ubuntu
--

CREATE TYPE public.consumer_apps_platform_storage AS ENUM (
    'iOS',
    'Android'
);


ALTER TYPE public.consumer_apps_platform_storage OWNER TO ubuntu;

--
-- Name: credits_purchase_type_storage; Type: TYPE; Schema: public; Owner: ubuntu
--

CREATE TYPE public.credits_purchase_type_storage AS ENUM (
);


ALTER TYPE public.credits_purchase_type_storage OWNER TO ubuntu;

--
-- Name: devices_platform_storage; Type: TYPE; Schema: public; Owner: ubuntu
--

CREATE TYPE public.devices_platform_storage AS ENUM (
    'Android',
    'iOS'
);


ALTER TYPE public.devices_platform_storage OWNER TO ubuntu;

--
-- Name: display_ad_events_category_storage; Type: TYPE; Schema: public; Owner: ubuntu
--

CREATE TYPE public.display_ad_events_category_storage AS ENUM (
    'impression',
    'click'
);


ALTER TYPE public.display_ad_events_category_storage OWNER TO ubuntu;

--
-- Name: display_ad_events_context_type_storage; Type: TYPE; Schema: public; Owner: ubuntu
--

CREATE TYPE public.display_ad_events_context_type_storage AS ENUM (
    'home'
);


ALTER TYPE public.display_ad_events_context_type_storage OWNER TO ubuntu;

--
-- Name: display_ads_placement_area_storage; Type: TYPE; Schema: public; Owner: ubuntu
--

CREATE TYPE public.display_ads_placement_area_storage AS ENUM (
    'sidebar_left',
    'sidebar_right'
);


ALTER TYPE public.display_ads_placement_area_storage OWNER TO ubuntu;

--
-- Name: display_ads_placement_area_value; Type: TYPE; Schema: public; Owner: ubuntu
--

CREATE TYPE public.display_ads_placement_area_value AS ENUM (
    'sidebar_left',
    'sidebar_right'
);


ALTER TYPE public.display_ads_placement_area_value OWNER TO ubuntu;

--
-- Name: email_authorizations_type_of_storage; Type: TYPE; Schema: public; Owner: ubuntu
--

CREATE TYPE public.email_authorizations_type_of_storage AS ENUM (
    'account_lockout',
    'merge_request',
    'uuid_issue',
    'account_ownership'
);


ALTER TYPE public.email_authorizations_type_of_storage OWNER TO ubuntu;

--
-- Name: feedback_messages_category_storage; Type: TYPE; Schema: public; Owner: ubuntu
--

CREATE TYPE public.feedback_messages_category_storage AS ENUM (
    'listings',
    'other',
    'rude or vulgar',
    'spam',
    'bug',
    'harassment'
);


ALTER TYPE public.feedback_messages_category_storage OWNER TO ubuntu;

--
-- Name: feedback_messages_status_storage; Type: TYPE; Schema: public; Owner: ubuntu
--

CREATE TYPE public.feedback_messages_status_storage AS ENUM (
    'Open',
    'Resolved',
    'Invalid'
);


ALTER TYPE public.feedback_messages_status_storage OWNER TO ubuntu;

--
-- Name: follows_blocked_storage; Type: TYPE; Schema: public; Owner: ubuntu
--

CREATE TYPE public.follows_blocked_storage AS ENUM (
    'f',
    't'
);


ALTER TYPE public.follows_blocked_storage OWNER TO ubuntu;

--
-- Name: follows_followable_type_storage; Type: TYPE; Schema: public; Owner: ubuntu
--

CREATE TYPE public.follows_followable_type_storage AS ENUM (
    'Organization',
    'User'
);


ALTER TYPE public.follows_followable_type_storage OWNER TO ubuntu;

--
-- Name: follows_followable_type_value; Type: TYPE; Schema: public; Owner: ubuntu
--

CREATE TYPE public.follows_followable_type_value AS ENUM (
    'Organization',
    'User'
);


ALTER TYPE public.follows_followable_type_value OWNER TO ubuntu;

--
-- Name: follows_follower_type_storage; Type: TYPE; Schema: public; Owner: ubuntu
--

CREATE TYPE public.follows_follower_type_storage AS ENUM (
    'User'
);


ALTER TYPE public.follows_follower_type_storage OWNER TO ubuntu;

--
-- Name: follows_follower_type_value; Type: TYPE; Schema: public; Owner: ubuntu
--

CREATE TYPE public.follows_follower_type_value AS ENUM (
    'User'
);


ALTER TYPE public.follows_follower_type_value OWNER TO ubuntu;

--
-- Name: follows_subscription_status_storage; Type: TYPE; Schema: public; Owner: ubuntu
--

CREATE TYPE public.follows_subscription_status_storage AS ENUM (
    'none',
    'all_articles'
);


ALTER TYPE public.follows_subscription_status_storage OWNER TO ubuntu;

--
-- Name: follows_subscription_status_value; Type: TYPE; Schema: public; Owner: ubuntu
--

CREATE TYPE public.follows_subscription_status_value AS ENUM (
    'none',
    'all_articles'
);


ALTER TYPE public.follows_subscription_status_value OWNER TO ubuntu;

--
-- Name: github_issues_category_storage; Type: TYPE; Schema: public; Owner: ubuntu
--

CREATE TYPE public.github_issues_category_storage AS ENUM (
    'issue',
    'issue_comment'
);


ALTER TYPE public.github_issues_category_storage OWNER TO ubuntu;

--
-- Name: html_variants_group_storage; Type: TYPE; Schema: public; Owner: ubuntu
--

CREATE TYPE public.html_variants_group_storage AS ENUM (
    'campaign',
    'badge_landing_page',
    'article_show_below_article_cta'
);


ALTER TYPE public.html_variants_group_storage OWNER TO ubuntu;

--
-- Name: html_variants_group_value; Type: TYPE; Schema: public; Owner: ubuntu
--

CREATE TYPE public.html_variants_group_value AS ENUM (
    'campaign',
    'badge_landing_page',
    'article_show_below_article_cta'
);


ALTER TYPE public.html_variants_group_value OWNER TO ubuntu;

--
-- Name: identities_provider_storage; Type: TYPE; Schema: public; Owner: ubuntu
--

CREATE TYPE public.identities_provider_storage AS ENUM (
    'twitter',
    'apple',
    'github',
    'facebook'
);


ALTER TYPE public.identities_provider_storage OWNER TO ubuntu;

--
-- Name: identities_provider_value; Type: TYPE; Schema: public; Owner: ubuntu
--

CREATE TYPE public.identities_provider_value AS ENUM (
    'twitter',
    'apple',
    'github',
    'facebook'
);


ALTER TYPE public.identities_provider_value OWNER TO ubuntu;

--
-- Name: mentions_mentionable_type_storage; Type: TYPE; Schema: public; Owner: ubuntu
--

CREATE TYPE public.mentions_mentionable_type_storage AS ENUM (
    'Comment',
    'Article'
);


ALTER TYPE public.mentions_mentionable_type_storage OWNER TO ubuntu;

--
-- Name: mentions_mentionable_type_value; Type: TYPE; Schema: public; Owner: ubuntu
--

CREATE TYPE public.mentions_mentionable_type_value AS ENUM (
    'Comment',
    'Article'
);


ALTER TYPE public.mentions_mentionable_type_value OWNER TO ubuntu;

--
-- Name: navigation_links_display_only_when_signed_in_storage; Type: TYPE; Schema: public; Owner: ubuntu
--

CREATE TYPE public.navigation_links_display_only_when_signed_in_storage AS ENUM (
    'f',
    't'
);


ALTER TYPE public.navigation_links_display_only_when_signed_in_storage OWNER TO ubuntu;

--
-- Name: notes_noteable_type_storage; Type: TYPE; Schema: public; Owner: ubuntu
--

CREATE TYPE public.notes_noteable_type_storage AS ENUM (
    'User',
    'FeedbackMessage'
);


ALTER TYPE public.notes_noteable_type_storage OWNER TO ubuntu;

--
-- Name: notes_noteable_type_value; Type: TYPE; Schema: public; Owner: ubuntu
--

CREATE TYPE public.notes_noteable_type_value AS ENUM (
    'User',
    'FeedbackMessage'
);


ALTER TYPE public.notes_noteable_type_value OWNER TO ubuntu;

--
-- Name: notification_subscriptions_config_storage; Type: TYPE; Schema: public; Owner: ubuntu
--

CREATE TYPE public.notification_subscriptions_config_storage AS ENUM (
    'only_author_comments',
    'top_level_comments',
    'all_comments'
);


ALTER TYPE public.notification_subscriptions_config_storage OWNER TO ubuntu;

--
-- Name: notification_subscriptions_config_value; Type: TYPE; Schema: public; Owner: ubuntu
--

CREATE TYPE public.notification_subscriptions_config_value AS ENUM (
    'only_author_comments',
    'top_level_comments',
    'all_comments'
);


ALTER TYPE public.notification_subscriptions_config_value OWNER TO ubuntu;

--
-- Name: notification_subscriptions_notifiable_type_storage; Type: TYPE; Schema: public; Owner: ubuntu
--

CREATE TYPE public.notification_subscriptions_notifiable_type_storage AS ENUM (
    'Comment',
    'Article'
);


ALTER TYPE public.notification_subscriptions_notifiable_type_storage OWNER TO ubuntu;

--
-- Name: notification_subscriptions_notifiable_type_value; Type: TYPE; Schema: public; Owner: ubuntu
--

CREATE TYPE public.notification_subscriptions_notifiable_type_value AS ENUM (
    'Comment',
    'Article'
);


ALTER TYPE public.notification_subscriptions_notifiable_type_value OWNER TO ubuntu;

--
-- Name: organization_memberships_type_of_user_storage; Type: TYPE; Schema: public; Owner: ubuntu
--

CREATE TYPE public.organization_memberships_type_of_user_storage AS ENUM (
    'guest',
    'admin',
    'member'
);


ALTER TYPE public.organization_memberships_type_of_user_storage OWNER TO ubuntu;

--
-- Name: organization_memberships_type_of_user_value; Type: TYPE; Schema: public; Owner: ubuntu
--

CREATE TYPE public.organization_memberships_type_of_user_value AS ENUM (
    'guest',
    'admin',
    'member'
);


ALTER TYPE public.organization_memberships_type_of_user_value OWNER TO ubuntu;

--
-- Name: pages_template_storage; Type: TYPE; Schema: public; Owner: ubuntu
--

CREATE TYPE public.pages_template_storage AS ENUM (
    'full_within_layout',
    'contained'
);


ALTER TYPE public.pages_template_storage OWNER TO ubuntu;

--
-- Name: podcast_episode_appearances_role_storage; Type: TYPE; Schema: public; Owner: ubuntu
--

CREATE TYPE public.podcast_episode_appearances_role_storage AS ENUM (
    'host',
    'guest'
);


ALTER TYPE public.podcast_episode_appearances_role_storage OWNER TO ubuntu;

--
-- Name: profile_fields_show_in_onboarding_storage; Type: TYPE; Schema: public; Owner: ubuntu
--

CREATE TYPE public.profile_fields_show_in_onboarding_storage AS ENUM (
    'f',
    't'
);


ALTER TYPE public.profile_fields_show_in_onboarding_storage OWNER TO ubuntu;

--
-- Name: profile_pins_pinnable_type_storage; Type: TYPE; Schema: public; Owner: ubuntu
--

CREATE TYPE public.profile_pins_pinnable_type_storage AS ENUM (
    'Article'
);


ALTER TYPE public.profile_pins_pinnable_type_storage OWNER TO ubuntu;

--
-- Name: profile_pins_pinnable_type_value; Type: TYPE; Schema: public; Owner: ubuntu
--

CREATE TYPE public.profile_pins_pinnable_type_value AS ENUM (
    'Article'
);


ALTER TYPE public.profile_pins_pinnable_type_value OWNER TO ubuntu;

--
-- Name: profile_pins_profile_type_storage; Type: TYPE; Schema: public; Owner: ubuntu
--

CREATE TYPE public.profile_pins_profile_type_storage AS ENUM (
    'User'
);


ALTER TYPE public.profile_pins_profile_type_storage OWNER TO ubuntu;

--
-- Name: profile_pins_profile_type_value; Type: TYPE; Schema: public; Owner: ubuntu
--

CREATE TYPE public.profile_pins_profile_type_value AS ENUM (
    'User'
);


ALTER TYPE public.profile_pins_profile_type_value OWNER TO ubuntu;

--
-- Name: rating_votes_context_storage; Type: TYPE; Schema: public; Owner: ubuntu
--

CREATE TYPE public.rating_votes_context_storage AS ENUM (
    'explicit',
    'comment',
    'readinglist_reaction'
);


ALTER TYPE public.rating_votes_context_storage OWNER TO ubuntu;

--
-- Name: rating_votes_context_value; Type: TYPE; Schema: public; Owner: ubuntu
--

CREATE TYPE public.rating_votes_context_value AS ENUM (
    'explicit',
    'comment',
    'readinglist_reaction'
);


ALTER TYPE public.rating_votes_context_value OWNER TO ubuntu;

--
-- Name: rating_votes_group_storage; Type: TYPE; Schema: public; Owner: ubuntu
--

CREATE TYPE public.rating_votes_group_storage AS ENUM (
    'experience_level'
);


ALTER TYPE public.rating_votes_group_storage OWNER TO ubuntu;

--
-- Name: reactions_category_storage; Type: TYPE; Schema: public; Owner: ubuntu
--

CREATE TYPE public.reactions_category_storage AS ENUM (
    'like',
    'unicorn',
    'vomit',
    'thinking',
    'readinglist',
    'thumbsdown',
    'hands',
    'thumbsup'
);


ALTER TYPE public.reactions_category_storage OWNER TO ubuntu;

--
-- Name: reactions_category_value; Type: TYPE; Schema: public; Owner: ubuntu
--

CREATE TYPE public.reactions_category_value AS ENUM (
    'like',
    'unicorn',
    'vomit',
    'thinking',
    'readinglist',
    'thumbsdown',
    'hands',
    'thumbsup'
);


ALTER TYPE public.reactions_category_value OWNER TO ubuntu;

--
-- Name: reactions_reactable_type_storage; Type: TYPE; Schema: public; Owner: ubuntu
--

CREATE TYPE public.reactions_reactable_type_storage AS ENUM (
    'Comment',
    'User',
    'Article'
);


ALTER TYPE public.reactions_reactable_type_storage OWNER TO ubuntu;

--
-- Name: reactions_reactable_type_value; Type: TYPE; Schema: public; Owner: ubuntu
--

CREATE TYPE public.reactions_reactable_type_value AS ENUM (
    'Comment',
    'User',
    'Article'
);


ALTER TYPE public.reactions_reactable_type_value OWNER TO ubuntu;

--
-- Name: reactions_status_storage; Type: TYPE; Schema: public; Owner: ubuntu
--

CREATE TYPE public.reactions_status_storage AS ENUM (
    'invalid',
    'confirmed',
    'archived',
    'valid'
);


ALTER TYPE public.reactions_status_storage OWNER TO ubuntu;

--
-- Name: reactions_status_value; Type: TYPE; Schema: public; Owner: ubuntu
--

CREATE TYPE public.reactions_status_value AS ENUM (
    'invalid',
    'confirmed',
    'archived',
    'valid'
);


ALTER TYPE public.reactions_status_value OWNER TO ubuntu;

--
-- Name: response_templates_content_type_storage; Type: TYPE; Schema: public; Owner: ubuntu
--

CREATE TYPE public.response_templates_content_type_storage AS ENUM (
    'body_markdown',
    'plain_text',
    'html'
);


ALTER TYPE public.response_templates_content_type_storage OWNER TO ubuntu;

--
-- Name: response_templates_content_type_value; Type: TYPE; Schema: public; Owner: ubuntu
--

CREATE TYPE public.response_templates_content_type_value AS ENUM (
    'body_markdown',
    'plain_text',
    'html'
);


ALTER TYPE public.response_templates_content_type_value OWNER TO ubuntu;

--
-- Name: response_templates_type_of_storage; Type: TYPE; Schema: public; Owner: ubuntu
--

CREATE TYPE public.response_templates_type_of_storage AS ENUM (
    'abuse_report_email_reply',
    'email_reply',
    'mod_comment',
    'personal_comment',
    'tag_adjustment'
);


ALTER TYPE public.response_templates_type_of_storage OWNER TO ubuntu;

--
-- Name: response_templates_type_of_value; Type: TYPE; Schema: public; Owner: ubuntu
--

CREATE TYPE public.response_templates_type_of_value AS ENUM (
    'abuse_report_email_reply',
    'email_reply',
    'mod_comment',
    'personal_comment',
    'tag_adjustment'
);


ALTER TYPE public.response_templates_type_of_value OWNER TO ubuntu;

--
-- Name: roles_name_storage; Type: TYPE; Schema: public; Owner: ubuntu
--

CREATE TYPE public.roles_name_storage AS ENUM (
    'codeland_admin',
    'warned',
    'support_admin',
    'admin',
    'mod_relations_admin',
    'comment_suspended',
    'single_resource_admin',
    'suspended',
    'tech_admin',
    'super_admin',
    'podcast_admin',
    'restricted_liquid_tag',
    'chatroom_beta_tester',
    'tag_moderator',
    'workshop_pass',
    'trusted'
);


ALTER TYPE public.roles_name_storage OWNER TO ubuntu;

--
-- Name: roles_name_value; Type: TYPE; Schema: public; Owner: ubuntu
--

CREATE TYPE public.roles_name_value AS ENUM (
    'codeland_admin',
    'warned',
    'support_admin',
    'admin',
    'mod_relations_admin',
    'comment_suspended',
    'single_resource_admin',
    'suspended',
    'tech_admin',
    'super_admin',
    'podcast_admin',
    'restricted_liquid_tag',
    'chatroom_beta_tester',
    'tag_moderator',
    'workshop_pass',
    'trusted'
);


ALTER TYPE public.roles_name_value OWNER TO ubuntu;

--
-- Name: roles_resource_type_storage; Type: TYPE; Schema: public; Owner: ubuntu
--

CREATE TYPE public.roles_resource_type_storage AS ENUM (
    'DataUpdateScript'
);


ALTER TYPE public.roles_resource_type_storage OWNER TO ubuntu;

--
-- Name: roles_resource_type_value; Type: TYPE; Schema: public; Owner: ubuntu
--

CREATE TYPE public.roles_resource_type_value AS ENUM (
    'DataUpdateScript'
);


ALTER TYPE public.roles_resource_type_value OWNER TO ubuntu;

--
-- Name: sponsorships_level_storage; Type: TYPE; Schema: public; Owner: ubuntu
--

CREATE TYPE public.sponsorships_level_storage AS ENUM (
    'devrel',
    'media',
    'silver',
    'bronze',
    'gold',
    'tag'
);


ALTER TYPE public.sponsorships_level_storage OWNER TO ubuntu;

--
-- Name: sponsorships_level_value; Type: TYPE; Schema: public; Owner: ubuntu
--

CREATE TYPE public.sponsorships_level_value AS ENUM (
    'devrel',
    'media',
    'silver',
    'bronze',
    'gold',
    'tag'
);


ALTER TYPE public.sponsorships_level_value OWNER TO ubuntu;

--
-- Name: sponsorships_status_storage; Type: TYPE; Schema: public; Owner: ubuntu
--

CREATE TYPE public.sponsorships_status_storage AS ENUM (
    'none',
    'pending',
    'live'
);


ALTER TYPE public.sponsorships_status_storage OWNER TO ubuntu;

--
-- Name: tag_adjustments_adjustment_type_storage; Type: TYPE; Schema: public; Owner: ubuntu
--

CREATE TYPE public.tag_adjustments_adjustment_type_storage AS ENUM (
    'addition'
);


ALTER TYPE public.tag_adjustments_adjustment_type_storage OWNER TO ubuntu;

--
-- Name: tag_adjustments_adjustment_type_value; Type: TYPE; Schema: public; Owner: ubuntu
--

CREATE TYPE public.tag_adjustments_adjustment_type_value AS ENUM (
    'addition'
);


ALTER TYPE public.tag_adjustments_adjustment_type_value OWNER TO ubuntu;

--
-- Name: tag_adjustments_status_storage; Type: TYPE; Schema: public; Owner: ubuntu
--

CREATE TYPE public.tag_adjustments_status_storage AS ENUM (
    'pending',
    'committed_and_resolvable',
    'resolved',
    'committed'
);


ALTER TYPE public.tag_adjustments_status_storage OWNER TO ubuntu;

--
-- Name: tag_adjustments_status_value; Type: TYPE; Schema: public; Owner: ubuntu
--

CREATE TYPE public.tag_adjustments_status_value AS ENUM (
    'pending',
    'committed_and_resolvable',
    'resolved',
    'committed'
);


ALTER TYPE public.tag_adjustments_status_value OWNER TO ubuntu;

--
-- Name: user_blocks_config_storage; Type: TYPE; Schema: public; Owner: ubuntu
--

CREATE TYPE public.user_blocks_config_storage AS ENUM (
    'default'
);


ALTER TYPE public.user_blocks_config_storage OWNER TO ubuntu;

--
-- Name: user_subscriptions_user_subscription_sourceable_type_storage; Type: TYPE; Schema: public; Owner: ubuntu
--

CREATE TYPE public.user_subscriptions_user_subscription_sourceable_type_storage AS ENUM (
);


ALTER TYPE public.user_subscriptions_user_subscription_sourceable_type_storage OWNER TO ubuntu;

--
-- Name: update_reading_list_document(); Type: FUNCTION; Schema: public; Owner: ubuntu
--

CREATE FUNCTION public.update_reading_list_document() RETURNS trigger
    LANGUAGE plpgsql
    AS $_$
DECLARE
    l_org_vector tsvector;
    l_user_vector tsvector;
BEGIN
    NEW.reading_list_document :=
      setweight(to_tsvector('simple'::regconfig, unaccent(coalesce(NEW.title, ''))), 'A') ||
      setweight(to_tsvector('simple'::regconfig, unaccent(coalesce(NEW.cached_tag_list, ''))), 'B') ||
      setweight(to_tsvector('simple'::regconfig, unaccent(coalesce(NEW.body_markdown, ''))), 'C') ||
      setweight(to_tsvector('simple'::regconfig, unaccent(coalesce(NEW.cached_user_name, ''))), 'D') ||
      setweight(to_tsvector('simple'::regconfig, unaccent(coalesce(NEW.cached_user_username, ''))), 'D') ||
      setweight(to_tsvector('simple'::regconfig,
        unaccent(
          coalesce(
            array_to_string(
              -- cached_organization is serialized to the DB as a YAML string, we extract only the name attribute
              regexp_match(NEW.cached_organization, 'name: (.*)$', 'n'),
              ' '
            ),
            ''
          )
        )
      ), 'D');
    RETURN NEW;
END;
$_$;


ALTER FUNCTION public.update_reading_list_document() OWNER TO ubuntu;

SET default_tablespace = '';

SET default_table_access_method = heap;

--
-- Name: ahoy_events; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.ahoy_events (
    id bigint NOT NULL,
    name character varying,
    properties jsonb,
    "time" timestamp without time zone,
    user_id bigint,
    visit_id bigint
);


ALTER TABLE public.ahoy_events OWNER TO ubuntu;

--
-- Name: ahoy_events_id_seq; Type: SEQUENCE; Schema: public; Owner: ubuntu
--

CREATE SEQUENCE public.ahoy_events_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.ahoy_events_id_seq OWNER TO ubuntu;

--
-- Name: ahoy_events_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: ubuntu
--

ALTER SEQUENCE public.ahoy_events_id_seq OWNED BY public.ahoy_events.id;


--
-- Name: ahoy_messages; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.ahoy_messages (
    id bigint NOT NULL,
    clicked_at timestamp without time zone,
    content text,
    feedback_message_id bigint,
    mailer character varying,
    sent_at timestamp without time zone,
    subject text,
    "to" text,
    token character varying,
    user_id bigint,
    user_type character varying,
    utm_campaign character varying,
    utm_content character varying,
    utm_medium character varying,
    utm_source character varying,
    utm_term character varying
);


ALTER TABLE public.ahoy_messages OWNER TO ubuntu;

--
-- Name: ahoy_messages_id_seq; Type: SEQUENCE; Schema: public; Owner: ubuntu
--

CREATE SEQUENCE public.ahoy_messages_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.ahoy_messages_id_seq OWNER TO ubuntu;

--
-- Name: ahoy_messages_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: ubuntu
--

ALTER SEQUENCE public.ahoy_messages_id_seq OWNED BY public.ahoy_messages.id;


--
-- Name: ahoy_visits; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.ahoy_visits (
    id bigint NOT NULL,
    started_at timestamp without time zone,
    user_id bigint,
    visit_token character varying,
    visitor_token character varying
);


ALTER TABLE public.ahoy_visits OWNER TO ubuntu;

--
-- Name: ahoy_visits_id_seq; Type: SEQUENCE; Schema: public; Owner: ubuntu
--

CREATE SEQUENCE public.ahoy_visits_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.ahoy_visits_id_seq OWNER TO ubuntu;

--
-- Name: ahoy_visits_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: ubuntu
--

ALTER SEQUENCE public.ahoy_visits_id_seq OWNED BY public.ahoy_visits.id;


--
-- Name: announcements; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.announcements (
    id bigint NOT NULL,
    banner_style character varying,
    created_at timestamp(6) without time zone NOT NULL,
    updated_at timestamp(6) without time zone NOT NULL
);


ALTER TABLE public.announcements OWNER TO ubuntu;

--
-- Name: announcements_id_seq; Type: SEQUENCE; Schema: public; Owner: ubuntu
--

CREATE SEQUENCE public.announcements_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.announcements_id_seq OWNER TO ubuntu;

--
-- Name: announcements_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: ubuntu
--

ALTER SEQUENCE public.announcements_id_seq OWNED BY public.announcements.id;


--
-- Name: api_secrets; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.api_secrets (
    id bigint NOT NULL,
    created_at timestamp without time zone NOT NULL,
    description character varying NOT NULL,
    secret character varying,
    updated_at timestamp without time zone NOT NULL,
    user_id bigint
);


ALTER TABLE public.api_secrets OWNER TO ubuntu;

--
-- Name: api_secrets_id_seq; Type: SEQUENCE; Schema: public; Owner: ubuntu
--

CREATE SEQUENCE public.api_secrets_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.api_secrets_id_seq OWNER TO ubuntu;

--
-- Name: api_secrets_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: ubuntu
--

ALTER SEQUENCE public.api_secrets_id_seq OWNED BY public.api_secrets.id;


--
-- Name: ar_internal_metadata; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.ar_internal_metadata (
    key character varying NOT NULL,
    value character varying,
    created_at timestamp(6) without time zone NOT NULL,
    updated_at timestamp(6) without time zone NOT NULL
);


ALTER TABLE public.ar_internal_metadata OWNER TO ubuntu;

--
-- Name: articles; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.articles (
    id bigint NOT NULL,
    any_comments_hidden boolean DEFAULT false,
    approved boolean DEFAULT false,
    archived boolean DEFAULT false,
    body_html text,
    body_markdown text,
    boost_states jsonb DEFAULT '{}'::jsonb NOT NULL,
    cached_organization text,
    cached_tag_list character varying,
    cached_user text,
    cached_user_name character varying,
    cached_user_username character varying,
    canonical_url character varying,
    co_author_ids bigint[] DEFAULT '{}'::bigint[],
    collection_id bigint,
    comment_score integer DEFAULT 0,
    comment_template character varying,
    comments_count integer DEFAULT 0 NOT NULL,
    created_at timestamp without time zone NOT NULL,
    crossposted_at timestamp without time zone,
    description character varying,
    edited_at timestamp without time zone,
    email_digest_eligible boolean DEFAULT true,
    experience_level_rating double precision DEFAULT 5.0,
    experience_level_rating_distribution double precision DEFAULT 5.0,
    featured boolean DEFAULT false,
    featured_number integer,
    feed_source_url character varying,
    hotness_score integer DEFAULT 0,
    last_comment_at timestamp without time zone DEFAULT '2017-01-01 05:00:00'::timestamp without time zone,
    last_experience_level_rating_at timestamp without time zone,
    main_image character varying,
    main_image_background_hex_color character varying DEFAULT '#dddddd'::character varying,
    nth_published_by_author integer DEFAULT 0,
    organic_page_views_count integer DEFAULT 0,
    organic_page_views_past_month_count integer DEFAULT 0,
    organic_page_views_past_week_count integer DEFAULT 0,
    organization_id bigint,
    originally_published_at timestamp without time zone,
    page_views_count integer DEFAULT 0,
    password character varying,
    path character varying,
    positive_reactions_count integer DEFAULT 0 NOT NULL,
    previous_positive_reactions_count integer DEFAULT 0,
    previous_public_reactions_count integer DEFAULT 0 NOT NULL,
    processed_html text,
    public_reactions_count integer DEFAULT 0 NOT NULL,
    published boolean DEFAULT false,
    published_at timestamp without time zone,
    published_from_feed boolean DEFAULT false,
    rating_votes_count integer DEFAULT 0 NOT NULL,
    reactions_count integer DEFAULT 0 NOT NULL,
    reading_list_document tsvector,
    reading_time integer DEFAULT 0,
    receive_notifications boolean DEFAULT true,
    score integer DEFAULT 0,
    search_optimized_description_replacement character varying,
    search_optimized_title_preamble character varying,
    show_comments boolean DEFAULT true,
    slug text,
    social_image character varying,
    spaminess_rating integer DEFAULT 0,
    title character varying,
    updated_at timestamp without time zone NOT NULL,
    user_id bigint,
    user_subscriptions_count integer DEFAULT 0 NOT NULL,
    video character varying,
    video_closed_caption_track_url character varying,
    video_code character varying,
    video_duration_in_seconds double precision DEFAULT 0.0,
    video_source_url character varying,
    video_state character varying,
    video_thumbnail_url character varying
);


ALTER TABLE public.articles OWNER TO ubuntu;

--
-- Name: articles_id_seq; Type: SEQUENCE; Schema: public; Owner: ubuntu
--

CREATE SEQUENCE public.articles_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.articles_id_seq OWNER TO ubuntu;

--
-- Name: articles_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: ubuntu
--

ALTER SEQUENCE public.articles_id_seq OWNED BY public.articles.id;


--
-- Name: articles_storage; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.articles_storage (
    id bigint DEFAULT nextval('public.articles_id_seq'::regclass) NOT NULL,
    any_comments_hidden boolean DEFAULT false,
    approved boolean DEFAULT false,
    archived boolean DEFAULT false,
    body_html text,
    body_markdown text,
    boost_states jsonb DEFAULT '{}'::jsonb NOT NULL,
    cached_organization text,
    cached_tag_list character varying,
    cached_user text,
    cached_user_name character varying,
    cached_user_username character varying,
    canonical_url character varying,
    co_author_ids bigint[] DEFAULT '{}'::bigint[],
    collection_id bigint,
    comment_score integer DEFAULT 0,
    comment_template character varying,
    comments_count integer DEFAULT 0 NOT NULL,
    created_at timestamp without time zone NOT NULL,
    crossposted_at timestamp without time zone,
    description character varying,
    edited_at timestamp without time zone,
    email_digest_eligible boolean DEFAULT true,
    experience_level_rating double precision DEFAULT 5.0,
    experience_level_rating_distribution double precision DEFAULT 5.0,
    featured boolean DEFAULT false,
    featured_number integer,
    feed_source_url character varying,
    hotness_score integer DEFAULT 0,
    last_comment_at timestamp without time zone DEFAULT '2017-01-01 05:00:00'::timestamp without time zone,
    last_experience_level_rating_at timestamp without time zone,
    main_image character varying,
    main_image_background_hex_color character varying DEFAULT '#dddddd'::character varying,
    nth_published_by_author integer DEFAULT 0,
    organic_page_views_count integer DEFAULT 0,
    organic_page_views_past_month_count integer DEFAULT 0,
    organic_page_views_past_week_count integer DEFAULT 0,
    organization_id bigint,
    originally_published_at timestamp without time zone,
    page_views_count integer DEFAULT 0,
    password character varying,
    path character varying,
    positive_reactions_count integer DEFAULT 0 NOT NULL,
    previous_positive_reactions_count integer DEFAULT 0,
    previous_public_reactions_count integer DEFAULT 0 NOT NULL,
    processed_html text,
    public_reactions_count integer DEFAULT 0 NOT NULL,
    published boolean DEFAULT false,
    published_at timestamp without time zone,
    published_from_feed boolean DEFAULT false,
    rating_votes_count integer DEFAULT 0 NOT NULL,
    reactions_count integer DEFAULT 0 NOT NULL,
    reading_list_document tsvector,
    reading_time integer DEFAULT 0,
    receive_notifications boolean DEFAULT true,
    score integer DEFAULT 0,
    search_optimized_description_replacement character varying,
    search_optimized_title_preamble character varying,
    show_comments boolean DEFAULT true,
    slug text,
    social_image character varying,
    spaminess_rating integer DEFAULT 0,
    title character varying,
    updated_at timestamp without time zone NOT NULL,
    user_id bigint,
    user_subscriptions_count integer DEFAULT 0 NOT NULL,
    video character varying,
    video_closed_caption_track_url character varying,
    video_code character varying,
    video_duration_in_seconds double precision DEFAULT 0.0,
    video_source_url character varying,
    video_state public.articles_video_state_storage,
    video_thumbnail_url character varying
);


ALTER TABLE public.articles_storage OWNER TO ubuntu;

--
-- Name: audit_logs; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.audit_logs (
    id bigint NOT NULL,
    category character varying,
    created_at timestamp without time zone NOT NULL,
    data jsonb DEFAULT '{}'::jsonb NOT NULL,
    roles character varying[],
    slug character varying,
    updated_at timestamp without time zone NOT NULL,
    user_id bigint
);


ALTER TABLE public.audit_logs OWNER TO ubuntu;

--
-- Name: audit_logs_id_seq; Type: SEQUENCE; Schema: public; Owner: ubuntu
--

CREATE SEQUENCE public.audit_logs_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.audit_logs_id_seq OWNER TO ubuntu;

--
-- Name: audit_logs_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: ubuntu
--

ALTER SEQUENCE public.audit_logs_id_seq OWNED BY public.audit_logs.id;


--
-- Name: badge_achievements; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.badge_achievements (
    id bigint NOT NULL,
    badge_id bigint NOT NULL,
    created_at timestamp without time zone NOT NULL,
    rewarder_id bigint,
    rewarding_context_message text,
    rewarding_context_message_markdown text,
    updated_at timestamp without time zone NOT NULL,
    user_id bigint NOT NULL
);


ALTER TABLE public.badge_achievements OWNER TO ubuntu;

--
-- Name: badge_achievements_id_seq; Type: SEQUENCE; Schema: public; Owner: ubuntu
--

CREATE SEQUENCE public.badge_achievements_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.badge_achievements_id_seq OWNER TO ubuntu;

--
-- Name: badge_achievements_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: ubuntu
--

ALTER SEQUENCE public.badge_achievements_id_seq OWNED BY public.badge_achievements.id;


--
-- Name: badges; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.badges (
    id bigint NOT NULL,
    badge_image character varying,
    created_at timestamp without time zone NOT NULL,
    credits_awarded integer DEFAULT 0 NOT NULL,
    description character varying NOT NULL,
    slug character varying NOT NULL,
    title character varying NOT NULL,
    updated_at timestamp without time zone NOT NULL
);


ALTER TABLE public.badges OWNER TO ubuntu;

--
-- Name: badges_id_seq; Type: SEQUENCE; Schema: public; Owner: ubuntu
--

CREATE SEQUENCE public.badges_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.badges_id_seq OWNER TO ubuntu;

--
-- Name: badges_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: ubuntu
--

ALTER SEQUENCE public.badges_id_seq OWNED BY public.badges.id;


--
-- Name: banished_users; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.banished_users (
    id bigint NOT NULL,
    banished_by_id bigint,
    created_at timestamp without time zone NOT NULL,
    updated_at timestamp without time zone NOT NULL,
    username character varying
);


ALTER TABLE public.banished_users OWNER TO ubuntu;

--
-- Name: banished_users_id_seq; Type: SEQUENCE; Schema: public; Owner: ubuntu
--

CREATE SEQUENCE public.banished_users_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.banished_users_id_seq OWNER TO ubuntu;

--
-- Name: banished_users_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: ubuntu
--

ALTER SEQUENCE public.banished_users_id_seq OWNED BY public.banished_users.id;


--
-- Name: blazer_audits; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.blazer_audits (
    id bigint NOT NULL,
    created_at timestamp without time zone,
    data_source character varying,
    query_id bigint,
    statement text,
    user_id bigint
);


ALTER TABLE public.blazer_audits OWNER TO ubuntu;

--
-- Name: blazer_audits_id_seq; Type: SEQUENCE; Schema: public; Owner: ubuntu
--

CREATE SEQUENCE public.blazer_audits_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.blazer_audits_id_seq OWNER TO ubuntu;

--
-- Name: blazer_audits_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: ubuntu
--

ALTER SEQUENCE public.blazer_audits_id_seq OWNED BY public.blazer_audits.id;


--
-- Name: blazer_checks; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.blazer_checks (
    id bigint NOT NULL,
    check_type character varying,
    created_at timestamp without time zone NOT NULL,
    creator_id bigint,
    emails text,
    last_run_at timestamp without time zone,
    message text,
    query_id bigint,
    schedule character varying,
    slack_channels text,
    state character varying,
    updated_at timestamp without time zone NOT NULL
);


ALTER TABLE public.blazer_checks OWNER TO ubuntu;

--
-- Name: blazer_checks_id_seq; Type: SEQUENCE; Schema: public; Owner: ubuntu
--

CREATE SEQUENCE public.blazer_checks_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.blazer_checks_id_seq OWNER TO ubuntu;

--
-- Name: blazer_checks_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: ubuntu
--

ALTER SEQUENCE public.blazer_checks_id_seq OWNED BY public.blazer_checks.id;


--
-- Name: blazer_dashboard_queries; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.blazer_dashboard_queries (
    id bigint NOT NULL,
    created_at timestamp without time zone NOT NULL,
    dashboard_id bigint,
    "position" integer,
    query_id bigint,
    updated_at timestamp without time zone NOT NULL
);


ALTER TABLE public.blazer_dashboard_queries OWNER TO ubuntu;

--
-- Name: blazer_dashboard_queries_id_seq; Type: SEQUENCE; Schema: public; Owner: ubuntu
--

CREATE SEQUENCE public.blazer_dashboard_queries_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.blazer_dashboard_queries_id_seq OWNER TO ubuntu;

--
-- Name: blazer_dashboard_queries_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: ubuntu
--

ALTER SEQUENCE public.blazer_dashboard_queries_id_seq OWNED BY public.blazer_dashboard_queries.id;


--
-- Name: blazer_dashboards; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.blazer_dashboards (
    id bigint NOT NULL,
    created_at timestamp without time zone NOT NULL,
    creator_id bigint,
    name text,
    updated_at timestamp without time zone NOT NULL
);


ALTER TABLE public.blazer_dashboards OWNER TO ubuntu;

--
-- Name: blazer_dashboards_id_seq; Type: SEQUENCE; Schema: public; Owner: ubuntu
--

CREATE SEQUENCE public.blazer_dashboards_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.blazer_dashboards_id_seq OWNER TO ubuntu;

--
-- Name: blazer_dashboards_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: ubuntu
--

ALTER SEQUENCE public.blazer_dashboards_id_seq OWNED BY public.blazer_dashboards.id;


--
-- Name: blazer_queries; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.blazer_queries (
    id bigint NOT NULL,
    created_at timestamp without time zone NOT NULL,
    creator_id bigint,
    data_source character varying,
    description text,
    name character varying,
    statement text,
    updated_at timestamp without time zone NOT NULL
);


ALTER TABLE public.blazer_queries OWNER TO ubuntu;

--
-- Name: blazer_queries_id_seq; Type: SEQUENCE; Schema: public; Owner: ubuntu
--

CREATE SEQUENCE public.blazer_queries_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.blazer_queries_id_seq OWNER TO ubuntu;

--
-- Name: blazer_queries_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: ubuntu
--

ALTER SEQUENCE public.blazer_queries_id_seq OWNED BY public.blazer_queries.id;


--
-- Name: broadcasts; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.broadcasts (
    id bigint NOT NULL,
    active boolean DEFAULT false,
    active_status_updated_at timestamp without time zone,
    banner_style character varying,
    body_markdown text,
    broadcastable_id bigint,
    broadcastable_type character varying,
    created_at timestamp without time zone,
    processed_html text,
    title character varying,
    type_of character varying,
    updated_at timestamp without time zone
);


ALTER TABLE public.broadcasts OWNER TO ubuntu;

--
-- Name: broadcasts_id_seq; Type: SEQUENCE; Schema: public; Owner: ubuntu
--

CREATE SEQUENCE public.broadcasts_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.broadcasts_id_seq OWNER TO ubuntu;

--
-- Name: broadcasts_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: ubuntu
--

ALTER SEQUENCE public.broadcasts_id_seq OWNED BY public.broadcasts.id;


--
-- Name: broadcasts_new; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.broadcasts_new (
    id bigint DEFAULT nextval('public.broadcasts_id_seq'::regclass) NOT NULL,
    active boolean DEFAULT false,
    active_status_updated_at timestamp without time zone,
    banner_style character varying,
    body_markdown text,
    broadcastable_id bigint,
    broadcastable_type character varying,
    created_at timestamp without time zone,
    processed_html text,
    title character varying,
    type_of_int public.broadcasts_type_of_value,
    updated_at timestamp without time zone
);


ALTER TABLE public.broadcasts_new OWNER TO ubuntu;

--
-- Name: broadcasts_storage; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.broadcasts_storage (
    id bigint DEFAULT nextval('public.broadcasts_id_seq'::regclass) NOT NULL,
    active boolean DEFAULT false,
    active_status_updated_at timestamp without time zone,
    banner_style public.broadcasts_banner_style_storage,
    body_markdown text,
    broadcastable_id bigint,
    broadcastable_type character varying,
    created_at timestamp without time zone,
    processed_html text,
    title character varying,
    type_of public.broadcasts_type_of_storage,
    updated_at timestamp without time zone
);


ALTER TABLE public.broadcasts_storage OWNER TO ubuntu;

--
-- Name: chat_channel_memberships; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.chat_channel_memberships (
    id bigint NOT NULL,
    chat_channel_id bigint NOT NULL,
    created_at timestamp without time zone NOT NULL,
    has_unopened_messages boolean DEFAULT false,
    last_opened_at timestamp without time zone DEFAULT '2017-01-01 05:00:00'::timestamp without time zone,
    role character varying DEFAULT 'member'::character varying,
    show_global_badge_notification boolean DEFAULT true,
    status character varying DEFAULT 'active'::character varying,
    updated_at timestamp without time zone NOT NULL,
    user_id bigint NOT NULL
);


ALTER TABLE public.chat_channel_memberships OWNER TO ubuntu;

--
-- Name: chat_channel_memberships_id_seq; Type: SEQUENCE; Schema: public; Owner: ubuntu
--

CREATE SEQUENCE public.chat_channel_memberships_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.chat_channel_memberships_id_seq OWNER TO ubuntu;

--
-- Name: chat_channel_memberships_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: ubuntu
--

ALTER SEQUENCE public.chat_channel_memberships_id_seq OWNED BY public.chat_channel_memberships.id;


--
-- Name: chat_channel_memberships_new; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.chat_channel_memberships_new (
    id bigint DEFAULT nextval('public.chat_channel_memberships_id_seq'::regclass) NOT NULL,
    chat_channel_id bigint NOT NULL,
    created_at timestamp without time zone NOT NULL,
    has_unopened_messages boolean DEFAULT false,
    last_opened_at timestamp without time zone DEFAULT '2017-01-01 05:00:00'::timestamp without time zone,
    role character varying DEFAULT 'member'::character varying,
    show_global_badge_notification boolean DEFAULT true,
    status_int public.chat_channel_memberships_status_value,
    updated_at timestamp without time zone NOT NULL,
    user_id bigint NOT NULL
);


ALTER TABLE public.chat_channel_memberships_new OWNER TO ubuntu;

--
-- Name: chat_channel_memberships_storage; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.chat_channel_memberships_storage (
    id bigint DEFAULT nextval('public.chat_channel_memberships_id_seq'::regclass) NOT NULL,
    chat_channel_id bigint NOT NULL,
    created_at timestamp without time zone NOT NULL,
    has_unopened_messages boolean DEFAULT false,
    last_opened_at timestamp without time zone DEFAULT '2017-01-01 05:00:00'::timestamp without time zone,
    role public.chat_channel_memberships_role_storage,
    show_global_badge_notification boolean DEFAULT true,
    status public.chat_channel_memberships_status_storage,
    updated_at timestamp without time zone NOT NULL,
    user_id bigint NOT NULL
);


ALTER TABLE public.chat_channel_memberships_storage OWNER TO ubuntu;

--
-- Name: chat_channels; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.chat_channels (
    id bigint NOT NULL,
    channel_name character varying,
    channel_type character varying NOT NULL,
    created_at timestamp without time zone NOT NULL,
    description character varying,
    discoverable boolean DEFAULT false,
    last_message_at timestamp without time zone DEFAULT '2017-01-01 05:00:00'::timestamp without time zone,
    slug character varying,
    status character varying DEFAULT 'active'::character varying,
    updated_at timestamp without time zone NOT NULL
);


ALTER TABLE public.chat_channels OWNER TO ubuntu;

--
-- Name: chat_channels_id_seq; Type: SEQUENCE; Schema: public; Owner: ubuntu
--

CREATE SEQUENCE public.chat_channels_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.chat_channels_id_seq OWNER TO ubuntu;

--
-- Name: chat_channels_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: ubuntu
--

ALTER SEQUENCE public.chat_channels_id_seq OWNED BY public.chat_channels.id;


--
-- Name: chat_channels_storage; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.chat_channels_storage (
    id bigint DEFAULT nextval('public.chat_channels_id_seq'::regclass) NOT NULL,
    channel_name character varying,
    channel_type public.chat_channels_channel_type_storage NOT NULL,
    created_at timestamp without time zone NOT NULL,
    description character varying,
    discoverable boolean DEFAULT false,
    last_message_at timestamp without time zone DEFAULT '2017-01-01 05:00:00'::timestamp without time zone,
    slug character varying,
    status public.chat_channels_status_storage,
    updated_at timestamp without time zone NOT NULL
);


ALTER TABLE public.chat_channels_storage OWNER TO ubuntu;

--
-- Name: classified_listing_categories; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.classified_listing_categories (
    id bigint NOT NULL,
    cost integer NOT NULL,
    created_at timestamp without time zone NOT NULL,
    name character varying NOT NULL,
    rules character varying NOT NULL,
    slug character varying NOT NULL,
    social_preview_color character varying,
    social_preview_description character varying,
    updated_at timestamp without time zone NOT NULL
);


ALTER TABLE public.classified_listing_categories OWNER TO ubuntu;

--
-- Name: classified_listing_categories_id_seq; Type: SEQUENCE; Schema: public; Owner: ubuntu
--

CREATE SEQUENCE public.classified_listing_categories_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.classified_listing_categories_id_seq OWNER TO ubuntu;

--
-- Name: classified_listing_categories_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: ubuntu
--

ALTER SEQUENCE public.classified_listing_categories_id_seq OWNED BY public.classified_listing_categories.id;


--
-- Name: classified_listings; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.classified_listings (
    id bigint NOT NULL,
    body_markdown text,
    bumped_at timestamp without time zone,
    cached_tag_list character varying,
    classified_listing_category_id bigint,
    contact_via_connect boolean DEFAULT false,
    created_at timestamp without time zone NOT NULL,
    expires_at timestamp without time zone,
    location character varying,
    organization_id bigint,
    originally_published_at timestamp without time zone,
    processed_html text,
    published boolean,
    slug character varying,
    title character varying,
    updated_at timestamp without time zone NOT NULL,
    user_id bigint
);


ALTER TABLE public.classified_listings OWNER TO ubuntu;

--
-- Name: classified_listings_id_seq; Type: SEQUENCE; Schema: public; Owner: ubuntu
--

CREATE SEQUENCE public.classified_listings_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.classified_listings_id_seq OWNER TO ubuntu;

--
-- Name: classified_listings_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: ubuntu
--

ALTER SEQUENCE public.classified_listings_id_seq OWNED BY public.classified_listings.id;


--
-- Name: collections; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.collections (
    id bigint NOT NULL,
    created_at timestamp without time zone NOT NULL,
    description character varying,
    main_image character varying,
    organization_id bigint,
    published boolean DEFAULT false,
    slug character varying,
    social_image character varying,
    title character varying,
    updated_at timestamp without time zone NOT NULL,
    user_id bigint
);


ALTER TABLE public.collections OWNER TO ubuntu;

--
-- Name: collections_id_seq; Type: SEQUENCE; Schema: public; Owner: ubuntu
--

CREATE SEQUENCE public.collections_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.collections_id_seq OWNER TO ubuntu;

--
-- Name: collections_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: ubuntu
--

ALTER SEQUENCE public.collections_id_seq OWNED BY public.collections.id;


--
-- Name: comments; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.comments (
    id bigint NOT NULL,
    ancestry character varying,
    body_html text,
    body_markdown text,
    commentable_id bigint,
    commentable_type character varying,
    created_at timestamp without time zone NOT NULL,
    deleted boolean DEFAULT false,
    edited boolean DEFAULT false,
    edited_at timestamp without time zone,
    hidden_by_commentable_user boolean DEFAULT false,
    id_code character varying,
    markdown_character_count integer,
    positive_reactions_count integer DEFAULT 0 NOT NULL,
    processed_html text,
    public_reactions_count integer DEFAULT 0 NOT NULL,
    reactions_count integer DEFAULT 0 NOT NULL,
    receive_notifications boolean DEFAULT true,
    score integer DEFAULT 0,
    spaminess_rating integer DEFAULT 0,
    updated_at timestamp without time zone NOT NULL,
    user_id bigint
);


ALTER TABLE public.comments OWNER TO ubuntu;

--
-- Name: comments_id_seq; Type: SEQUENCE; Schema: public; Owner: ubuntu
--

CREATE SEQUENCE public.comments_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.comments_id_seq OWNER TO ubuntu;

--
-- Name: comments_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: ubuntu
--

ALTER SEQUENCE public.comments_id_seq OWNED BY public.comments.id;


--
-- Name: comments_new; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.comments_new (
    id bigint DEFAULT nextval('public.comments_id_seq'::regclass) NOT NULL,
    ancestry character varying,
    body_html text,
    body_markdown text,
    commentable_id bigint,
    commentable_type_int public.comments_commentable_type_value,
    created_at timestamp without time zone NOT NULL,
    deleted boolean DEFAULT false,
    edited boolean DEFAULT false,
    edited_at timestamp without time zone,
    hidden_by_commentable_user boolean DEFAULT false,
    id_code character varying,
    markdown_character_count integer,
    positive_reactions_count integer DEFAULT 0 NOT NULL,
    processed_html text,
    public_reactions_count integer DEFAULT 0 NOT NULL,
    reactions_count integer DEFAULT 0 NOT NULL,
    receive_notifications boolean DEFAULT true,
    score integer DEFAULT 0,
    spaminess_rating integer DEFAULT 0,
    updated_at timestamp without time zone NOT NULL,
    user_id bigint
);


ALTER TABLE public.comments_new OWNER TO ubuntu;

--
-- Name: comments_storage; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.comments_storage (
    id bigint DEFAULT nextval('public.comments_id_seq'::regclass) NOT NULL,
    ancestry character varying,
    body_html text,
    body_markdown text,
    commentable_id bigint,
    commentable_type public.comments_commentable_type_storage,
    created_at timestamp without time zone NOT NULL,
    deleted boolean DEFAULT false,
    edited boolean DEFAULT false,
    edited_at timestamp without time zone,
    hidden_by_commentable_user boolean DEFAULT false,
    id_code character varying,
    markdown_character_count integer,
    positive_reactions_count integer DEFAULT 0 NOT NULL,
    processed_html text,
    public_reactions_count integer DEFAULT 0 NOT NULL,
    reactions_count integer DEFAULT 0 NOT NULL,
    receive_notifications boolean DEFAULT true,
    score integer DEFAULT 0,
    spaminess_rating integer DEFAULT 0,
    updated_at timestamp without time zone NOT NULL,
    user_id bigint
);


ALTER TABLE public.comments_storage OWNER TO ubuntu;

--
-- Name: consumer_apps; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.consumer_apps (
    id bigint NOT NULL,
    active boolean DEFAULT true NOT NULL,
    app_bundle character varying NOT NULL,
    auth_key character varying,
    created_at timestamp(6) without time zone NOT NULL,
    last_error character varying,
    platform character varying NOT NULL,
    team_id character varying,
    updated_at timestamp(6) without time zone NOT NULL
);


ALTER TABLE public.consumer_apps OWNER TO ubuntu;

--
-- Name: consumer_apps_id_seq; Type: SEQUENCE; Schema: public; Owner: ubuntu
--

CREATE SEQUENCE public.consumer_apps_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.consumer_apps_id_seq OWNER TO ubuntu;

--
-- Name: consumer_apps_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: ubuntu
--

ALTER SEQUENCE public.consumer_apps_id_seq OWNED BY public.consumer_apps.id;


--
-- Name: consumer_apps_storage; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.consumer_apps_storage (
    id bigint DEFAULT nextval('public.consumer_apps_id_seq'::regclass) NOT NULL,
    active boolean DEFAULT true NOT NULL,
    app_bundle character varying NOT NULL,
    auth_key character varying,
    created_at timestamp(6) without time zone NOT NULL,
    last_error character varying,
    platform public.consumer_apps_platform_storage NOT NULL,
    team_id character varying,
    updated_at timestamp(6) without time zone NOT NULL
);


ALTER TABLE public.consumer_apps_storage OWNER TO ubuntu;

--
-- Name: credits; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.credits (
    id bigint NOT NULL,
    cost double precision DEFAULT 0.0,
    created_at timestamp without time zone NOT NULL,
    organization_id bigint,
    purchase_id bigint,
    purchase_type character varying,
    spent boolean DEFAULT false,
    spent_at timestamp without time zone,
    updated_at timestamp without time zone NOT NULL,
    user_id bigint
);


ALTER TABLE public.credits OWNER TO ubuntu;

--
-- Name: credits_id_seq; Type: SEQUENCE; Schema: public; Owner: ubuntu
--

CREATE SEQUENCE public.credits_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.credits_id_seq OWNER TO ubuntu;

--
-- Name: credits_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: ubuntu
--

ALTER SEQUENCE public.credits_id_seq OWNED BY public.credits.id;


--
-- Name: credits_storage; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.credits_storage (
    id bigint DEFAULT nextval('public.credits_id_seq'::regclass) NOT NULL,
    cost double precision DEFAULT 0.0,
    created_at timestamp without time zone NOT NULL,
    organization_id bigint,
    purchase_id bigint,
    purchase_type public.credits_purchase_type_storage,
    spent boolean DEFAULT false,
    spent_at timestamp without time zone,
    updated_at timestamp without time zone NOT NULL,
    user_id bigint
);


ALTER TABLE public.credits_storage OWNER TO ubuntu;

--
-- Name: data_update_scripts; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.data_update_scripts (
    id bigint NOT NULL,
    created_at timestamp without time zone NOT NULL,
    error text,
    file_name character varying,
    finished_at timestamp without time zone,
    run_at timestamp without time zone,
    status integer DEFAULT 0 NOT NULL,
    updated_at timestamp without time zone NOT NULL
);


ALTER TABLE public.data_update_scripts OWNER TO ubuntu;

--
-- Name: data_update_scripts_id_seq; Type: SEQUENCE; Schema: public; Owner: ubuntu
--

CREATE SEQUENCE public.data_update_scripts_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.data_update_scripts_id_seq OWNER TO ubuntu;

--
-- Name: data_update_scripts_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: ubuntu
--

ALTER SEQUENCE public.data_update_scripts_id_seq OWNED BY public.data_update_scripts.id;


--
-- Name: devices; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.devices (
    id bigint NOT NULL,
    app_bundle character varying,
    consumer_app_id bigint,
    created_at timestamp(6) without time zone NOT NULL,
    platform character varying NOT NULL,
    token character varying NOT NULL,
    updated_at timestamp(6) without time zone NOT NULL,
    user_id bigint NOT NULL
);


ALTER TABLE public.devices OWNER TO ubuntu;

--
-- Name: devices_id_seq; Type: SEQUENCE; Schema: public; Owner: ubuntu
--

CREATE SEQUENCE public.devices_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.devices_id_seq OWNER TO ubuntu;

--
-- Name: devices_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: ubuntu
--

ALTER SEQUENCE public.devices_id_seq OWNED BY public.devices.id;


--
-- Name: devices_storage; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.devices_storage (
    id bigint DEFAULT nextval('public.devices_id_seq'::regclass) NOT NULL,
    app_bundle character varying,
    consumer_app_id bigint,
    created_at timestamp(6) without time zone NOT NULL,
    platform public.devices_platform_storage NOT NULL,
    token character varying NOT NULL,
    updated_at timestamp(6) without time zone NOT NULL,
    user_id bigint NOT NULL
);


ALTER TABLE public.devices_storage OWNER TO ubuntu;

--
-- Name: discussion_locks; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.discussion_locks (
    id bigint NOT NULL,
    article_id bigint NOT NULL,
    created_at timestamp(6) without time zone NOT NULL,
    locking_user_id bigint NOT NULL,
    notes text,
    reason text,
    updated_at timestamp(6) without time zone NOT NULL
);


ALTER TABLE public.discussion_locks OWNER TO ubuntu;

--
-- Name: discussion_locks_id_seq; Type: SEQUENCE; Schema: public; Owner: ubuntu
--

CREATE SEQUENCE public.discussion_locks_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.discussion_locks_id_seq OWNER TO ubuntu;

--
-- Name: discussion_locks_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: ubuntu
--

ALTER SEQUENCE public.discussion_locks_id_seq OWNED BY public.discussion_locks.id;


--
-- Name: display_ad_events; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.display_ad_events (
    id bigint NOT NULL,
    category character varying,
    context_type character varying,
    created_at timestamp without time zone NOT NULL,
    display_ad_id bigint,
    updated_at timestamp without time zone NOT NULL,
    user_id bigint
);


ALTER TABLE public.display_ad_events OWNER TO ubuntu;

--
-- Name: display_ad_events_id_seq; Type: SEQUENCE; Schema: public; Owner: ubuntu
--

CREATE SEQUENCE public.display_ad_events_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.display_ad_events_id_seq OWNER TO ubuntu;

--
-- Name: display_ad_events_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: ubuntu
--

ALTER SEQUENCE public.display_ad_events_id_seq OWNED BY public.display_ad_events.id;


--
-- Name: display_ad_events_storage; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.display_ad_events_storage (
    id bigint DEFAULT nextval('public.display_ad_events_id_seq'::regclass) NOT NULL,
    category public.display_ad_events_category_storage,
    context_type public.display_ad_events_context_type_storage,
    created_at timestamp without time zone NOT NULL,
    display_ad_id bigint,
    updated_at timestamp without time zone NOT NULL,
    user_id bigint
);


ALTER TABLE public.display_ad_events_storage OWNER TO ubuntu;

--
-- Name: display_ads; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.display_ads (
    id bigint NOT NULL,
    approved boolean DEFAULT false,
    body_markdown text,
    clicks_count integer DEFAULT 0,
    created_at timestamp without time zone NOT NULL,
    impressions_count integer DEFAULT 0,
    organization_id bigint,
    placement_area character varying,
    processed_html text,
    published boolean DEFAULT false,
    success_rate double precision DEFAULT 0.0,
    updated_at timestamp without time zone NOT NULL
);


ALTER TABLE public.display_ads OWNER TO ubuntu;

--
-- Name: display_ads_id_seq; Type: SEQUENCE; Schema: public; Owner: ubuntu
--

CREATE SEQUENCE public.display_ads_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.display_ads_id_seq OWNER TO ubuntu;

--
-- Name: display_ads_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: ubuntu
--

ALTER SEQUENCE public.display_ads_id_seq OWNED BY public.display_ads.id;


--
-- Name: display_ads_new; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.display_ads_new (
    id bigint DEFAULT nextval('public.display_ads_id_seq'::regclass) NOT NULL,
    approved boolean DEFAULT false,
    body_markdown text,
    clicks_count integer DEFAULT 0,
    created_at timestamp without time zone NOT NULL,
    impressions_count integer DEFAULT 0,
    organization_id bigint,
    placement_area_int public.display_ads_placement_area_value,
    processed_html text,
    published boolean DEFAULT false,
    success_rate double precision DEFAULT 0.0,
    updated_at timestamp without time zone NOT NULL
);


ALTER TABLE public.display_ads_new OWNER TO ubuntu;

--
-- Name: display_ads_storage; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.display_ads_storage (
    id bigint DEFAULT nextval('public.display_ads_id_seq'::regclass) NOT NULL,
    approved boolean DEFAULT false,
    body_markdown text,
    clicks_count integer DEFAULT 0,
    created_at timestamp without time zone NOT NULL,
    impressions_count integer DEFAULT 0,
    organization_id bigint,
    placement_area public.display_ads_placement_area_storage,
    processed_html text,
    published boolean DEFAULT false,
    success_rate double precision DEFAULT 0.0,
    updated_at timestamp without time zone NOT NULL
);


ALTER TABLE public.display_ads_storage OWNER TO ubuntu;

--
-- Name: email_authorizations; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.email_authorizations (
    id bigint NOT NULL,
    confirmation_token character varying,
    created_at timestamp without time zone NOT NULL,
    json_data jsonb DEFAULT '{}'::jsonb NOT NULL,
    type_of character varying NOT NULL,
    updated_at timestamp without time zone NOT NULL,
    user_id bigint,
    verified_at timestamp without time zone
);


ALTER TABLE public.email_authorizations OWNER TO ubuntu;

--
-- Name: email_authorizations_id_seq; Type: SEQUENCE; Schema: public; Owner: ubuntu
--

CREATE SEQUENCE public.email_authorizations_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.email_authorizations_id_seq OWNER TO ubuntu;

--
-- Name: email_authorizations_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: ubuntu
--

ALTER SEQUENCE public.email_authorizations_id_seq OWNED BY public.email_authorizations.id;


--
-- Name: email_authorizations_storage; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.email_authorizations_storage (
    id bigint DEFAULT nextval('public.email_authorizations_id_seq'::regclass) NOT NULL,
    confirmation_token character varying,
    created_at timestamp without time zone NOT NULL,
    json_data jsonb DEFAULT '{}'::jsonb NOT NULL,
    type_of public.email_authorizations_type_of_storage NOT NULL,
    updated_at timestamp without time zone NOT NULL,
    user_id bigint,
    verified_at timestamp without time zone
);


ALTER TABLE public.email_authorizations_storage OWNER TO ubuntu;

--
-- Name: events; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.events (
    id bigint NOT NULL,
    category character varying,
    cover_image character varying,
    created_at timestamp without time zone NOT NULL,
    description_html text,
    description_markdown text,
    ends_at timestamp without time zone,
    host_name character varying,
    live_now boolean DEFAULT false,
    location_name character varying,
    location_url character varying,
    profile_image character varying,
    published boolean,
    slug character varying,
    starts_at timestamp without time zone,
    title character varying,
    updated_at timestamp without time zone NOT NULL
);


ALTER TABLE public.events OWNER TO ubuntu;

--
-- Name: events_id_seq; Type: SEQUENCE; Schema: public; Owner: ubuntu
--

CREATE SEQUENCE public.events_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.events_id_seq OWNER TO ubuntu;

--
-- Name: events_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: ubuntu
--

ALTER SEQUENCE public.events_id_seq OWNED BY public.events.id;


--
-- Name: feedback_messages; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.feedback_messages (
    id bigint NOT NULL,
    affected_id bigint,
    category character varying,
    created_at timestamp without time zone,
    feedback_type character varying,
    message text,
    offender_id bigint,
    reported_url character varying,
    reporter_id bigint,
    status character varying DEFAULT 'Open'::character varying,
    updated_at timestamp without time zone
);


ALTER TABLE public.feedback_messages OWNER TO ubuntu;

--
-- Name: feedback_messages_id_seq; Type: SEQUENCE; Schema: public; Owner: ubuntu
--

CREATE SEQUENCE public.feedback_messages_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.feedback_messages_id_seq OWNER TO ubuntu;

--
-- Name: feedback_messages_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: ubuntu
--

ALTER SEQUENCE public.feedback_messages_id_seq OWNED BY public.feedback_messages.id;


--
-- Name: feedback_messages_storage; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.feedback_messages_storage (
    id bigint DEFAULT nextval('public.feedback_messages_id_seq'::regclass) NOT NULL,
    affected_id bigint,
    category public.feedback_messages_category_storage,
    created_at timestamp without time zone,
    feedback_type character varying,
    message text,
    offender_id bigint,
    reported_url character varying,
    reporter_id bigint,
    status public.feedback_messages_status_storage,
    updated_at timestamp without time zone
);


ALTER TABLE public.feedback_messages_storage OWNER TO ubuntu;

--
-- Name: field_test_events; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.field_test_events (
    id bigint NOT NULL,
    created_at timestamp without time zone,
    field_test_membership_id bigint,
    name character varying
);


ALTER TABLE public.field_test_events OWNER TO ubuntu;

--
-- Name: field_test_events_id_seq; Type: SEQUENCE; Schema: public; Owner: ubuntu
--

CREATE SEQUENCE public.field_test_events_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.field_test_events_id_seq OWNER TO ubuntu;

--
-- Name: field_test_events_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: ubuntu
--

ALTER SEQUENCE public.field_test_events_id_seq OWNED BY public.field_test_events.id;


--
-- Name: field_test_memberships; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.field_test_memberships (
    id bigint NOT NULL,
    converted boolean DEFAULT false,
    created_at timestamp without time zone,
    experiment character varying,
    participant_id character varying,
    participant_type character varying,
    variant character varying
);


ALTER TABLE public.field_test_memberships OWNER TO ubuntu;

--
-- Name: field_test_memberships_id_seq; Type: SEQUENCE; Schema: public; Owner: ubuntu
--

CREATE SEQUENCE public.field_test_memberships_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.field_test_memberships_id_seq OWNER TO ubuntu;

--
-- Name: field_test_memberships_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: ubuntu
--

ALTER SEQUENCE public.field_test_memberships_id_seq OWNED BY public.field_test_memberships.id;


--
-- Name: flipper_features; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.flipper_features (
    id bigint NOT NULL,
    created_at timestamp without time zone NOT NULL,
    key character varying NOT NULL,
    updated_at timestamp without time zone NOT NULL
);


ALTER TABLE public.flipper_features OWNER TO ubuntu;

--
-- Name: flipper_features_id_seq; Type: SEQUENCE; Schema: public; Owner: ubuntu
--

CREATE SEQUENCE public.flipper_features_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.flipper_features_id_seq OWNER TO ubuntu;

--
-- Name: flipper_features_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: ubuntu
--

ALTER SEQUENCE public.flipper_features_id_seq OWNED BY public.flipper_features.id;


--
-- Name: flipper_gates; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.flipper_gates (
    id bigint NOT NULL,
    created_at timestamp without time zone NOT NULL,
    feature_key character varying NOT NULL,
    key character varying NOT NULL,
    updated_at timestamp without time zone NOT NULL,
    value character varying
);


ALTER TABLE public.flipper_gates OWNER TO ubuntu;

--
-- Name: flipper_gates_id_seq; Type: SEQUENCE; Schema: public; Owner: ubuntu
--

CREATE SEQUENCE public.flipper_gates_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.flipper_gates_id_seq OWNER TO ubuntu;

--
-- Name: flipper_gates_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: ubuntu
--

ALTER SEQUENCE public.flipper_gates_id_seq OWNED BY public.flipper_gates.id;


--
-- Name: follows; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.follows (
    id bigint NOT NULL,
    blocked boolean DEFAULT false NOT NULL,
    created_at timestamp without time zone,
    explicit_points double precision DEFAULT 1.0,
    followable_id bigint NOT NULL,
    followable_type character varying NOT NULL,
    follower_id bigint NOT NULL,
    follower_type character varying NOT NULL,
    implicit_points double precision DEFAULT 0.0,
    points double precision DEFAULT 1.0,
    subscription_status character varying DEFAULT 'all_articles'::character varying NOT NULL,
    updated_at timestamp without time zone
);


ALTER TABLE public.follows OWNER TO ubuntu;

--
-- Name: follows_id_seq; Type: SEQUENCE; Schema: public; Owner: ubuntu
--

CREATE SEQUENCE public.follows_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.follows_id_seq OWNER TO ubuntu;

--
-- Name: follows_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: ubuntu
--

ALTER SEQUENCE public.follows_id_seq OWNED BY public.follows.id;


--
-- Name: follows_new; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.follows_new (
    id bigint DEFAULT nextval('public.follows_id_seq'::regclass) NOT NULL,
    blocked boolean DEFAULT false NOT NULL,
    created_at timestamp without time zone,
    explicit_points double precision DEFAULT 1.0,
    followable_id bigint NOT NULL,
    followable_type character varying NOT NULL,
    follower_id bigint NOT NULL,
    follower_type character varying NOT NULL,
    implicit_points double precision DEFAULT 0.0,
    points double precision DEFAULT 1.0,
    subscription_status_int public.follows_subscription_status_value NOT NULL,
    updated_at timestamp without time zone
);


ALTER TABLE public.follows_new OWNER TO ubuntu;

--
-- Name: follows_storage; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.follows_storage (
    id bigint DEFAULT nextval('public.follows_id_seq'::regclass) NOT NULL,
    blocked boolean NOT NULL,
    created_at timestamp without time zone,
    explicit_points double precision DEFAULT 1.0,
    followable_id bigint NOT NULL,
    followable_type character varying NOT NULL,
    follower_id bigint NOT NULL,
    follower_type character varying NOT NULL,
    implicit_points double precision DEFAULT 0.0,
    points double precision DEFAULT 1.0,
    subscription_status character varying DEFAULT 'all_articles'::character varying NOT NULL,
    updated_at timestamp without time zone
);


ALTER TABLE public.follows_storage OWNER TO ubuntu;

--
-- Name: github_issues; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.github_issues (
    id bigint NOT NULL,
    category character varying,
    created_at timestamp without time zone NOT NULL,
    issue_serialized character varying DEFAULT '--- {}
'::character varying,
    processed_html character varying,
    updated_at timestamp without time zone NOT NULL,
    url character varying
);


ALTER TABLE public.github_issues OWNER TO ubuntu;

--
-- Name: github_issues_id_seq; Type: SEQUENCE; Schema: public; Owner: ubuntu
--

CREATE SEQUENCE public.github_issues_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.github_issues_id_seq OWNER TO ubuntu;

--
-- Name: github_issues_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: ubuntu
--

ALTER SEQUENCE public.github_issues_id_seq OWNED BY public.github_issues.id;


--
-- Name: github_issues_storage; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.github_issues_storage (
    id bigint DEFAULT nextval('public.github_issues_id_seq'::regclass) NOT NULL,
    category public.github_issues_category_storage,
    created_at timestamp without time zone NOT NULL,
    issue_serialized character varying DEFAULT '--- {}
'::character varying,
    processed_html character varying,
    updated_at timestamp without time zone NOT NULL,
    url character varying
);


ALTER TABLE public.github_issues_storage OWNER TO ubuntu;

--
-- Name: github_repos; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.github_repos (
    id bigint NOT NULL,
    additional_note character varying,
    bytes_size integer,
    created_at timestamp without time zone NOT NULL,
    description character varying,
    featured boolean DEFAULT false,
    fork boolean DEFAULT false,
    github_id_code bigint,
    info_hash text DEFAULT '--- {}
'::text,
    language character varying,
    name character varying,
    priority integer DEFAULT 0,
    stargazers_count integer,
    updated_at timestamp without time zone NOT NULL,
    url character varying,
    user_id bigint,
    watchers_count integer
);


ALTER TABLE public.github_repos OWNER TO ubuntu;

--
-- Name: github_repos_id_seq; Type: SEQUENCE; Schema: public; Owner: ubuntu
--

CREATE SEQUENCE public.github_repos_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.github_repos_id_seq OWNER TO ubuntu;

--
-- Name: github_repos_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: ubuntu
--

ALTER SEQUENCE public.github_repos_id_seq OWNED BY public.github_repos.id;


--
-- Name: html_variant_successes; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.html_variant_successes (
    id bigint NOT NULL,
    article_id bigint,
    created_at timestamp without time zone NOT NULL,
    html_variant_id bigint,
    updated_at timestamp without time zone NOT NULL
);


ALTER TABLE public.html_variant_successes OWNER TO ubuntu;

--
-- Name: html_variant_successes_id_seq; Type: SEQUENCE; Schema: public; Owner: ubuntu
--

CREATE SEQUENCE public.html_variant_successes_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.html_variant_successes_id_seq OWNER TO ubuntu;

--
-- Name: html_variant_successes_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: ubuntu
--

ALTER SEQUENCE public.html_variant_successes_id_seq OWNED BY public.html_variant_successes.id;


--
-- Name: html_variant_trials; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.html_variant_trials (
    id bigint NOT NULL,
    article_id bigint,
    created_at timestamp without time zone NOT NULL,
    html_variant_id bigint,
    updated_at timestamp without time zone NOT NULL
);


ALTER TABLE public.html_variant_trials OWNER TO ubuntu;

--
-- Name: html_variant_trials_id_seq; Type: SEQUENCE; Schema: public; Owner: ubuntu
--

CREATE SEQUENCE public.html_variant_trials_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.html_variant_trials_id_seq OWNER TO ubuntu;

--
-- Name: html_variant_trials_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: ubuntu
--

ALTER SEQUENCE public.html_variant_trials_id_seq OWNED BY public.html_variant_trials.id;


--
-- Name: html_variants; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.html_variants (
    id bigint NOT NULL,
    approved boolean DEFAULT false,
    created_at timestamp without time zone NOT NULL,
    "group" character varying,
    html text,
    name character varying,
    published boolean DEFAULT false,
    success_rate double precision DEFAULT 0.0,
    target_tag character varying,
    updated_at timestamp without time zone NOT NULL,
    user_id bigint
);


ALTER TABLE public.html_variants OWNER TO ubuntu;

--
-- Name: html_variants_id_seq; Type: SEQUENCE; Schema: public; Owner: ubuntu
--

CREATE SEQUENCE public.html_variants_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.html_variants_id_seq OWNER TO ubuntu;

--
-- Name: html_variants_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: ubuntu
--

ALTER SEQUENCE public.html_variants_id_seq OWNED BY public.html_variants.id;


--
-- Name: html_variants_new; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.html_variants_new (
    id bigint DEFAULT nextval('public.html_variants_id_seq'::regclass) NOT NULL,
    approved boolean DEFAULT false,
    created_at timestamp without time zone NOT NULL,
    group_int public.html_variants_group_value,
    html text,
    name character varying,
    published boolean DEFAULT false,
    success_rate double precision DEFAULT 0.0,
    target_tag character varying,
    updated_at timestamp without time zone NOT NULL,
    user_id bigint
);


ALTER TABLE public.html_variants_new OWNER TO ubuntu;

--
-- Name: html_variants_storage; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.html_variants_storage (
    id bigint DEFAULT nextval('public.html_variants_id_seq'::regclass) NOT NULL,
    approved boolean DEFAULT false,
    created_at timestamp without time zone NOT NULL,
    "group" public.html_variants_group_storage,
    html text,
    name character varying,
    published boolean DEFAULT false,
    success_rate double precision DEFAULT 0.0,
    target_tag character varying,
    updated_at timestamp without time zone NOT NULL,
    user_id bigint
);


ALTER TABLE public.html_variants_storage OWNER TO ubuntu;

--
-- Name: identities; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.identities (
    id bigint NOT NULL,
    auth_data_dump text,
    created_at timestamp without time zone NOT NULL,
    provider character varying,
    secret character varying,
    token character varying,
    uid character varying,
    updated_at timestamp without time zone NOT NULL,
    user_id bigint
);


ALTER TABLE public.identities OWNER TO ubuntu;

--
-- Name: identities_id_seq; Type: SEQUENCE; Schema: public; Owner: ubuntu
--

CREATE SEQUENCE public.identities_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.identities_id_seq OWNER TO ubuntu;

--
-- Name: identities_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: ubuntu
--

ALTER SEQUENCE public.identities_id_seq OWNED BY public.identities.id;


--
-- Name: identities_new; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.identities_new (
    id bigint DEFAULT nextval('public.identities_id_seq'::regclass) NOT NULL,
    auth_data_dump text,
    created_at timestamp without time zone NOT NULL,
    provider_int public.identities_provider_value,
    secret character varying,
    token character varying,
    uid character varying,
    updated_at timestamp without time zone NOT NULL,
    user_id bigint
);


ALTER TABLE public.identities_new OWNER TO ubuntu;

--
-- Name: identities_storage; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.identities_storage (
    id bigint DEFAULT nextval('public.identities_id_seq'::regclass) NOT NULL,
    auth_data_dump text,
    created_at timestamp without time zone NOT NULL,
    provider public.identities_provider_storage,
    secret character varying,
    token character varying,
    uid character varying,
    updated_at timestamp without time zone NOT NULL,
    user_id bigint
);


ALTER TABLE public.identities_storage OWNER TO ubuntu;

--
-- Name: mentions; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.mentions (
    id bigint NOT NULL,
    created_at timestamp without time zone NOT NULL,
    mentionable_id bigint,
    mentionable_type character varying,
    updated_at timestamp without time zone NOT NULL,
    user_id bigint
);


ALTER TABLE public.mentions OWNER TO ubuntu;

--
-- Name: mentions_id_seq; Type: SEQUENCE; Schema: public; Owner: ubuntu
--

CREATE SEQUENCE public.mentions_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.mentions_id_seq OWNER TO ubuntu;

--
-- Name: mentions_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: ubuntu
--

ALTER SEQUENCE public.mentions_id_seq OWNED BY public.mentions.id;


--
-- Name: mentions_new; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.mentions_new (
    id bigint DEFAULT nextval('public.mentions_id_seq'::regclass) NOT NULL,
    created_at timestamp without time zone NOT NULL,
    mentionable_id bigint,
    mentionable_type_int public.mentions_mentionable_type_value,
    updated_at timestamp without time zone NOT NULL,
    user_id bigint
);


ALTER TABLE public.mentions_new OWNER TO ubuntu;

--
-- Name: mentions_storage; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.mentions_storage (
    id bigint DEFAULT nextval('public.mentions_id_seq'::regclass) NOT NULL,
    created_at timestamp without time zone NOT NULL,
    mentionable_id bigint,
    mentionable_type public.mentions_mentionable_type_storage,
    updated_at timestamp without time zone NOT NULL,
    user_id bigint
);


ALTER TABLE public.mentions_storage OWNER TO ubuntu;

--
-- Name: messages; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.messages (
    id bigint NOT NULL,
    chat_action character varying,
    chat_channel_id bigint NOT NULL,
    created_at timestamp without time zone NOT NULL,
    edited_at timestamp without time zone,
    message_html character varying NOT NULL,
    message_markdown character varying NOT NULL,
    updated_at timestamp without time zone NOT NULL,
    user_id bigint NOT NULL
);


ALTER TABLE public.messages OWNER TO ubuntu;

--
-- Name: messages_id_seq; Type: SEQUENCE; Schema: public; Owner: ubuntu
--

CREATE SEQUENCE public.messages_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.messages_id_seq OWNER TO ubuntu;

--
-- Name: messages_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: ubuntu
--

ALTER SEQUENCE public.messages_id_seq OWNED BY public.messages.id;


--
-- Name: navigation_links; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.navigation_links (
    id bigint NOT NULL,
    created_at timestamp(6) without time zone NOT NULL,
    display_only_when_signed_in boolean DEFAULT false,
    icon character varying NOT NULL,
    name character varying NOT NULL,
    "position" integer,
    section integer DEFAULT 0 NOT NULL,
    updated_at timestamp(6) without time zone NOT NULL,
    url character varying NOT NULL
);


ALTER TABLE public.navigation_links OWNER TO ubuntu;

--
-- Name: navigation_links_id_seq; Type: SEQUENCE; Schema: public; Owner: ubuntu
--

CREATE SEQUENCE public.navigation_links_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.navigation_links_id_seq OWNER TO ubuntu;

--
-- Name: navigation_links_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: ubuntu
--

ALTER SEQUENCE public.navigation_links_id_seq OWNED BY public.navigation_links.id;


--
-- Name: navigation_links_storage; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.navigation_links_storage (
    id bigint DEFAULT nextval('public.navigation_links_id_seq'::regclass) NOT NULL,
    created_at timestamp(6) without time zone NOT NULL,
    display_only_when_signed_in boolean,
    icon character varying NOT NULL,
    name character varying NOT NULL,
    "position" integer,
    section integer DEFAULT 0 NOT NULL,
    updated_at timestamp(6) without time zone NOT NULL,
    url character varying NOT NULL
);


ALTER TABLE public.navigation_links_storage OWNER TO ubuntu;

--
-- Name: notes; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.notes (
    id bigint NOT NULL,
    author_id bigint,
    content text,
    created_at timestamp without time zone NOT NULL,
    noteable_id bigint,
    noteable_type character varying,
    reason character varying,
    updated_at timestamp without time zone NOT NULL
);


ALTER TABLE public.notes OWNER TO ubuntu;

--
-- Name: notes_id_seq; Type: SEQUENCE; Schema: public; Owner: ubuntu
--

CREATE SEQUENCE public.notes_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.notes_id_seq OWNER TO ubuntu;

--
-- Name: notes_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: ubuntu
--

ALTER SEQUENCE public.notes_id_seq OWNED BY public.notes.id;


--
-- Name: notes_new; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.notes_new (
    id bigint DEFAULT nextval('public.notes_id_seq'::regclass) NOT NULL,
    author_id bigint,
    content text,
    created_at timestamp without time zone NOT NULL,
    noteable_id bigint,
    noteable_type_int public.notes_noteable_type_value,
    reason character varying,
    updated_at timestamp without time zone NOT NULL
);


ALTER TABLE public.notes_new OWNER TO ubuntu;

--
-- Name: notes_storage; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.notes_storage (
    id bigint DEFAULT nextval('public.notes_id_seq'::regclass) NOT NULL,
    author_id bigint,
    content text,
    created_at timestamp without time zone NOT NULL,
    noteable_id bigint,
    noteable_type public.notes_noteable_type_storage,
    reason character varying,
    updated_at timestamp without time zone NOT NULL
);


ALTER TABLE public.notes_storage OWNER TO ubuntu;

--
-- Name: notification_subscriptions; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.notification_subscriptions (
    id bigint NOT NULL,
    config text DEFAULT 'all_comments'::text NOT NULL,
    created_at timestamp without time zone NOT NULL,
    notifiable_id bigint NOT NULL,
    notifiable_type character varying NOT NULL,
    updated_at timestamp without time zone NOT NULL,
    user_id bigint NOT NULL
);


ALTER TABLE public.notification_subscriptions OWNER TO ubuntu;

--
-- Name: notification_subscriptions_id_seq; Type: SEQUENCE; Schema: public; Owner: ubuntu
--

CREATE SEQUENCE public.notification_subscriptions_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.notification_subscriptions_id_seq OWNER TO ubuntu;

--
-- Name: notification_subscriptions_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: ubuntu
--

ALTER SEQUENCE public.notification_subscriptions_id_seq OWNED BY public.notification_subscriptions.id;


--
-- Name: notification_subscriptions_new; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.notification_subscriptions_new (
    id bigint DEFAULT nextval('public.notification_subscriptions_id_seq'::regclass) NOT NULL,
    config text DEFAULT 'all_comments'::text NOT NULL,
    created_at timestamp without time zone NOT NULL,
    notifiable_id bigint NOT NULL,
    notifiable_type_int public.notification_subscriptions_notifiable_type_value NOT NULL,
    updated_at timestamp without time zone NOT NULL,
    user_id bigint NOT NULL
);


ALTER TABLE public.notification_subscriptions_new OWNER TO ubuntu;

--
-- Name: notification_subscriptions_storage; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.notification_subscriptions_storage (
    id bigint DEFAULT nextval('public.notification_subscriptions_id_seq'::regclass) NOT NULL,
    config public.notification_subscriptions_config_storage NOT NULL,
    created_at timestamp without time zone NOT NULL,
    notifiable_id bigint NOT NULL,
    notifiable_type public.notification_subscriptions_notifiable_type_storage NOT NULL,
    updated_at timestamp without time zone NOT NULL,
    user_id bigint NOT NULL
);


ALTER TABLE public.notification_subscriptions_storage OWNER TO ubuntu;

--
-- Name: notifications; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.notifications (
    id bigint NOT NULL,
    action character varying,
    created_at timestamp without time zone NOT NULL,
    json_data jsonb,
    notifiable_id bigint,
    notifiable_type character varying,
    notified_at timestamp without time zone,
    organization_id bigint,
    read boolean DEFAULT false,
    updated_at timestamp without time zone NOT NULL,
    user_id bigint
);


ALTER TABLE public.notifications OWNER TO ubuntu;

--
-- Name: notifications_id_seq; Type: SEQUENCE; Schema: public; Owner: ubuntu
--

CREATE SEQUENCE public.notifications_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.notifications_id_seq OWNER TO ubuntu;

--
-- Name: notifications_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: ubuntu
--

ALTER SEQUENCE public.notifications_id_seq OWNED BY public.notifications.id;


--
-- Name: oauth_access_grants; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.oauth_access_grants (
    id bigint NOT NULL,
    application_id bigint NOT NULL,
    created_at timestamp without time zone NOT NULL,
    expires_in integer NOT NULL,
    redirect_uri text NOT NULL,
    resource_owner_id bigint NOT NULL,
    revoked_at timestamp without time zone,
    scopes character varying,
    token character varying NOT NULL
);


ALTER TABLE public.oauth_access_grants OWNER TO ubuntu;

--
-- Name: oauth_access_grants_id_seq; Type: SEQUENCE; Schema: public; Owner: ubuntu
--

CREATE SEQUENCE public.oauth_access_grants_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.oauth_access_grants_id_seq OWNER TO ubuntu;

--
-- Name: oauth_access_grants_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: ubuntu
--

ALTER SEQUENCE public.oauth_access_grants_id_seq OWNED BY public.oauth_access_grants.id;


--
-- Name: oauth_access_tokens; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.oauth_access_tokens (
    id bigint NOT NULL,
    application_id bigint NOT NULL,
    created_at timestamp without time zone NOT NULL,
    expires_in integer,
    previous_refresh_token character varying DEFAULT ''::character varying NOT NULL,
    refresh_token character varying,
    resource_owner_id bigint,
    revoked_at timestamp without time zone,
    scopes character varying,
    token character varying NOT NULL
);


ALTER TABLE public.oauth_access_tokens OWNER TO ubuntu;

--
-- Name: oauth_access_tokens_id_seq; Type: SEQUENCE; Schema: public; Owner: ubuntu
--

CREATE SEQUENCE public.oauth_access_tokens_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.oauth_access_tokens_id_seq OWNER TO ubuntu;

--
-- Name: oauth_access_tokens_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: ubuntu
--

ALTER SEQUENCE public.oauth_access_tokens_id_seq OWNED BY public.oauth_access_tokens.id;


--
-- Name: oauth_applications; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.oauth_applications (
    id bigint NOT NULL,
    confidential boolean DEFAULT true NOT NULL,
    created_at timestamp without time zone NOT NULL,
    name character varying NOT NULL,
    redirect_uri text NOT NULL,
    scopes character varying DEFAULT ''::character varying NOT NULL,
    secret character varying NOT NULL,
    uid character varying NOT NULL,
    updated_at timestamp without time zone NOT NULL
);


ALTER TABLE public.oauth_applications OWNER TO ubuntu;

--
-- Name: oauth_applications_id_seq; Type: SEQUENCE; Schema: public; Owner: ubuntu
--

CREATE SEQUENCE public.oauth_applications_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.oauth_applications_id_seq OWNER TO ubuntu;

--
-- Name: oauth_applications_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: ubuntu
--

ALTER SEQUENCE public.oauth_applications_id_seq OWNED BY public.oauth_applications.id;


--
-- Name: organization_memberships; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.organization_memberships (
    id bigint NOT NULL,
    created_at timestamp without time zone NOT NULL,
    organization_id bigint NOT NULL,
    type_of_user character varying NOT NULL,
    updated_at timestamp without time zone NOT NULL,
    user_id bigint NOT NULL,
    user_title character varying
);


ALTER TABLE public.organization_memberships OWNER TO ubuntu;

--
-- Name: organization_memberships_id_seq; Type: SEQUENCE; Schema: public; Owner: ubuntu
--

CREATE SEQUENCE public.organization_memberships_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.organization_memberships_id_seq OWNER TO ubuntu;

--
-- Name: organization_memberships_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: ubuntu
--

ALTER SEQUENCE public.organization_memberships_id_seq OWNED BY public.organization_memberships.id;


--
-- Name: organization_memberships_new; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.organization_memberships_new (
    id bigint DEFAULT nextval('public.organization_memberships_id_seq'::regclass) NOT NULL,
    created_at timestamp without time zone NOT NULL,
    organization_id bigint NOT NULL,
    type_of_user_int public.organization_memberships_type_of_user_value NOT NULL,
    updated_at timestamp without time zone NOT NULL,
    user_id bigint NOT NULL,
    user_title character varying
);


ALTER TABLE public.organization_memberships_new OWNER TO ubuntu;

--
-- Name: organization_memberships_storage; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.organization_memberships_storage (
    id bigint DEFAULT nextval('public.organization_memberships_id_seq'::regclass) NOT NULL,
    created_at timestamp without time zone NOT NULL,
    organization_id bigint NOT NULL,
    type_of_user public.organization_memberships_type_of_user_storage NOT NULL,
    updated_at timestamp without time zone NOT NULL,
    user_id bigint NOT NULL,
    user_title character varying
);


ALTER TABLE public.organization_memberships_storage OWNER TO ubuntu;

--
-- Name: organizations; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.organizations (
    id bigint NOT NULL,
    articles_count integer DEFAULT 0 NOT NULL,
    bg_color_hex character varying,
    company_size character varying,
    created_at timestamp without time zone NOT NULL,
    credits_count integer DEFAULT 0 NOT NULL,
    cta_body_markdown text,
    cta_button_text character varying,
    cta_button_url character varying,
    cta_processed_html text,
    dark_nav_image character varying,
    email character varying,
    github_username character varying,
    last_article_at timestamp without time zone DEFAULT '2017-01-01 05:00:00'::timestamp without time zone,
    latest_article_updated_at timestamp without time zone,
    location character varying,
    name character varying,
    nav_image character varying,
    old_old_slug character varying,
    old_slug character varying,
    profile_image character varying,
    profile_updated_at timestamp without time zone DEFAULT '2017-01-01 05:00:00'::timestamp without time zone,
    proof text,
    secret character varying,
    slug character varying,
    spent_credits_count integer DEFAULT 0 NOT NULL,
    story character varying,
    summary text,
    tag_line character varying,
    tech_stack character varying,
    text_color_hex character varying,
    twitter_username character varying,
    unspent_credits_count integer DEFAULT 0 NOT NULL,
    updated_at timestamp without time zone NOT NULL,
    url character varying
);


ALTER TABLE public.organizations OWNER TO ubuntu;

--
-- Name: organizations_id_seq; Type: SEQUENCE; Schema: public; Owner: ubuntu
--

CREATE SEQUENCE public.organizations_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.organizations_id_seq OWNER TO ubuntu;

--
-- Name: organizations_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: ubuntu
--

ALTER SEQUENCE public.organizations_id_seq OWNED BY public.organizations.id;


--
-- Name: page_views; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.page_views (
    id bigint NOT NULL,
    article_id bigint,
    counts_for_number_of_views integer DEFAULT 1,
    created_at timestamp without time zone NOT NULL,
    domain character varying,
    path character varying,
    referrer character varying,
    time_tracked_in_seconds integer DEFAULT 15,
    updated_at timestamp without time zone NOT NULL,
    user_agent character varying,
    user_id bigint
);


ALTER TABLE public.page_views OWNER TO ubuntu;

--
-- Name: page_views_id_seq; Type: SEQUENCE; Schema: public; Owner: ubuntu
--

CREATE SEQUENCE public.page_views_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.page_views_id_seq OWNER TO ubuntu;

--
-- Name: page_views_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: ubuntu
--

ALTER SEQUENCE public.page_views_id_seq OWNED BY public.page_views.id;


--
-- Name: pages; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.pages (
    id bigint NOT NULL,
    body_html text,
    body_json jsonb,
    body_markdown text,
    created_at timestamp without time zone NOT NULL,
    description character varying,
    is_top_level_path boolean DEFAULT false,
    landing_page boolean DEFAULT false NOT NULL,
    processed_html text,
    slug character varying,
    social_image character varying,
    template character varying,
    title character varying,
    updated_at timestamp without time zone NOT NULL
);


ALTER TABLE public.pages OWNER TO ubuntu;

--
-- Name: pages_id_seq; Type: SEQUENCE; Schema: public; Owner: ubuntu
--

CREATE SEQUENCE public.pages_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.pages_id_seq OWNER TO ubuntu;

--
-- Name: pages_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: ubuntu
--

ALTER SEQUENCE public.pages_id_seq OWNED BY public.pages.id;


--
-- Name: pages_storage; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.pages_storage (
    id bigint DEFAULT nextval('public.pages_id_seq'::regclass) NOT NULL,
    body_html text,
    body_json jsonb,
    body_markdown text,
    created_at timestamp without time zone NOT NULL,
    description character varying,
    is_top_level_path boolean DEFAULT false,
    landing_page boolean DEFAULT false NOT NULL,
    processed_html text,
    slug character varying,
    social_image character varying,
    template public.pages_template_storage,
    title character varying,
    updated_at timestamp without time zone NOT NULL
);


ALTER TABLE public.pages_storage OWNER TO ubuntu;

--
-- Name: podcast_episode_appearances; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.podcast_episode_appearances (
    id bigint NOT NULL,
    approved boolean DEFAULT false NOT NULL,
    created_at timestamp(6) without time zone NOT NULL,
    featured_on_user_profile boolean DEFAULT false NOT NULL,
    podcast_episode_id bigint NOT NULL,
    role character varying DEFAULT 'guest'::character varying NOT NULL,
    updated_at timestamp(6) without time zone NOT NULL,
    user_id bigint NOT NULL
);


ALTER TABLE public.podcast_episode_appearances OWNER TO ubuntu;

--
-- Name: podcast_episode_appearances_id_seq; Type: SEQUENCE; Schema: public; Owner: ubuntu
--

CREATE SEQUENCE public.podcast_episode_appearances_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.podcast_episode_appearances_id_seq OWNER TO ubuntu;

--
-- Name: podcast_episode_appearances_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: ubuntu
--

ALTER SEQUENCE public.podcast_episode_appearances_id_seq OWNED BY public.podcast_episode_appearances.id;


--
-- Name: podcast_episode_appearances_storage; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.podcast_episode_appearances_storage (
    id bigint DEFAULT nextval('public.podcast_episode_appearances_id_seq'::regclass) NOT NULL,
    approved boolean DEFAULT false NOT NULL,
    created_at timestamp(6) without time zone NOT NULL,
    featured_on_user_profile boolean DEFAULT false NOT NULL,
    podcast_episode_id bigint NOT NULL,
    role public.podcast_episode_appearances_role_storage NOT NULL,
    updated_at timestamp(6) without time zone NOT NULL,
    user_id bigint NOT NULL
);


ALTER TABLE public.podcast_episode_appearances_storage OWNER TO ubuntu;

--
-- Name: podcast_episodes; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.podcast_episodes (
    id bigint NOT NULL,
    any_comments_hidden boolean DEFAULT false,
    body text,
    comments_count integer DEFAULT 0 NOT NULL,
    created_at timestamp without time zone NOT NULL,
    duration_in_seconds integer,
    guid character varying NOT NULL,
    https boolean DEFAULT true,
    image character varying,
    itunes_url character varying,
    media_url character varying NOT NULL,
    podcast_id bigint,
    processed_html text,
    published_at timestamp without time zone,
    quote text,
    reachable boolean DEFAULT true,
    reactions_count integer DEFAULT 0 NOT NULL,
    slug character varying NOT NULL,
    social_image character varying,
    status_notice character varying,
    subtitle character varying,
    summary text,
    title character varying NOT NULL,
    updated_at timestamp without time zone NOT NULL,
    website_url character varying
);


ALTER TABLE public.podcast_episodes OWNER TO ubuntu;

--
-- Name: podcast_episodes_id_seq; Type: SEQUENCE; Schema: public; Owner: ubuntu
--

CREATE SEQUENCE public.podcast_episodes_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.podcast_episodes_id_seq OWNER TO ubuntu;

--
-- Name: podcast_episodes_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: ubuntu
--

ALTER SEQUENCE public.podcast_episodes_id_seq OWNED BY public.podcast_episodes.id;


--
-- Name: podcast_ownerships; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.podcast_ownerships (
    id bigint NOT NULL,
    created_at timestamp(6) without time zone NOT NULL,
    podcast_id bigint NOT NULL,
    updated_at timestamp(6) without time zone NOT NULL,
    user_id bigint NOT NULL
);


ALTER TABLE public.podcast_ownerships OWNER TO ubuntu;

--
-- Name: podcast_ownerships_id_seq; Type: SEQUENCE; Schema: public; Owner: ubuntu
--

CREATE SEQUENCE public.podcast_ownerships_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.podcast_ownerships_id_seq OWNER TO ubuntu;

--
-- Name: podcast_ownerships_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: ubuntu
--

ALTER SEQUENCE public.podcast_ownerships_id_seq OWNED BY public.podcast_ownerships.id;


--
-- Name: podcasts; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.podcasts (
    id bigint NOT NULL,
    android_url character varying,
    created_at timestamp without time zone NOT NULL,
    creator_id bigint,
    description text,
    feed_url character varying NOT NULL,
    image character varying NOT NULL,
    itunes_url character varying,
    main_color_hex character varying NOT NULL,
    overcast_url character varying,
    pattern_image character varying,
    published boolean DEFAULT false,
    reachable boolean DEFAULT true,
    slug character varying NOT NULL,
    soundcloud_url character varying,
    status_notice text DEFAULT ''::text,
    title character varying NOT NULL,
    twitter_username character varying,
    "unique_website_url?" boolean DEFAULT true,
    updated_at timestamp without time zone NOT NULL,
    website_url character varying
);


ALTER TABLE public.podcasts OWNER TO ubuntu;

--
-- Name: podcasts_id_seq; Type: SEQUENCE; Schema: public; Owner: ubuntu
--

CREATE SEQUENCE public.podcasts_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.podcasts_id_seq OWNER TO ubuntu;

--
-- Name: podcasts_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: ubuntu
--

ALTER SEQUENCE public.podcasts_id_seq OWNED BY public.podcasts.id;


--
-- Name: poll_options; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.poll_options (
    id bigint NOT NULL,
    created_at timestamp without time zone NOT NULL,
    markdown character varying,
    poll_id bigint,
    poll_votes_count integer DEFAULT 0 NOT NULL,
    processed_html character varying,
    updated_at timestamp without time zone NOT NULL
);


ALTER TABLE public.poll_options OWNER TO ubuntu;

--
-- Name: poll_options_id_seq; Type: SEQUENCE; Schema: public; Owner: ubuntu
--

CREATE SEQUENCE public.poll_options_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.poll_options_id_seq OWNER TO ubuntu;

--
-- Name: poll_options_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: ubuntu
--

ALTER SEQUENCE public.poll_options_id_seq OWNED BY public.poll_options.id;


--
-- Name: poll_skips; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.poll_skips (
    id bigint NOT NULL,
    created_at timestamp without time zone NOT NULL,
    poll_id bigint,
    updated_at timestamp without time zone NOT NULL,
    user_id bigint
);


ALTER TABLE public.poll_skips OWNER TO ubuntu;

--
-- Name: poll_skips_id_seq; Type: SEQUENCE; Schema: public; Owner: ubuntu
--

CREATE SEQUENCE public.poll_skips_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.poll_skips_id_seq OWNER TO ubuntu;

--
-- Name: poll_skips_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: ubuntu
--

ALTER SEQUENCE public.poll_skips_id_seq OWNED BY public.poll_skips.id;


--
-- Name: poll_votes; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.poll_votes (
    id bigint NOT NULL,
    created_at timestamp without time zone NOT NULL,
    poll_id bigint NOT NULL,
    poll_option_id bigint NOT NULL,
    updated_at timestamp without time zone NOT NULL,
    user_id bigint NOT NULL
);


ALTER TABLE public.poll_votes OWNER TO ubuntu;

--
-- Name: poll_votes_id_seq; Type: SEQUENCE; Schema: public; Owner: ubuntu
--

CREATE SEQUENCE public.poll_votes_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.poll_votes_id_seq OWNER TO ubuntu;

--
-- Name: poll_votes_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: ubuntu
--

ALTER SEQUENCE public.poll_votes_id_seq OWNED BY public.poll_votes.id;


--
-- Name: polls; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.polls (
    id bigint NOT NULL,
    article_id bigint,
    created_at timestamp without time zone NOT NULL,
    poll_options_count integer DEFAULT 0 NOT NULL,
    poll_skips_count integer DEFAULT 0 NOT NULL,
    poll_votes_count integer DEFAULT 0 NOT NULL,
    prompt_html character varying,
    prompt_markdown character varying,
    updated_at timestamp without time zone NOT NULL
);


ALTER TABLE public.polls OWNER TO ubuntu;

--
-- Name: polls_id_seq; Type: SEQUENCE; Schema: public; Owner: ubuntu
--

CREATE SEQUENCE public.polls_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.polls_id_seq OWNER TO ubuntu;

--
-- Name: polls_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: ubuntu
--

ALTER SEQUENCE public.polls_id_seq OWNED BY public.polls.id;


--
-- Name: profile_field_groups; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.profile_field_groups (
    id bigint NOT NULL,
    created_at timestamp(6) without time zone NOT NULL,
    description character varying,
    name character varying NOT NULL,
    updated_at timestamp(6) without time zone NOT NULL
);


ALTER TABLE public.profile_field_groups OWNER TO ubuntu;

--
-- Name: profile_field_groups_id_seq; Type: SEQUENCE; Schema: public; Owner: ubuntu
--

CREATE SEQUENCE public.profile_field_groups_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.profile_field_groups_id_seq OWNER TO ubuntu;

--
-- Name: profile_field_groups_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: ubuntu
--

ALTER SEQUENCE public.profile_field_groups_id_seq OWNED BY public.profile_field_groups.id;


--
-- Name: profile_fields; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.profile_fields (
    id bigint NOT NULL,
    attribute_name character varying NOT NULL,
    created_at timestamp(6) without time zone NOT NULL,
    description character varying,
    display_area integer DEFAULT 1 NOT NULL,
    input_type integer DEFAULT 0 NOT NULL,
    label public.citext NOT NULL,
    placeholder_text character varying,
    profile_field_group_id bigint,
    show_in_onboarding boolean DEFAULT false NOT NULL,
    updated_at timestamp(6) without time zone NOT NULL
);


ALTER TABLE public.profile_fields OWNER TO ubuntu;

--
-- Name: profile_fields_id_seq; Type: SEQUENCE; Schema: public; Owner: ubuntu
--

CREATE SEQUENCE public.profile_fields_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.profile_fields_id_seq OWNER TO ubuntu;

--
-- Name: profile_fields_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: ubuntu
--

ALTER SEQUENCE public.profile_fields_id_seq OWNED BY public.profile_fields.id;


--
-- Name: profile_fields_storage; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.profile_fields_storage (
    id bigint DEFAULT nextval('public.profile_fields_id_seq'::regclass) NOT NULL,
    attribute_name character varying NOT NULL,
    created_at timestamp(6) without time zone NOT NULL,
    description character varying,
    display_area integer DEFAULT 1 NOT NULL,
    input_type integer DEFAULT 0 NOT NULL,
    label public.citext NOT NULL,
    placeholder_text character varying,
    profile_field_group_id bigint,
    show_in_onboarding boolean NOT NULL,
    updated_at timestamp(6) without time zone NOT NULL
);


ALTER TABLE public.profile_fields_storage OWNER TO ubuntu;

--
-- Name: profile_pins; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.profile_pins (
    id bigint NOT NULL,
    created_at timestamp without time zone NOT NULL,
    pinnable_id bigint,
    pinnable_type character varying,
    profile_id bigint,
    profile_type character varying,
    updated_at timestamp without time zone NOT NULL
);


ALTER TABLE public.profile_pins OWNER TO ubuntu;

--
-- Name: profile_pins_id_seq; Type: SEQUENCE; Schema: public; Owner: ubuntu
--

CREATE SEQUENCE public.profile_pins_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.profile_pins_id_seq OWNER TO ubuntu;

--
-- Name: profile_pins_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: ubuntu
--

ALTER SEQUENCE public.profile_pins_id_seq OWNED BY public.profile_pins.id;


--
-- Name: profile_pins_new; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.profile_pins_new (
    id bigint DEFAULT nextval('public.profile_pins_id_seq'::regclass) NOT NULL,
    created_at timestamp without time zone NOT NULL,
    pinnable_id bigint,
    pinnable_type_int public.profile_pins_pinnable_type_value,
    profile_id bigint,
    profile_type character varying,
    updated_at timestamp without time zone NOT NULL
);


ALTER TABLE public.profile_pins_new OWNER TO ubuntu;

--
-- Name: profile_pins_storage; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.profile_pins_storage (
    id bigint DEFAULT nextval('public.profile_pins_id_seq'::regclass) NOT NULL,
    created_at timestamp without time zone NOT NULL,
    pinnable_id bigint,
    pinnable_type public.profile_pins_pinnable_type_storage,
    profile_id bigint,
    profile_type public.profile_pins_profile_type_storage,
    updated_at timestamp without time zone NOT NULL
);


ALTER TABLE public.profile_pins_storage OWNER TO ubuntu;

--
-- Name: profiles; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.profiles (
    id bigint NOT NULL,
    created_at timestamp(6) without time zone NOT NULL,
    data jsonb DEFAULT '{}'::jsonb NOT NULL,
    location character varying,
    summary text,
    updated_at timestamp(6) without time zone NOT NULL,
    user_id bigint NOT NULL,
    website_url character varying
);


ALTER TABLE public.profiles OWNER TO ubuntu;

--
-- Name: profiles_id_seq; Type: SEQUENCE; Schema: public; Owner: ubuntu
--

CREATE SEQUENCE public.profiles_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.profiles_id_seq OWNER TO ubuntu;

--
-- Name: profiles_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: ubuntu
--

ALTER SEQUENCE public.profiles_id_seq OWNED BY public.profiles.id;


--
-- Name: rating_votes; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.rating_votes (
    id bigint NOT NULL,
    article_id bigint,
    context character varying DEFAULT 'explicit'::character varying,
    created_at timestamp without time zone NOT NULL,
    "group" character varying,
    rating double precision,
    updated_at timestamp without time zone NOT NULL,
    user_id bigint
);


ALTER TABLE public.rating_votes OWNER TO ubuntu;

--
-- Name: rating_votes_id_seq; Type: SEQUENCE; Schema: public; Owner: ubuntu
--

CREATE SEQUENCE public.rating_votes_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.rating_votes_id_seq OWNER TO ubuntu;

--
-- Name: rating_votes_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: ubuntu
--

ALTER SEQUENCE public.rating_votes_id_seq OWNED BY public.rating_votes.id;


--
-- Name: rating_votes_new; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.rating_votes_new (
    id bigint DEFAULT nextval('public.rating_votes_id_seq'::regclass) NOT NULL,
    article_id bigint,
    context_int public.rating_votes_context_value,
    created_at timestamp without time zone NOT NULL,
    "group" character varying,
    rating double precision,
    updated_at timestamp without time zone NOT NULL,
    user_id bigint
);


ALTER TABLE public.rating_votes_new OWNER TO ubuntu;

--
-- Name: rating_votes_storage; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.rating_votes_storage (
    id bigint DEFAULT nextval('public.rating_votes_id_seq'::regclass) NOT NULL,
    article_id bigint,
    context public.rating_votes_context_storage,
    created_at timestamp without time zone NOT NULL,
    "group" public.rating_votes_group_storage,
    rating double precision,
    updated_at timestamp without time zone NOT NULL,
    user_id bigint
);


ALTER TABLE public.rating_votes_storage OWNER TO ubuntu;

--
-- Name: reactions; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.reactions (
    id bigint NOT NULL,
    category character varying,
    created_at timestamp without time zone NOT NULL,
    points double precision DEFAULT 1.0,
    reactable_id bigint,
    reactable_type character varying,
    status character varying DEFAULT 'valid'::character varying,
    updated_at timestamp without time zone NOT NULL,
    user_id bigint
);


ALTER TABLE public.reactions OWNER TO ubuntu;

--
-- Name: reactions_id_seq; Type: SEQUENCE; Schema: public; Owner: ubuntu
--

CREATE SEQUENCE public.reactions_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.reactions_id_seq OWNER TO ubuntu;

--
-- Name: reactions_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: ubuntu
--

ALTER SEQUENCE public.reactions_id_seq OWNED BY public.reactions.id;


--
-- Name: reactions_new; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.reactions_new (
    id bigint DEFAULT nextval('public.reactions_id_seq'::regclass) NOT NULL,
    category character varying,
    created_at timestamp without time zone NOT NULL,
    points double precision DEFAULT 1.0,
    reactable_id bigint,
    reactable_type_int public.reactions_reactable_type_value,
    status character varying DEFAULT 'valid'::character varying,
    updated_at timestamp without time zone NOT NULL,
    user_id bigint
);


ALTER TABLE public.reactions_new OWNER TO ubuntu;

--
-- Name: reactions_storage; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.reactions_storage (
    id bigint DEFAULT nextval('public.reactions_id_seq'::regclass) NOT NULL,
    category public.reactions_category_storage,
    created_at timestamp without time zone NOT NULL,
    points double precision DEFAULT 1.0,
    reactable_id bigint,
    reactable_type public.reactions_reactable_type_storage,
    status public.reactions_status_storage,
    updated_at timestamp without time zone NOT NULL,
    user_id bigint
);


ALTER TABLE public.reactions_storage OWNER TO ubuntu;

--
-- Name: response_templates; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.response_templates (
    id bigint NOT NULL,
    content text NOT NULL,
    content_type character varying NOT NULL,
    created_at timestamp without time zone NOT NULL,
    title character varying NOT NULL,
    type_of character varying NOT NULL,
    updated_at timestamp without time zone NOT NULL,
    user_id bigint
);


ALTER TABLE public.response_templates OWNER TO ubuntu;

--
-- Name: response_templates_id_seq; Type: SEQUENCE; Schema: public; Owner: ubuntu
--

CREATE SEQUENCE public.response_templates_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.response_templates_id_seq OWNER TO ubuntu;

--
-- Name: response_templates_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: ubuntu
--

ALTER SEQUENCE public.response_templates_id_seq OWNED BY public.response_templates.id;


--
-- Name: response_templates_new; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.response_templates_new (
    id bigint DEFAULT nextval('public.response_templates_id_seq'::regclass) NOT NULL,
    content text NOT NULL,
    content_type_int public.response_templates_content_type_value NOT NULL,
    created_at timestamp without time zone NOT NULL,
    title character varying NOT NULL,
    type_of character varying NOT NULL,
    updated_at timestamp without time zone NOT NULL,
    user_id bigint
);


ALTER TABLE public.response_templates_new OWNER TO ubuntu;

--
-- Name: response_templates_storage; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.response_templates_storage (
    id bigint DEFAULT nextval('public.response_templates_id_seq'::regclass) NOT NULL,
    content text NOT NULL,
    content_type public.response_templates_content_type_storage NOT NULL,
    created_at timestamp without time zone NOT NULL,
    title character varying NOT NULL,
    type_of public.response_templates_type_of_storage NOT NULL,
    updated_at timestamp without time zone NOT NULL,
    user_id bigint
);


ALTER TABLE public.response_templates_storage OWNER TO ubuntu;

--
-- Name: roles; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.roles (
    id bigint NOT NULL,
    created_at timestamp without time zone,
    name character varying,
    resource_id bigint,
    resource_type character varying,
    updated_at timestamp without time zone
);


ALTER TABLE public.roles OWNER TO ubuntu;

--
-- Name: roles_id_seq; Type: SEQUENCE; Schema: public; Owner: ubuntu
--

CREATE SEQUENCE public.roles_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.roles_id_seq OWNER TO ubuntu;

--
-- Name: roles_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: ubuntu
--

ALTER SEQUENCE public.roles_id_seq OWNED BY public.roles.id;


--
-- Name: roles_new; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.roles_new (
    id bigint DEFAULT nextval('public.roles_id_seq'::regclass) NOT NULL,
    created_at timestamp without time zone,
    name_int public.roles_name_value,
    resource_id bigint,
    resource_type character varying,
    updated_at timestamp without time zone
);


ALTER TABLE public.roles_new OWNER TO ubuntu;

--
-- Name: roles_storage; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.roles_storage (
    id bigint DEFAULT nextval('public.roles_id_seq'::regclass) NOT NULL,
    created_at timestamp without time zone,
    name public.roles_name_storage,
    resource_id bigint,
    resource_type public.roles_resource_type_storage,
    updated_at timestamp without time zone
);


ALTER TABLE public.roles_storage OWNER TO ubuntu;

--
-- Name: schema_migrations; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.schema_migrations (
    version character varying NOT NULL
);


ALTER TABLE public.schema_migrations OWNER TO ubuntu;

--
-- Name: settings_authentications; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.settings_authentications (
    id bigint NOT NULL,
    created_at timestamp(6) without time zone NOT NULL,
    updated_at timestamp(6) without time zone NOT NULL,
    value text,
    var character varying NOT NULL
);


ALTER TABLE public.settings_authentications OWNER TO ubuntu;

--
-- Name: settings_authentications_id_seq; Type: SEQUENCE; Schema: public; Owner: ubuntu
--

CREATE SEQUENCE public.settings_authentications_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.settings_authentications_id_seq OWNER TO ubuntu;

--
-- Name: settings_authentications_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: ubuntu
--

ALTER SEQUENCE public.settings_authentications_id_seq OWNED BY public.settings_authentications.id;


--
-- Name: settings_campaigns; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.settings_campaigns (
    id bigint NOT NULL,
    created_at timestamp(6) without time zone NOT NULL,
    updated_at timestamp(6) without time zone NOT NULL,
    value text,
    var character varying NOT NULL
);


ALTER TABLE public.settings_campaigns OWNER TO ubuntu;

--
-- Name: settings_campaigns_id_seq; Type: SEQUENCE; Schema: public; Owner: ubuntu
--

CREATE SEQUENCE public.settings_campaigns_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.settings_campaigns_id_seq OWNER TO ubuntu;

--
-- Name: settings_campaigns_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: ubuntu
--

ALTER SEQUENCE public.settings_campaigns_id_seq OWNED BY public.settings_campaigns.id;


--
-- Name: settings_communities; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.settings_communities (
    id bigint NOT NULL,
    created_at timestamp(6) without time zone NOT NULL,
    updated_at timestamp(6) without time zone NOT NULL,
    value text,
    var character varying NOT NULL
);


ALTER TABLE public.settings_communities OWNER TO ubuntu;

--
-- Name: settings_communities_id_seq; Type: SEQUENCE; Schema: public; Owner: ubuntu
--

CREATE SEQUENCE public.settings_communities_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.settings_communities_id_seq OWNER TO ubuntu;

--
-- Name: settings_communities_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: ubuntu
--

ALTER SEQUENCE public.settings_communities_id_seq OWNED BY public.settings_communities.id;


--
-- Name: settings_rate_limits; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.settings_rate_limits (
    id bigint NOT NULL,
    created_at timestamp(6) without time zone NOT NULL,
    updated_at timestamp(6) without time zone NOT NULL,
    value text,
    var character varying NOT NULL
);


ALTER TABLE public.settings_rate_limits OWNER TO ubuntu;

--
-- Name: settings_rate_limits_id_seq; Type: SEQUENCE; Schema: public; Owner: ubuntu
--

CREATE SEQUENCE public.settings_rate_limits_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.settings_rate_limits_id_seq OWNER TO ubuntu;

--
-- Name: settings_rate_limits_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: ubuntu
--

ALTER SEQUENCE public.settings_rate_limits_id_seq OWNED BY public.settings_rate_limits.id;


--
-- Name: settings_smtp; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.settings_smtp (
    id bigint NOT NULL,
    created_at timestamp(6) without time zone NOT NULL,
    updated_at timestamp(6) without time zone NOT NULL,
    value text,
    var character varying NOT NULL
);


ALTER TABLE public.settings_smtp OWNER TO ubuntu;

--
-- Name: settings_smtp_id_seq; Type: SEQUENCE; Schema: public; Owner: ubuntu
--

CREATE SEQUENCE public.settings_smtp_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.settings_smtp_id_seq OWNER TO ubuntu;

--
-- Name: settings_smtp_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: ubuntu
--

ALTER SEQUENCE public.settings_smtp_id_seq OWNED BY public.settings_smtp.id;


--
-- Name: settings_user_experiences; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.settings_user_experiences (
    id bigint NOT NULL,
    created_at timestamp(6) without time zone NOT NULL,
    updated_at timestamp(6) without time zone NOT NULL,
    value text,
    var character varying NOT NULL
);


ALTER TABLE public.settings_user_experiences OWNER TO ubuntu;

--
-- Name: settings_user_experiences_id_seq; Type: SEQUENCE; Schema: public; Owner: ubuntu
--

CREATE SEQUENCE public.settings_user_experiences_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.settings_user_experiences_id_seq OWNER TO ubuntu;

--
-- Name: settings_user_experiences_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: ubuntu
--

ALTER SEQUENCE public.settings_user_experiences_id_seq OWNED BY public.settings_user_experiences.id;


--
-- Name: site_configs; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.site_configs (
    id bigint NOT NULL,
    created_at timestamp without time zone NOT NULL,
    updated_at timestamp without time zone NOT NULL,
    value text,
    var character varying NOT NULL
);


ALTER TABLE public.site_configs OWNER TO ubuntu;

--
-- Name: site_configs_id_seq; Type: SEQUENCE; Schema: public; Owner: ubuntu
--

CREATE SEQUENCE public.site_configs_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.site_configs_id_seq OWNER TO ubuntu;

--
-- Name: site_configs_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: ubuntu
--

ALTER SEQUENCE public.site_configs_id_seq OWNED BY public.site_configs.id;


--
-- Name: sponsorships; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.sponsorships (
    id bigint NOT NULL,
    blurb_html text,
    created_at timestamp without time zone NOT NULL,
    expires_at timestamp without time zone,
    featured_number integer DEFAULT 0 NOT NULL,
    instructions text,
    instructions_updated_at timestamp without time zone,
    level character varying NOT NULL,
    organization_id bigint,
    sponsorable_id bigint,
    sponsorable_type character varying,
    status character varying DEFAULT 'none'::character varying NOT NULL,
    tagline character varying,
    updated_at timestamp without time zone NOT NULL,
    url character varying,
    user_id bigint
);


ALTER TABLE public.sponsorships OWNER TO ubuntu;

--
-- Name: sponsorships_id_seq; Type: SEQUENCE; Schema: public; Owner: ubuntu
--

CREATE SEQUENCE public.sponsorships_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.sponsorships_id_seq OWNER TO ubuntu;

--
-- Name: sponsorships_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: ubuntu
--

ALTER SEQUENCE public.sponsorships_id_seq OWNED BY public.sponsorships.id;


--
-- Name: sponsorships_new; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.sponsorships_new (
    id bigint DEFAULT nextval('public.sponsorships_id_seq'::regclass) NOT NULL,
    blurb_html text,
    created_at timestamp without time zone NOT NULL,
    expires_at timestamp without time zone,
    featured_number integer DEFAULT 0 NOT NULL,
    instructions text,
    instructions_updated_at timestamp without time zone,
    level_int public.sponsorships_level_value NOT NULL,
    organization_id bigint,
    sponsorable_id bigint,
    sponsorable_type character varying,
    status character varying DEFAULT 'none'::character varying NOT NULL,
    tagline character varying,
    updated_at timestamp without time zone NOT NULL,
    url character varying,
    user_id bigint
);


ALTER TABLE public.sponsorships_new OWNER TO ubuntu;

--
-- Name: sponsorships_storage; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.sponsorships_storage (
    id bigint DEFAULT nextval('public.sponsorships_id_seq'::regclass) NOT NULL,
    blurb_html text,
    created_at timestamp without time zone NOT NULL,
    expires_at timestamp without time zone,
    featured_number integer DEFAULT 0 NOT NULL,
    instructions text,
    instructions_updated_at timestamp without time zone,
    level public.sponsorships_level_storage NOT NULL,
    organization_id bigint,
    sponsorable_id bigint,
    sponsorable_type character varying,
    status public.sponsorships_status_storage NOT NULL,
    tagline character varying,
    updated_at timestamp without time zone NOT NULL,
    url character varying,
    user_id bigint
);


ALTER TABLE public.sponsorships_storage OWNER TO ubuntu;

--
-- Name: tag_adjustments; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.tag_adjustments (
    id bigint NOT NULL,
    adjustment_type character varying,
    article_id bigint,
    created_at timestamp without time zone NOT NULL,
    reason_for_adjustment character varying,
    status character varying,
    tag_id bigint,
    tag_name character varying,
    updated_at timestamp without time zone NOT NULL,
    user_id bigint
);


ALTER TABLE public.tag_adjustments OWNER TO ubuntu;

--
-- Name: tag_adjustments_id_seq; Type: SEQUENCE; Schema: public; Owner: ubuntu
--

CREATE SEQUENCE public.tag_adjustments_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.tag_adjustments_id_seq OWNER TO ubuntu;

--
-- Name: tag_adjustments_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: ubuntu
--

ALTER SEQUENCE public.tag_adjustments_id_seq OWNED BY public.tag_adjustments.id;


--
-- Name: tag_adjustments_new; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.tag_adjustments_new (
    id bigint DEFAULT nextval('public.tag_adjustments_id_seq'::regclass) NOT NULL,
    adjustment_type character varying,
    article_id bigint,
    created_at timestamp without time zone NOT NULL,
    reason_for_adjustment character varying,
    status_int public.tag_adjustments_status_value,
    tag_id bigint,
    tag_name character varying,
    updated_at timestamp without time zone NOT NULL,
    user_id bigint
);


ALTER TABLE public.tag_adjustments_new OWNER TO ubuntu;

--
-- Name: tag_adjustments_storage; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.tag_adjustments_storage (
    id bigint DEFAULT nextval('public.tag_adjustments_id_seq'::regclass) NOT NULL,
    adjustment_type public.tag_adjustments_adjustment_type_storage,
    article_id bigint,
    created_at timestamp without time zone NOT NULL,
    reason_for_adjustment character varying,
    status public.tag_adjustments_status_storage,
    tag_id bigint,
    tag_name character varying,
    updated_at timestamp without time zone NOT NULL,
    user_id bigint
);


ALTER TABLE public.tag_adjustments_storage OWNER TO ubuntu;

--
-- Name: taggings; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.taggings (
    id bigint NOT NULL,
    context character varying(128),
    created_at timestamp without time zone,
    tag_id bigint,
    taggable_id bigint,
    taggable_type character varying,
    tagger_id bigint,
    tagger_type character varying
);


ALTER TABLE public.taggings OWNER TO ubuntu;

--
-- Name: taggings_id_seq; Type: SEQUENCE; Schema: public; Owner: ubuntu
--

CREATE SEQUENCE public.taggings_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.taggings_id_seq OWNER TO ubuntu;

--
-- Name: taggings_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: ubuntu
--

ALTER SEQUENCE public.taggings_id_seq OWNED BY public.taggings.id;


--
-- Name: tags; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.tags (
    id bigint NOT NULL,
    alias_for character varying,
    badge_id bigint,
    bg_color_hex character varying,
    category character varying DEFAULT 'uncategorized'::character varying NOT NULL,
    created_at timestamp without time zone,
    hotness_score integer DEFAULT 0,
    keywords_for_search character varying,
    mod_chat_channel_id bigint,
    name character varying,
    pretty_name character varying,
    profile_image character varying,
    requires_approval boolean DEFAULT false,
    rules_html text,
    rules_markdown text,
    short_summary character varying,
    social_image character varying,
    social_preview_template character varying DEFAULT 'article'::character varying,
    submission_template text,
    supported boolean DEFAULT false,
    taggings_count integer DEFAULT 0,
    text_color_hex character varying,
    updated_at timestamp without time zone,
    wiki_body_html text,
    wiki_body_markdown text
);


ALTER TABLE public.tags OWNER TO ubuntu;

--
-- Name: tags_id_seq; Type: SEQUENCE; Schema: public; Owner: ubuntu
--

CREATE SEQUENCE public.tags_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.tags_id_seq OWNER TO ubuntu;

--
-- Name: tags_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: ubuntu
--

ALTER SEQUENCE public.tags_id_seq OWNED BY public.tags.id;


--
-- Name: tweets; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.tweets (
    id bigint NOT NULL,
    created_at timestamp without time zone NOT NULL,
    extended_entities_serialized text DEFAULT '--- {}
'::text,
    favorite_count integer,
    full_fetched_object_serialized text DEFAULT '--- {}
'::text,
    hashtags_serialized character varying DEFAULT '--- []
'::character varying,
    in_reply_to_status_id_code character varying,
    in_reply_to_user_id_code character varying,
    in_reply_to_username character varying,
    is_quote_status boolean,
    last_fetched_at timestamp without time zone,
    media_serialized text DEFAULT '--- []
'::text,
    mentioned_usernames_serialized character varying DEFAULT '--- []
'::character varying,
    profile_image character varying,
    quoted_tweet_id_code character varying,
    retweet_count integer,
    source character varying,
    text character varying,
    tweeted_at timestamp without time zone,
    twitter_id_code character varying,
    twitter_name character varying,
    twitter_uid character varying,
    twitter_user_followers_count integer,
    twitter_user_following_count integer,
    twitter_username character varying,
    updated_at timestamp without time zone NOT NULL,
    urls_serialized text DEFAULT '--- []
'::text,
    user_id bigint,
    user_is_verified boolean
);


ALTER TABLE public.tweets OWNER TO ubuntu;

--
-- Name: tweets_id_seq; Type: SEQUENCE; Schema: public; Owner: ubuntu
--

CREATE SEQUENCE public.tweets_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.tweets_id_seq OWNER TO ubuntu;

--
-- Name: tweets_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: ubuntu
--

ALTER SEQUENCE public.tweets_id_seq OWNED BY public.tweets.id;


--
-- Name: user_blocks; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.user_blocks (
    id bigint NOT NULL,
    blocked_id bigint NOT NULL,
    blocker_id bigint NOT NULL,
    config character varying DEFAULT 'default'::character varying NOT NULL,
    created_at timestamp without time zone NOT NULL,
    updated_at timestamp without time zone NOT NULL
);


ALTER TABLE public.user_blocks OWNER TO ubuntu;

--
-- Name: user_blocks_id_seq; Type: SEQUENCE; Schema: public; Owner: ubuntu
--

CREATE SEQUENCE public.user_blocks_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.user_blocks_id_seq OWNER TO ubuntu;

--
-- Name: user_blocks_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: ubuntu
--

ALTER SEQUENCE public.user_blocks_id_seq OWNED BY public.user_blocks.id;


--
-- Name: user_blocks_storage; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.user_blocks_storage (
    id bigint DEFAULT nextval('public.user_blocks_id_seq'::regclass) NOT NULL,
    blocked_id bigint NOT NULL,
    blocker_id bigint NOT NULL,
    config public.user_blocks_config_storage NOT NULL,
    created_at timestamp without time zone NOT NULL,
    updated_at timestamp without time zone NOT NULL
);


ALTER TABLE public.user_blocks_storage OWNER TO ubuntu;

--
-- Name: user_subscriptions; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.user_subscriptions (
    id bigint NOT NULL,
    author_id bigint NOT NULL,
    created_at timestamp(6) without time zone NOT NULL,
    subscriber_email character varying NOT NULL,
    subscriber_id bigint NOT NULL,
    updated_at timestamp(6) without time zone NOT NULL,
    user_subscription_sourceable_id bigint,
    user_subscription_sourceable_type character varying
);


ALTER TABLE public.user_subscriptions OWNER TO ubuntu;

--
-- Name: user_subscriptions_id_seq; Type: SEQUENCE; Schema: public; Owner: ubuntu
--

CREATE SEQUENCE public.user_subscriptions_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.user_subscriptions_id_seq OWNER TO ubuntu;

--
-- Name: user_subscriptions_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: ubuntu
--

ALTER SEQUENCE public.user_subscriptions_id_seq OWNED BY public.user_subscriptions.id;


--
-- Name: user_subscriptions_storage; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.user_subscriptions_storage (
    id bigint DEFAULT nextval('public.user_subscriptions_id_seq'::regclass) NOT NULL,
    author_id bigint NOT NULL,
    created_at timestamp(6) without time zone NOT NULL,
    subscriber_email character varying NOT NULL,
    subscriber_id bigint NOT NULL,
    updated_at timestamp(6) without time zone NOT NULL,
    user_subscription_sourceable_id bigint,
    user_subscription_sourceable_type public.user_subscriptions_user_subscription_sourceable_type_storage
);


ALTER TABLE public.user_subscriptions_storage OWNER TO ubuntu;

--
-- Name: users; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.users (
    id bigint NOT NULL,
    apple_username character varying,
    articles_count integer DEFAULT 0 NOT NULL,
    available_for character varying,
    badge_achievements_count integer DEFAULT 0 NOT NULL,
    behance_url character varying,
    bg_color_hex character varying,
    blocked_by_count bigint DEFAULT 0 NOT NULL,
    blocking_others_count bigint DEFAULT 0 NOT NULL,
    checked_code_of_conduct boolean DEFAULT false,
    checked_terms_and_conditions boolean DEFAULT false,
    comments_count integer DEFAULT 0 NOT NULL,
    confirmation_sent_at timestamp without time zone,
    confirmation_token character varying,
    confirmed_at timestamp without time zone,
    created_at timestamp without time zone NOT NULL,
    credits_count integer DEFAULT 0 NOT NULL,
    current_sign_in_at timestamp without time zone,
    current_sign_in_ip inet,
    currently_hacking_on character varying,
    currently_learning character varying,
    dribbble_url character varying,
    education character varying,
    email character varying,
    email_public boolean DEFAULT false,
    employer_name character varying,
    employer_url character varying,
    employment_title character varying,
    encrypted_password character varying DEFAULT ''::character varying NOT NULL,
    export_requested boolean DEFAULT false,
    exported_at timestamp without time zone,
    facebook_url character varying,
    facebook_username character varying,
    failed_attempts integer DEFAULT 0,
    feed_fetched_at timestamp without time zone DEFAULT '2017-01-01 05:00:00'::timestamp without time zone,
    following_orgs_count integer DEFAULT 0 NOT NULL,
    following_tags_count integer DEFAULT 0 NOT NULL,
    following_users_count integer DEFAULT 0 NOT NULL,
    github_repos_updated_at timestamp without time zone DEFAULT '2017-01-01 05:00:00'::timestamp without time zone,
    github_username character varying,
    gitlab_url character varying,
    instagram_url character varying,
    invitation_accepted_at timestamp without time zone,
    invitation_created_at timestamp without time zone,
    invitation_limit integer,
    invitation_sent_at timestamp without time zone,
    invitation_token character varying,
    invitations_count integer DEFAULT 0,
    invited_by_id bigint,
    invited_by_type character varying,
    last_article_at timestamp without time zone DEFAULT '2017-01-01 05:00:00'::timestamp without time zone,
    last_comment_at timestamp without time zone DEFAULT '2017-01-01 05:00:00'::timestamp without time zone,
    last_followed_at timestamp without time zone,
    last_moderation_notification timestamp without time zone DEFAULT '2017-01-01 05:00:00'::timestamp without time zone,
    last_notification_activity timestamp without time zone,
    last_onboarding_page character varying,
    last_reacted_at timestamp without time zone,
    last_sign_in_at timestamp without time zone,
    last_sign_in_ip inet,
    latest_article_updated_at timestamp without time zone,
    linkedin_url character varying,
    location character varying,
    locked_at timestamp without time zone,
    mastodon_url character varying,
    medium_url character varying,
    monthly_dues integer DEFAULT 0,
    mostly_work_with character varying,
    name character varying,
    old_old_username character varying,
    old_username character varying,
    onboarding_package_requested boolean DEFAULT false,
    organization_info_updated_at timestamp without time zone,
    payment_pointer character varying,
    profile_image character varying,
    profile_updated_at timestamp without time zone DEFAULT '2017-01-01 05:00:00'::timestamp without time zone,
    rating_votes_count integer DEFAULT 0 NOT NULL,
    reactions_count integer DEFAULT 0 NOT NULL,
    registered boolean DEFAULT true,
    registered_at timestamp without time zone,
    remember_created_at timestamp without time zone,
    remember_token character varying,
    reputation_modifier double precision DEFAULT 1.0,
    reset_password_sent_at timestamp without time zone,
    reset_password_token character varying,
    saw_onboarding boolean DEFAULT false,
    score integer DEFAULT 0,
    secret character varying,
    sign_in_count integer DEFAULT 0 NOT NULL,
    signup_cta_variant character varying,
    spent_credits_count integer DEFAULT 0 NOT NULL,
    stackoverflow_url character varying,
    stripe_id_code character varying,
    subscribed_to_user_subscriptions_count integer DEFAULT 0 NOT NULL,
    summary text,
    text_color_hex character varying,
    twitch_url character varying,
    twitter_username character varying,
    unconfirmed_email character varying,
    unlock_token character varying,
    unspent_credits_count integer DEFAULT 0 NOT NULL,
    updated_at timestamp without time zone NOT NULL,
    username character varying,
    website_url character varying,
    workshop_expiration timestamp without time zone,
    youtube_url character varying,
    CONSTRAINT users_username_not_null CHECK ((username IS NOT NULL))
);


ALTER TABLE public.users OWNER TO ubuntu;

--
-- Name: users_gdpr_delete_requests; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.users_gdpr_delete_requests (
    id bigint NOT NULL,
    created_at timestamp(6) without time zone NOT NULL,
    email character varying NOT NULL,
    updated_at timestamp(6) without time zone NOT NULL,
    user_id integer NOT NULL,
    username character varying
);


ALTER TABLE public.users_gdpr_delete_requests OWNER TO ubuntu;

--
-- Name: users_gdpr_delete_requests_id_seq; Type: SEQUENCE; Schema: public; Owner: ubuntu
--

CREATE SEQUENCE public.users_gdpr_delete_requests_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.users_gdpr_delete_requests_id_seq OWNER TO ubuntu;

--
-- Name: users_gdpr_delete_requests_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: ubuntu
--

ALTER SEQUENCE public.users_gdpr_delete_requests_id_seq OWNED BY public.users_gdpr_delete_requests.id;


--
-- Name: users_id_seq; Type: SEQUENCE; Schema: public; Owner: ubuntu
--

CREATE SEQUENCE public.users_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.users_id_seq OWNER TO ubuntu;

--
-- Name: users_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: ubuntu
--

ALTER SEQUENCE public.users_id_seq OWNED BY public.users.id;


--
-- Name: users_notification_settings; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.users_notification_settings (
    id bigint NOT NULL,
    created_at timestamp(6) without time zone NOT NULL,
    email_badge_notifications boolean DEFAULT true NOT NULL,
    email_comment_notifications boolean DEFAULT true NOT NULL,
    email_community_mod_newsletter boolean DEFAULT false NOT NULL,
    email_connect_messages boolean DEFAULT true NOT NULL,
    email_digest_periodic boolean DEFAULT false NOT NULL,
    email_follower_notifications boolean DEFAULT true NOT NULL,
    email_membership_newsletter boolean DEFAULT false NOT NULL,
    email_mention_notifications boolean DEFAULT true NOT NULL,
    email_newsletter boolean DEFAULT false NOT NULL,
    email_tag_mod_newsletter boolean DEFAULT false NOT NULL,
    email_unread_notifications boolean DEFAULT true NOT NULL,
    mobile_comment_notifications boolean DEFAULT true NOT NULL,
    mod_roundrobin_notifications boolean DEFAULT true NOT NULL,
    reaction_notifications boolean DEFAULT true NOT NULL,
    updated_at timestamp(6) without time zone NOT NULL,
    user_id bigint NOT NULL,
    welcome_notifications boolean DEFAULT true NOT NULL
);


ALTER TABLE public.users_notification_settings OWNER TO ubuntu;

--
-- Name: users_notification_settings_id_seq; Type: SEQUENCE; Schema: public; Owner: ubuntu
--

CREATE SEQUENCE public.users_notification_settings_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.users_notification_settings_id_seq OWNER TO ubuntu;

--
-- Name: users_notification_settings_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: ubuntu
--

ALTER SEQUENCE public.users_notification_settings_id_seq OWNED BY public.users_notification_settings.id;


--
-- Name: users_roles; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.users_roles (
    role_id bigint,
    user_id bigint
);


ALTER TABLE public.users_roles OWNER TO ubuntu;

--
-- Name: users_settings; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.users_settings (
    id bigint NOT NULL,
    brand_color1 character varying DEFAULT '#000000'::character varying,
    brand_color2 character varying DEFAULT '#ffffff'::character varying,
    config_font integer DEFAULT 0 NOT NULL,
    config_navbar integer DEFAULT 0 NOT NULL,
    config_theme integer DEFAULT 0 NOT NULL,
    created_at timestamp(6) without time zone NOT NULL,
    display_announcements boolean DEFAULT true NOT NULL,
    display_email_on_profile boolean DEFAULT false NOT NULL,
    display_sponsors boolean DEFAULT true NOT NULL,
    editor_version integer DEFAULT 0 NOT NULL,
    experience_level integer,
    feed_mark_canonical boolean DEFAULT false NOT NULL,
    feed_referential_link boolean DEFAULT true NOT NULL,
    feed_url character varying,
    inbox_guidelines character varying,
    inbox_type integer DEFAULT 0 NOT NULL,
    permit_adjacent_sponsors boolean DEFAULT true,
    updated_at timestamp(6) without time zone NOT NULL,
    user_id bigint NOT NULL
);


ALTER TABLE public.users_settings OWNER TO ubuntu;

--
-- Name: users_settings_id_seq; Type: SEQUENCE; Schema: public; Owner: ubuntu
--

CREATE SEQUENCE public.users_settings_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.users_settings_id_seq OWNER TO ubuntu;

--
-- Name: users_settings_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: ubuntu
--

ALTER SEQUENCE public.users_settings_id_seq OWNED BY public.users_settings.id;


--
-- Name: users_suspended_usernames; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.users_suspended_usernames (
    username_hash character varying NOT NULL,
    created_at timestamp(6) without time zone NOT NULL,
    updated_at timestamp(6) without time zone NOT NULL
);


ALTER TABLE public.users_suspended_usernames OWNER TO ubuntu;

--
-- Name: webhook_endpoints; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.webhook_endpoints (
    id bigint NOT NULL,
    created_at timestamp without time zone NOT NULL,
    events character varying[] NOT NULL,
    oauth_application_id bigint,
    source character varying,
    target_url character varying NOT NULL,
    updated_at timestamp without time zone NOT NULL,
    user_id bigint NOT NULL
);


ALTER TABLE public.webhook_endpoints OWNER TO ubuntu;

--
-- Name: webhook_endpoints_id_seq; Type: SEQUENCE; Schema: public; Owner: ubuntu
--

CREATE SEQUENCE public.webhook_endpoints_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.webhook_endpoints_id_seq OWNER TO ubuntu;

--
-- Name: webhook_endpoints_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: ubuntu
--

ALTER SEQUENCE public.webhook_endpoints_id_seq OWNED BY public.webhook_endpoints.id;


--
-- Name: welcome_notifications; Type: TABLE; Schema: public; Owner: ubuntu
--

CREATE TABLE public.welcome_notifications (
    id bigint NOT NULL,
    created_at timestamp(6) without time zone NOT NULL,
    updated_at timestamp(6) without time zone NOT NULL
);


ALTER TABLE public.welcome_notifications OWNER TO ubuntu;

--
-- Name: welcome_notifications_id_seq; Type: SEQUENCE; Schema: public; Owner: ubuntu
--

CREATE SEQUENCE public.welcome_notifications_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.welcome_notifications_id_seq OWNER TO ubuntu;

--
-- Name: welcome_notifications_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: ubuntu
--

ALTER SEQUENCE public.welcome_notifications_id_seq OWNED BY public.welcome_notifications.id;


--
-- Name: ahoy_events id; Type: DEFAULT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.ahoy_events ALTER COLUMN id SET DEFAULT nextval('public.ahoy_events_id_seq'::regclass);


--
-- Name: ahoy_messages id; Type: DEFAULT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.ahoy_messages ALTER COLUMN id SET DEFAULT nextval('public.ahoy_messages_id_seq'::regclass);


--
-- Name: ahoy_visits id; Type: DEFAULT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.ahoy_visits ALTER COLUMN id SET DEFAULT nextval('public.ahoy_visits_id_seq'::regclass);


--
-- Name: announcements id; Type: DEFAULT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.announcements ALTER COLUMN id SET DEFAULT nextval('public.announcements_id_seq'::regclass);


--
-- Name: api_secrets id; Type: DEFAULT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.api_secrets ALTER COLUMN id SET DEFAULT nextval('public.api_secrets_id_seq'::regclass);


--
-- Name: articles id; Type: DEFAULT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.articles ALTER COLUMN id SET DEFAULT nextval('public.articles_id_seq'::regclass);


--
-- Name: audit_logs id; Type: DEFAULT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.audit_logs ALTER COLUMN id SET DEFAULT nextval('public.audit_logs_id_seq'::regclass);


--
-- Name: badge_achievements id; Type: DEFAULT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.badge_achievements ALTER COLUMN id SET DEFAULT nextval('public.badge_achievements_id_seq'::regclass);


--
-- Name: badges id; Type: DEFAULT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.badges ALTER COLUMN id SET DEFAULT nextval('public.badges_id_seq'::regclass);


--
-- Name: banished_users id; Type: DEFAULT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.banished_users ALTER COLUMN id SET DEFAULT nextval('public.banished_users_id_seq'::regclass);


--
-- Name: blazer_audits id; Type: DEFAULT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.blazer_audits ALTER COLUMN id SET DEFAULT nextval('public.blazer_audits_id_seq'::regclass);


--
-- Name: blazer_checks id; Type: DEFAULT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.blazer_checks ALTER COLUMN id SET DEFAULT nextval('public.blazer_checks_id_seq'::regclass);


--
-- Name: blazer_dashboard_queries id; Type: DEFAULT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.blazer_dashboard_queries ALTER COLUMN id SET DEFAULT nextval('public.blazer_dashboard_queries_id_seq'::regclass);


--
-- Name: blazer_dashboards id; Type: DEFAULT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.blazer_dashboards ALTER COLUMN id SET DEFAULT nextval('public.blazer_dashboards_id_seq'::regclass);


--
-- Name: blazer_queries id; Type: DEFAULT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.blazer_queries ALTER COLUMN id SET DEFAULT nextval('public.blazer_queries_id_seq'::regclass);


--
-- Name: broadcasts id; Type: DEFAULT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.broadcasts ALTER COLUMN id SET DEFAULT nextval('public.broadcasts_id_seq'::regclass);


--
-- Name: chat_channel_memberships id; Type: DEFAULT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.chat_channel_memberships ALTER COLUMN id SET DEFAULT nextval('public.chat_channel_memberships_id_seq'::regclass);


--
-- Name: chat_channels id; Type: DEFAULT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.chat_channels ALTER COLUMN id SET DEFAULT nextval('public.chat_channels_id_seq'::regclass);


--
-- Name: classified_listing_categories id; Type: DEFAULT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.classified_listing_categories ALTER COLUMN id SET DEFAULT nextval('public.classified_listing_categories_id_seq'::regclass);


--
-- Name: classified_listings id; Type: DEFAULT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.classified_listings ALTER COLUMN id SET DEFAULT nextval('public.classified_listings_id_seq'::regclass);


--
-- Name: collections id; Type: DEFAULT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.collections ALTER COLUMN id SET DEFAULT nextval('public.collections_id_seq'::regclass);


--
-- Name: comments id; Type: DEFAULT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.comments ALTER COLUMN id SET DEFAULT nextval('public.comments_id_seq'::regclass);


--
-- Name: consumer_apps id; Type: DEFAULT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.consumer_apps ALTER COLUMN id SET DEFAULT nextval('public.consumer_apps_id_seq'::regclass);


--
-- Name: credits id; Type: DEFAULT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.credits ALTER COLUMN id SET DEFAULT nextval('public.credits_id_seq'::regclass);


--
-- Name: data_update_scripts id; Type: DEFAULT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.data_update_scripts ALTER COLUMN id SET DEFAULT nextval('public.data_update_scripts_id_seq'::regclass);


--
-- Name: devices id; Type: DEFAULT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.devices ALTER COLUMN id SET DEFAULT nextval('public.devices_id_seq'::regclass);


--
-- Name: discussion_locks id; Type: DEFAULT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.discussion_locks ALTER COLUMN id SET DEFAULT nextval('public.discussion_locks_id_seq'::regclass);


--
-- Name: display_ad_events id; Type: DEFAULT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.display_ad_events ALTER COLUMN id SET DEFAULT nextval('public.display_ad_events_id_seq'::regclass);


--
-- Name: display_ads id; Type: DEFAULT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.display_ads ALTER COLUMN id SET DEFAULT nextval('public.display_ads_id_seq'::regclass);


--
-- Name: email_authorizations id; Type: DEFAULT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.email_authorizations ALTER COLUMN id SET DEFAULT nextval('public.email_authorizations_id_seq'::regclass);


--
-- Name: events id; Type: DEFAULT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.events ALTER COLUMN id SET DEFAULT nextval('public.events_id_seq'::regclass);


--
-- Name: feedback_messages id; Type: DEFAULT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.feedback_messages ALTER COLUMN id SET DEFAULT nextval('public.feedback_messages_id_seq'::regclass);


--
-- Name: field_test_events id; Type: DEFAULT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.field_test_events ALTER COLUMN id SET DEFAULT nextval('public.field_test_events_id_seq'::regclass);


--
-- Name: field_test_memberships id; Type: DEFAULT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.field_test_memberships ALTER COLUMN id SET DEFAULT nextval('public.field_test_memberships_id_seq'::regclass);


--
-- Name: flipper_features id; Type: DEFAULT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.flipper_features ALTER COLUMN id SET DEFAULT nextval('public.flipper_features_id_seq'::regclass);


--
-- Name: flipper_gates id; Type: DEFAULT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.flipper_gates ALTER COLUMN id SET DEFAULT nextval('public.flipper_gates_id_seq'::regclass);


--
-- Name: follows id; Type: DEFAULT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.follows ALTER COLUMN id SET DEFAULT nextval('public.follows_id_seq'::regclass);


--
-- Name: github_issues id; Type: DEFAULT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.github_issues ALTER COLUMN id SET DEFAULT nextval('public.github_issues_id_seq'::regclass);


--
-- Name: github_repos id; Type: DEFAULT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.github_repos ALTER COLUMN id SET DEFAULT nextval('public.github_repos_id_seq'::regclass);


--
-- Name: html_variant_successes id; Type: DEFAULT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.html_variant_successes ALTER COLUMN id SET DEFAULT nextval('public.html_variant_successes_id_seq'::regclass);


--
-- Name: html_variant_trials id; Type: DEFAULT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.html_variant_trials ALTER COLUMN id SET DEFAULT nextval('public.html_variant_trials_id_seq'::regclass);


--
-- Name: html_variants id; Type: DEFAULT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.html_variants ALTER COLUMN id SET DEFAULT nextval('public.html_variants_id_seq'::regclass);


--
-- Name: identities id; Type: DEFAULT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.identities ALTER COLUMN id SET DEFAULT nextval('public.identities_id_seq'::regclass);


--
-- Name: mentions id; Type: DEFAULT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.mentions ALTER COLUMN id SET DEFAULT nextval('public.mentions_id_seq'::regclass);


--
-- Name: messages id; Type: DEFAULT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.messages ALTER COLUMN id SET DEFAULT nextval('public.messages_id_seq'::regclass);


--
-- Name: navigation_links id; Type: DEFAULT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.navigation_links ALTER COLUMN id SET DEFAULT nextval('public.navigation_links_id_seq'::regclass);


--
-- Name: notes id; Type: DEFAULT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.notes ALTER COLUMN id SET DEFAULT nextval('public.notes_id_seq'::regclass);


--
-- Name: notification_subscriptions id; Type: DEFAULT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.notification_subscriptions ALTER COLUMN id SET DEFAULT nextval('public.notification_subscriptions_id_seq'::regclass);


--
-- Name: notifications id; Type: DEFAULT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.notifications ALTER COLUMN id SET DEFAULT nextval('public.notifications_id_seq'::regclass);


--
-- Name: oauth_access_grants id; Type: DEFAULT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.oauth_access_grants ALTER COLUMN id SET DEFAULT nextval('public.oauth_access_grants_id_seq'::regclass);


--
-- Name: oauth_access_tokens id; Type: DEFAULT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.oauth_access_tokens ALTER COLUMN id SET DEFAULT nextval('public.oauth_access_tokens_id_seq'::regclass);


--
-- Name: oauth_applications id; Type: DEFAULT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.oauth_applications ALTER COLUMN id SET DEFAULT nextval('public.oauth_applications_id_seq'::regclass);


--
-- Name: organization_memberships id; Type: DEFAULT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.organization_memberships ALTER COLUMN id SET DEFAULT nextval('public.organization_memberships_id_seq'::regclass);


--
-- Name: organizations id; Type: DEFAULT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.organizations ALTER COLUMN id SET DEFAULT nextval('public.organizations_id_seq'::regclass);


--
-- Name: page_views id; Type: DEFAULT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.page_views ALTER COLUMN id SET DEFAULT nextval('public.page_views_id_seq'::regclass);


--
-- Name: pages id; Type: DEFAULT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.pages ALTER COLUMN id SET DEFAULT nextval('public.pages_id_seq'::regclass);


--
-- Name: podcast_episode_appearances id; Type: DEFAULT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.podcast_episode_appearances ALTER COLUMN id SET DEFAULT nextval('public.podcast_episode_appearances_id_seq'::regclass);


--
-- Name: podcast_episodes id; Type: DEFAULT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.podcast_episodes ALTER COLUMN id SET DEFAULT nextval('public.podcast_episodes_id_seq'::regclass);


--
-- Name: podcast_ownerships id; Type: DEFAULT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.podcast_ownerships ALTER COLUMN id SET DEFAULT nextval('public.podcast_ownerships_id_seq'::regclass);


--
-- Name: podcasts id; Type: DEFAULT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.podcasts ALTER COLUMN id SET DEFAULT nextval('public.podcasts_id_seq'::regclass);


--
-- Name: poll_options id; Type: DEFAULT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.poll_options ALTER COLUMN id SET DEFAULT nextval('public.poll_options_id_seq'::regclass);


--
-- Name: poll_skips id; Type: DEFAULT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.poll_skips ALTER COLUMN id SET DEFAULT nextval('public.poll_skips_id_seq'::regclass);


--
-- Name: poll_votes id; Type: DEFAULT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.poll_votes ALTER COLUMN id SET DEFAULT nextval('public.poll_votes_id_seq'::regclass);


--
-- Name: polls id; Type: DEFAULT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.polls ALTER COLUMN id SET DEFAULT nextval('public.polls_id_seq'::regclass);


--
-- Name: profile_field_groups id; Type: DEFAULT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.profile_field_groups ALTER COLUMN id SET DEFAULT nextval('public.profile_field_groups_id_seq'::regclass);


--
-- Name: profile_fields id; Type: DEFAULT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.profile_fields ALTER COLUMN id SET DEFAULT nextval('public.profile_fields_id_seq'::regclass);


--
-- Name: profile_pins id; Type: DEFAULT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.profile_pins ALTER COLUMN id SET DEFAULT nextval('public.profile_pins_id_seq'::regclass);


--
-- Name: profiles id; Type: DEFAULT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.profiles ALTER COLUMN id SET DEFAULT nextval('public.profiles_id_seq'::regclass);


--
-- Name: rating_votes id; Type: DEFAULT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.rating_votes ALTER COLUMN id SET DEFAULT nextval('public.rating_votes_id_seq'::regclass);


--
-- Name: reactions id; Type: DEFAULT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.reactions ALTER COLUMN id SET DEFAULT nextval('public.reactions_id_seq'::regclass);


--
-- Name: response_templates id; Type: DEFAULT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.response_templates ALTER COLUMN id SET DEFAULT nextval('public.response_templates_id_seq'::regclass);


--
-- Name: roles id; Type: DEFAULT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.roles ALTER COLUMN id SET DEFAULT nextval('public.roles_id_seq'::regclass);


--
-- Name: settings_authentications id; Type: DEFAULT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.settings_authentications ALTER COLUMN id SET DEFAULT nextval('public.settings_authentications_id_seq'::regclass);


--
-- Name: settings_campaigns id; Type: DEFAULT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.settings_campaigns ALTER COLUMN id SET DEFAULT nextval('public.settings_campaigns_id_seq'::regclass);


--
-- Name: settings_communities id; Type: DEFAULT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.settings_communities ALTER COLUMN id SET DEFAULT nextval('public.settings_communities_id_seq'::regclass);


--
-- Name: settings_rate_limits id; Type: DEFAULT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.settings_rate_limits ALTER COLUMN id SET DEFAULT nextval('public.settings_rate_limits_id_seq'::regclass);


--
-- Name: settings_smtp id; Type: DEFAULT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.settings_smtp ALTER COLUMN id SET DEFAULT nextval('public.settings_smtp_id_seq'::regclass);


--
-- Name: settings_user_experiences id; Type: DEFAULT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.settings_user_experiences ALTER COLUMN id SET DEFAULT nextval('public.settings_user_experiences_id_seq'::regclass);


--
-- Name: site_configs id; Type: DEFAULT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.site_configs ALTER COLUMN id SET DEFAULT nextval('public.site_configs_id_seq'::regclass);


--
-- Name: sponsorships id; Type: DEFAULT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.sponsorships ALTER COLUMN id SET DEFAULT nextval('public.sponsorships_id_seq'::regclass);


--
-- Name: tag_adjustments id; Type: DEFAULT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.tag_adjustments ALTER COLUMN id SET DEFAULT nextval('public.tag_adjustments_id_seq'::regclass);


--
-- Name: taggings id; Type: DEFAULT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.taggings ALTER COLUMN id SET DEFAULT nextval('public.taggings_id_seq'::regclass);


--
-- Name: tags id; Type: DEFAULT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.tags ALTER COLUMN id SET DEFAULT nextval('public.tags_id_seq'::regclass);


--
-- Name: tweets id; Type: DEFAULT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.tweets ALTER COLUMN id SET DEFAULT nextval('public.tweets_id_seq'::regclass);


--
-- Name: user_blocks id; Type: DEFAULT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.user_blocks ALTER COLUMN id SET DEFAULT nextval('public.user_blocks_id_seq'::regclass);


--
-- Name: user_subscriptions id; Type: DEFAULT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.user_subscriptions ALTER COLUMN id SET DEFAULT nextval('public.user_subscriptions_id_seq'::regclass);


--
-- Name: users id; Type: DEFAULT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.users ALTER COLUMN id SET DEFAULT nextval('public.users_id_seq'::regclass);


--
-- Name: users_gdpr_delete_requests id; Type: DEFAULT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.users_gdpr_delete_requests ALTER COLUMN id SET DEFAULT nextval('public.users_gdpr_delete_requests_id_seq'::regclass);


--
-- Name: users_notification_settings id; Type: DEFAULT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.users_notification_settings ALTER COLUMN id SET DEFAULT nextval('public.users_notification_settings_id_seq'::regclass);


--
-- Name: users_settings id; Type: DEFAULT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.users_settings ALTER COLUMN id SET DEFAULT nextval('public.users_settings_id_seq'::regclass);


--
-- Name: webhook_endpoints id; Type: DEFAULT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.webhook_endpoints ALTER COLUMN id SET DEFAULT nextval('public.webhook_endpoints_id_seq'::regclass);


--
-- Name: welcome_notifications id; Type: DEFAULT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.welcome_notifications ALTER COLUMN id SET DEFAULT nextval('public.welcome_notifications_id_seq'::regclass);


--
-- Name: ahoy_events ahoy_events_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.ahoy_events
    ADD CONSTRAINT ahoy_events_pkey PRIMARY KEY (id);


--
-- Name: ahoy_messages ahoy_messages_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.ahoy_messages
    ADD CONSTRAINT ahoy_messages_pkey PRIMARY KEY (id);


--
-- Name: ahoy_visits ahoy_visits_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.ahoy_visits
    ADD CONSTRAINT ahoy_visits_pkey PRIMARY KEY (id);


--
-- Name: announcements announcements_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.announcements
    ADD CONSTRAINT announcements_pkey PRIMARY KEY (id);


--
-- Name: api_secrets api_secrets_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.api_secrets
    ADD CONSTRAINT api_secrets_pkey PRIMARY KEY (id);


--
-- Name: ar_internal_metadata ar_internal_metadata_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.ar_internal_metadata
    ADD CONSTRAINT ar_internal_metadata_pkey PRIMARY KEY (key);


--
-- Name: articles articles_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.articles
    ADD CONSTRAINT articles_pkey PRIMARY KEY (id);


--
-- Name: articles_storage articles_storage_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.articles_storage
    ADD CONSTRAINT articles_storage_pkey PRIMARY KEY (id);


--
-- Name: audit_logs audit_logs_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.audit_logs
    ADD CONSTRAINT audit_logs_pkey PRIMARY KEY (id);


--
-- Name: badge_achievements badge_achievements_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.badge_achievements
    ADD CONSTRAINT badge_achievements_pkey PRIMARY KEY (id);


--
-- Name: badges badges_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.badges
    ADD CONSTRAINT badges_pkey PRIMARY KEY (id);


--
-- Name: banished_users banished_users_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.banished_users
    ADD CONSTRAINT banished_users_pkey PRIMARY KEY (id);


--
-- Name: blazer_audits blazer_audits_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.blazer_audits
    ADD CONSTRAINT blazer_audits_pkey PRIMARY KEY (id);


--
-- Name: blazer_checks blazer_checks_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.blazer_checks
    ADD CONSTRAINT blazer_checks_pkey PRIMARY KEY (id);


--
-- Name: blazer_dashboard_queries blazer_dashboard_queries_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.blazer_dashboard_queries
    ADD CONSTRAINT blazer_dashboard_queries_pkey PRIMARY KEY (id);


--
-- Name: blazer_dashboards blazer_dashboards_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.blazer_dashboards
    ADD CONSTRAINT blazer_dashboards_pkey PRIMARY KEY (id);


--
-- Name: blazer_queries blazer_queries_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.blazer_queries
    ADD CONSTRAINT blazer_queries_pkey PRIMARY KEY (id);


--
-- Name: broadcasts_new broadcasts_full_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.broadcasts_new
    ADD CONSTRAINT broadcasts_full_pkey PRIMARY KEY (id);


--
-- Name: broadcasts broadcasts_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.broadcasts
    ADD CONSTRAINT broadcasts_pkey PRIMARY KEY (id);


--
-- Name: broadcasts_storage broadcasts_storage_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.broadcasts_storage
    ADD CONSTRAINT broadcasts_storage_pkey PRIMARY KEY (id);


--
-- Name: chat_channel_memberships_new chat_channel_memberships_full_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.chat_channel_memberships_new
    ADD CONSTRAINT chat_channel_memberships_full_pkey PRIMARY KEY (id);


--
-- Name: chat_channel_memberships chat_channel_memberships_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.chat_channel_memberships
    ADD CONSTRAINT chat_channel_memberships_pkey PRIMARY KEY (id);


--
-- Name: chat_channel_memberships_storage chat_channel_memberships_storage_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.chat_channel_memberships_storage
    ADD CONSTRAINT chat_channel_memberships_storage_pkey PRIMARY KEY (id);


--
-- Name: chat_channels chat_channels_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.chat_channels
    ADD CONSTRAINT chat_channels_pkey PRIMARY KEY (id);


--
-- Name: chat_channels_storage chat_channels_storage_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.chat_channels_storage
    ADD CONSTRAINT chat_channels_storage_pkey PRIMARY KEY (id);


--
-- Name: classified_listing_categories classified_listing_categories_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.classified_listing_categories
    ADD CONSTRAINT classified_listing_categories_pkey PRIMARY KEY (id);


--
-- Name: classified_listings classified_listings_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.classified_listings
    ADD CONSTRAINT classified_listings_pkey PRIMARY KEY (id);


--
-- Name: collections collections_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.collections
    ADD CONSTRAINT collections_pkey PRIMARY KEY (id);


--
-- Name: comments_new comments_full_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.comments_new
    ADD CONSTRAINT comments_full_pkey PRIMARY KEY (id);


--
-- Name: comments comments_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.comments
    ADD CONSTRAINT comments_pkey PRIMARY KEY (id);


--
-- Name: comments_storage comments_storage_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.comments_storage
    ADD CONSTRAINT comments_storage_pkey PRIMARY KEY (id);


--
-- Name: consumer_apps consumer_apps_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.consumer_apps
    ADD CONSTRAINT consumer_apps_pkey PRIMARY KEY (id);


--
-- Name: consumer_apps_storage consumer_apps_storage_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.consumer_apps_storage
    ADD CONSTRAINT consumer_apps_storage_pkey PRIMARY KEY (id);


--
-- Name: credits credits_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.credits
    ADD CONSTRAINT credits_pkey PRIMARY KEY (id);


--
-- Name: credits_storage credits_storage_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.credits_storage
    ADD CONSTRAINT credits_storage_pkey PRIMARY KEY (id);


--
-- Name: data_update_scripts data_update_scripts_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.data_update_scripts
    ADD CONSTRAINT data_update_scripts_pkey PRIMARY KEY (id);


--
-- Name: devices devices_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.devices
    ADD CONSTRAINT devices_pkey PRIMARY KEY (id);


--
-- Name: devices_storage devices_storage_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.devices_storage
    ADD CONSTRAINT devices_storage_pkey PRIMARY KEY (id);


--
-- Name: discussion_locks discussion_locks_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.discussion_locks
    ADD CONSTRAINT discussion_locks_pkey PRIMARY KEY (id);


--
-- Name: display_ad_events display_ad_events_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.display_ad_events
    ADD CONSTRAINT display_ad_events_pkey PRIMARY KEY (id);


--
-- Name: display_ad_events_storage display_ad_events_storage_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.display_ad_events_storage
    ADD CONSTRAINT display_ad_events_storage_pkey PRIMARY KEY (id);


--
-- Name: display_ads_new display_ads_full_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.display_ads_new
    ADD CONSTRAINT display_ads_full_pkey PRIMARY KEY (id);


--
-- Name: display_ads display_ads_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.display_ads
    ADD CONSTRAINT display_ads_pkey PRIMARY KEY (id);


--
-- Name: display_ads_storage display_ads_storage_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.display_ads_storage
    ADD CONSTRAINT display_ads_storage_pkey PRIMARY KEY (id);


--
-- Name: email_authorizations email_authorizations_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.email_authorizations
    ADD CONSTRAINT email_authorizations_pkey PRIMARY KEY (id);


--
-- Name: email_authorizations_storage email_authorizations_storage_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.email_authorizations_storage
    ADD CONSTRAINT email_authorizations_storage_pkey PRIMARY KEY (id);


--
-- Name: events events_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.events
    ADD CONSTRAINT events_pkey PRIMARY KEY (id);


--
-- Name: feedback_messages feedback_messages_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.feedback_messages
    ADD CONSTRAINT feedback_messages_pkey PRIMARY KEY (id);


--
-- Name: feedback_messages_storage feedback_messages_storage_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.feedback_messages_storage
    ADD CONSTRAINT feedback_messages_storage_pkey PRIMARY KEY (id);


--
-- Name: field_test_events field_test_events_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.field_test_events
    ADD CONSTRAINT field_test_events_pkey PRIMARY KEY (id);


--
-- Name: field_test_memberships field_test_memberships_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.field_test_memberships
    ADD CONSTRAINT field_test_memberships_pkey PRIMARY KEY (id);


--
-- Name: flipper_features flipper_features_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.flipper_features
    ADD CONSTRAINT flipper_features_pkey PRIMARY KEY (id);


--
-- Name: flipper_gates flipper_gates_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.flipper_gates
    ADD CONSTRAINT flipper_gates_pkey PRIMARY KEY (id);


--
-- Name: follows_new follows_full_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.follows_new
    ADD CONSTRAINT follows_full_pkey PRIMARY KEY (id);


--
-- Name: follows follows_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.follows
    ADD CONSTRAINT follows_pkey PRIMARY KEY (id);


--
-- Name: follows_storage follows_storage_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.follows_storage
    ADD CONSTRAINT follows_storage_pkey PRIMARY KEY (id);


--
-- Name: github_issues github_issues_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.github_issues
    ADD CONSTRAINT github_issues_pkey PRIMARY KEY (id);


--
-- Name: github_issues_storage github_issues_storage_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.github_issues_storage
    ADD CONSTRAINT github_issues_storage_pkey PRIMARY KEY (id);


--
-- Name: github_repos github_repos_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.github_repos
    ADD CONSTRAINT github_repos_pkey PRIMARY KEY (id);


--
-- Name: html_variant_successes html_variant_successes_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.html_variant_successes
    ADD CONSTRAINT html_variant_successes_pkey PRIMARY KEY (id);


--
-- Name: html_variant_trials html_variant_trials_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.html_variant_trials
    ADD CONSTRAINT html_variant_trials_pkey PRIMARY KEY (id);


--
-- Name: html_variants_new html_variants_full_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.html_variants_new
    ADD CONSTRAINT html_variants_full_pkey PRIMARY KEY (id);


--
-- Name: html_variants html_variants_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.html_variants
    ADD CONSTRAINT html_variants_pkey PRIMARY KEY (id);


--
-- Name: html_variants_storage html_variants_storage_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.html_variants_storage
    ADD CONSTRAINT html_variants_storage_pkey PRIMARY KEY (id);


--
-- Name: identities_new identities_full_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.identities_new
    ADD CONSTRAINT identities_full_pkey PRIMARY KEY (id);


--
-- Name: identities identities_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.identities
    ADD CONSTRAINT identities_pkey PRIMARY KEY (id);


--
-- Name: identities_storage identities_storage_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.identities_storage
    ADD CONSTRAINT identities_storage_pkey PRIMARY KEY (id);


--
-- Name: mentions_new mentions_full_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.mentions_new
    ADD CONSTRAINT mentions_full_pkey PRIMARY KEY (id);


--
-- Name: mentions mentions_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.mentions
    ADD CONSTRAINT mentions_pkey PRIMARY KEY (id);


--
-- Name: mentions_storage mentions_storage_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.mentions_storage
    ADD CONSTRAINT mentions_storage_pkey PRIMARY KEY (id);


--
-- Name: messages messages_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.messages
    ADD CONSTRAINT messages_pkey PRIMARY KEY (id);


--
-- Name: navigation_links navigation_links_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.navigation_links
    ADD CONSTRAINT navigation_links_pkey PRIMARY KEY (id);


--
-- Name: navigation_links_storage navigation_links_storage_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.navigation_links_storage
    ADD CONSTRAINT navigation_links_storage_pkey PRIMARY KEY (id);


--
-- Name: notes_new notes_full_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.notes_new
    ADD CONSTRAINT notes_full_pkey PRIMARY KEY (id);


--
-- Name: notes notes_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.notes
    ADD CONSTRAINT notes_pkey PRIMARY KEY (id);


--
-- Name: notes_storage notes_storage_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.notes_storage
    ADD CONSTRAINT notes_storage_pkey PRIMARY KEY (id);


--
-- Name: notification_subscriptions_new notification_subscriptions_full_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.notification_subscriptions_new
    ADD CONSTRAINT notification_subscriptions_full_pkey PRIMARY KEY (id);


--
-- Name: notification_subscriptions notification_subscriptions_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.notification_subscriptions
    ADD CONSTRAINT notification_subscriptions_pkey PRIMARY KEY (id);


--
-- Name: notification_subscriptions_storage notification_subscriptions_storage_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.notification_subscriptions_storage
    ADD CONSTRAINT notification_subscriptions_storage_pkey PRIMARY KEY (id);


--
-- Name: notifications notifications_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.notifications
    ADD CONSTRAINT notifications_pkey PRIMARY KEY (id);


--
-- Name: oauth_access_grants oauth_access_grants_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.oauth_access_grants
    ADD CONSTRAINT oauth_access_grants_pkey PRIMARY KEY (id);


--
-- Name: oauth_access_tokens oauth_access_tokens_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.oauth_access_tokens
    ADD CONSTRAINT oauth_access_tokens_pkey PRIMARY KEY (id);


--
-- Name: oauth_applications oauth_applications_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.oauth_applications
    ADD CONSTRAINT oauth_applications_pkey PRIMARY KEY (id);


--
-- Name: organization_memberships_new organization_memberships_full_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.organization_memberships_new
    ADD CONSTRAINT organization_memberships_full_pkey PRIMARY KEY (id);


--
-- Name: organization_memberships organization_memberships_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.organization_memberships
    ADD CONSTRAINT organization_memberships_pkey PRIMARY KEY (id);


--
-- Name: organization_memberships_storage organization_memberships_storage_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.organization_memberships_storage
    ADD CONSTRAINT organization_memberships_storage_pkey PRIMARY KEY (id);


--
-- Name: organizations organizations_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.organizations
    ADD CONSTRAINT organizations_pkey PRIMARY KEY (id);


--
-- Name: page_views page_views_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.page_views
    ADD CONSTRAINT page_views_pkey PRIMARY KEY (id);


--
-- Name: pages pages_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.pages
    ADD CONSTRAINT pages_pkey PRIMARY KEY (id);


--
-- Name: pages_storage pages_storage_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.pages_storage
    ADD CONSTRAINT pages_storage_pkey PRIMARY KEY (id);


--
-- Name: podcast_episode_appearances podcast_episode_appearances_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.podcast_episode_appearances
    ADD CONSTRAINT podcast_episode_appearances_pkey PRIMARY KEY (id);


--
-- Name: podcast_episode_appearances_storage podcast_episode_appearances_storage_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.podcast_episode_appearances_storage
    ADD CONSTRAINT podcast_episode_appearances_storage_pkey PRIMARY KEY (id);


--
-- Name: podcast_episodes podcast_episodes_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.podcast_episodes
    ADD CONSTRAINT podcast_episodes_pkey PRIMARY KEY (id);


--
-- Name: podcast_ownerships podcast_ownerships_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.podcast_ownerships
    ADD CONSTRAINT podcast_ownerships_pkey PRIMARY KEY (id);


--
-- Name: podcasts podcasts_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.podcasts
    ADD CONSTRAINT podcasts_pkey PRIMARY KEY (id);


--
-- Name: poll_options poll_options_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.poll_options
    ADD CONSTRAINT poll_options_pkey PRIMARY KEY (id);


--
-- Name: poll_skips poll_skips_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.poll_skips
    ADD CONSTRAINT poll_skips_pkey PRIMARY KEY (id);


--
-- Name: poll_votes poll_votes_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.poll_votes
    ADD CONSTRAINT poll_votes_pkey PRIMARY KEY (id);


--
-- Name: polls polls_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.polls
    ADD CONSTRAINT polls_pkey PRIMARY KEY (id);


--
-- Name: profile_field_groups profile_field_groups_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.profile_field_groups
    ADD CONSTRAINT profile_field_groups_pkey PRIMARY KEY (id);


--
-- Name: profile_fields profile_fields_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.profile_fields
    ADD CONSTRAINT profile_fields_pkey PRIMARY KEY (id);


--
-- Name: profile_fields_storage profile_fields_storage_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.profile_fields_storage
    ADD CONSTRAINT profile_fields_storage_pkey PRIMARY KEY (id);


--
-- Name: profile_pins_new profile_pins_full_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.profile_pins_new
    ADD CONSTRAINT profile_pins_full_pkey PRIMARY KEY (id);


--
-- Name: profile_pins profile_pins_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.profile_pins
    ADD CONSTRAINT profile_pins_pkey PRIMARY KEY (id);


--
-- Name: profile_pins_storage profile_pins_storage_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.profile_pins_storage
    ADD CONSTRAINT profile_pins_storage_pkey PRIMARY KEY (id);


--
-- Name: profiles profiles_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.profiles
    ADD CONSTRAINT profiles_pkey PRIMARY KEY (id);


--
-- Name: rating_votes_new rating_votes_full_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.rating_votes_new
    ADD CONSTRAINT rating_votes_full_pkey PRIMARY KEY (id);


--
-- Name: rating_votes rating_votes_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.rating_votes
    ADD CONSTRAINT rating_votes_pkey PRIMARY KEY (id);


--
-- Name: rating_votes_storage rating_votes_storage_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.rating_votes_storage
    ADD CONSTRAINT rating_votes_storage_pkey PRIMARY KEY (id);


--
-- Name: reactions_new reactions_full_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.reactions_new
    ADD CONSTRAINT reactions_full_pkey PRIMARY KEY (id);


--
-- Name: reactions reactions_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.reactions
    ADD CONSTRAINT reactions_pkey PRIMARY KEY (id);


--
-- Name: reactions_storage reactions_storage_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.reactions_storage
    ADD CONSTRAINT reactions_storage_pkey PRIMARY KEY (id);


--
-- Name: response_templates_new response_templates_full_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.response_templates_new
    ADD CONSTRAINT response_templates_full_pkey PRIMARY KEY (id);


--
-- Name: response_templates response_templates_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.response_templates
    ADD CONSTRAINT response_templates_pkey PRIMARY KEY (id);


--
-- Name: response_templates_storage response_templates_storage_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.response_templates_storage
    ADD CONSTRAINT response_templates_storage_pkey PRIMARY KEY (id);


--
-- Name: roles_new roles_full_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.roles_new
    ADD CONSTRAINT roles_full_pkey PRIMARY KEY (id);


--
-- Name: roles roles_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.roles
    ADD CONSTRAINT roles_pkey PRIMARY KEY (id);


--
-- Name: roles_storage roles_storage_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.roles_storage
    ADD CONSTRAINT roles_storage_pkey PRIMARY KEY (id);


--
-- Name: schema_migrations schema_migrations_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.schema_migrations
    ADD CONSTRAINT schema_migrations_pkey PRIMARY KEY (version);


--
-- Name: settings_authentications settings_authentications_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.settings_authentications
    ADD CONSTRAINT settings_authentications_pkey PRIMARY KEY (id);


--
-- Name: settings_campaigns settings_campaigns_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.settings_campaigns
    ADD CONSTRAINT settings_campaigns_pkey PRIMARY KEY (id);


--
-- Name: settings_communities settings_communities_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.settings_communities
    ADD CONSTRAINT settings_communities_pkey PRIMARY KEY (id);


--
-- Name: settings_rate_limits settings_rate_limits_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.settings_rate_limits
    ADD CONSTRAINT settings_rate_limits_pkey PRIMARY KEY (id);


--
-- Name: settings_smtp settings_smtp_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.settings_smtp
    ADD CONSTRAINT settings_smtp_pkey PRIMARY KEY (id);


--
-- Name: settings_user_experiences settings_user_experiences_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.settings_user_experiences
    ADD CONSTRAINT settings_user_experiences_pkey PRIMARY KEY (id);


--
-- Name: site_configs site_configs_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.site_configs
    ADD CONSTRAINT site_configs_pkey PRIMARY KEY (id);


--
-- Name: sponsorships_new sponsorships_full_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.sponsorships_new
    ADD CONSTRAINT sponsorships_full_pkey PRIMARY KEY (id);


--
-- Name: sponsorships sponsorships_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.sponsorships
    ADD CONSTRAINT sponsorships_pkey PRIMARY KEY (id);


--
-- Name: sponsorships_storage sponsorships_storage_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.sponsorships_storage
    ADD CONSTRAINT sponsorships_storage_pkey PRIMARY KEY (id);


--
-- Name: tag_adjustments_new tag_adjustments_full_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.tag_adjustments_new
    ADD CONSTRAINT tag_adjustments_full_pkey PRIMARY KEY (id);


--
-- Name: tag_adjustments tag_adjustments_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.tag_adjustments
    ADD CONSTRAINT tag_adjustments_pkey PRIMARY KEY (id);


--
-- Name: tag_adjustments_storage tag_adjustments_storage_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.tag_adjustments_storage
    ADD CONSTRAINT tag_adjustments_storage_pkey PRIMARY KEY (id);


--
-- Name: taggings taggings_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.taggings
    ADD CONSTRAINT taggings_pkey PRIMARY KEY (id);


--
-- Name: tags tags_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.tags
    ADD CONSTRAINT tags_pkey PRIMARY KEY (id);


--
-- Name: tweets tweets_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.tweets
    ADD CONSTRAINT tweets_pkey PRIMARY KEY (id);


--
-- Name: user_blocks user_blocks_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.user_blocks
    ADD CONSTRAINT user_blocks_pkey PRIMARY KEY (id);


--
-- Name: user_blocks_storage user_blocks_storage_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.user_blocks_storage
    ADD CONSTRAINT user_blocks_storage_pkey PRIMARY KEY (id);


--
-- Name: user_subscriptions user_subscriptions_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.user_subscriptions
    ADD CONSTRAINT user_subscriptions_pkey PRIMARY KEY (id);


--
-- Name: user_subscriptions_storage user_subscriptions_storage_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.user_subscriptions_storage
    ADD CONSTRAINT user_subscriptions_storage_pkey PRIMARY KEY (id);


--
-- Name: users_gdpr_delete_requests users_gdpr_delete_requests_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.users_gdpr_delete_requests
    ADD CONSTRAINT users_gdpr_delete_requests_pkey PRIMARY KEY (id);


--
-- Name: users_notification_settings users_notification_settings_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.users_notification_settings
    ADD CONSTRAINT users_notification_settings_pkey PRIMARY KEY (id);


--
-- Name: users users_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.users
    ADD CONSTRAINT users_pkey PRIMARY KEY (id);


--
-- Name: users_settings users_settings_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.users_settings
    ADD CONSTRAINT users_settings_pkey PRIMARY KEY (id);


--
-- Name: users_suspended_usernames users_suspended_usernames_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.users_suspended_usernames
    ADD CONSTRAINT users_suspended_usernames_pkey PRIMARY KEY (username_hash);


--
-- Name: webhook_endpoints webhook_endpoints_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.webhook_endpoints
    ADD CONSTRAINT webhook_endpoints_pkey PRIMARY KEY (id);


--
-- Name: welcome_notifications welcome_notifications_pkey; Type: CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.welcome_notifications
    ADD CONSTRAINT welcome_notifications_pkey PRIMARY KEY (id);


--
-- Name: articles_storage_boost_states_idx; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX articles_storage_boost_states_idx ON public.articles_storage USING gin (boost_states);


--
-- Name: articles_storage_cached_tag_list_idx; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX articles_storage_cached_tag_list_idx ON public.articles_storage USING gin (cached_tag_list public.gin_trgm_ops);


--
-- Name: articles_storage_canonical_url_idx; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE UNIQUE INDEX articles_storage_canonical_url_idx ON public.articles_storage USING btree (canonical_url) WHERE (published IS TRUE);


--
-- Name: articles_storage_collection_id_idx; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX articles_storage_collection_id_idx ON public.articles_storage USING btree (collection_id);


--
-- Name: articles_storage_comment_score_idx; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX articles_storage_comment_score_idx ON public.articles_storage USING btree (comment_score);


--
-- Name: articles_storage_comments_count_idx; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX articles_storage_comments_count_idx ON public.articles_storage USING btree (comments_count);


--
-- Name: articles_storage_featured_number_idx; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX articles_storage_featured_number_idx ON public.articles_storage USING btree (featured_number);


--
-- Name: articles_storage_feed_source_url_idx; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE UNIQUE INDEX articles_storage_feed_source_url_idx ON public.articles_storage USING btree (feed_source_url) WHERE (published IS TRUE);


--
-- Name: articles_storage_hotness_score_comments_count_idx; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX articles_storage_hotness_score_comments_count_idx ON public.articles_storage USING btree (hotness_score, comments_count);


--
-- Name: articles_storage_hotness_score_idx; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX articles_storage_hotness_score_idx ON public.articles_storage USING btree (hotness_score);


--
-- Name: articles_storage_path_idx; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX articles_storage_path_idx ON public.articles_storage USING btree (path);


--
-- Name: articles_storage_public_reactions_count_idx; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX articles_storage_public_reactions_count_idx ON public.articles_storage USING btree (public_reactions_count DESC);


--
-- Name: articles_storage_published_at_idx; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX articles_storage_published_at_idx ON public.articles_storage USING btree (published_at);


--
-- Name: articles_storage_published_idx; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX articles_storage_published_idx ON public.articles_storage USING btree (published);


--
-- Name: articles_storage_reading_list_document_idx; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX articles_storage_reading_list_document_idx ON public.articles_storage USING gin (reading_list_document);


--
-- Name: articles_storage_slug_user_id_idx; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE UNIQUE INDEX articles_storage_slug_user_id_idx ON public.articles_storage USING btree (slug, user_id);


--
-- Name: articles_storage_user_id_idx; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX articles_storage_user_id_idx ON public.articles_storage USING btree (user_id);


--
-- Name: articles_storage_user_id_title_digest_idx; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE UNIQUE INDEX articles_storage_user_id_title_digest_idx ON public.articles_storage USING btree (user_id, title, public.digest(body_markdown, 'sha512'::text));


--
-- Name: broadcasts_full_broadcastable_type_broadcastable_id_idx; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE UNIQUE INDEX broadcasts_full_broadcastable_type_broadcastable_id_idx ON public.broadcasts_new USING btree (broadcastable_type, broadcastable_id);


--
-- Name: broadcasts_full_title_type_of_idx; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE UNIQUE INDEX broadcasts_full_title_type_of_idx ON public.broadcasts_new USING btree (title, type_of_int);


--
-- Name: broadcasts_storage_broadcastable_type_broadcastable_id_idx; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE UNIQUE INDEX broadcasts_storage_broadcastable_type_broadcastable_id_idx ON public.broadcasts_storage USING btree (broadcastable_type, broadcastable_id);


--
-- Name: broadcasts_storage_title_type_of_idx; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE UNIQUE INDEX broadcasts_storage_title_type_of_idx ON public.broadcasts_storage USING btree (title, type_of);


--
-- Name: chat_channel_memberships_full_chat_channel_id_user_id_idx; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE UNIQUE INDEX chat_channel_memberships_full_chat_channel_id_user_id_idx ON public.chat_channel_memberships_new USING btree (chat_channel_id, user_id);


--
-- Name: chat_channel_memberships_full_user_id_chat_channel_id_idx; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX chat_channel_memberships_full_user_id_chat_channel_id_idx ON public.chat_channel_memberships_new USING btree (user_id, chat_channel_id);


--
-- Name: chat_channel_memberships_storage_chat_channel_id_user_id_idx; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE UNIQUE INDEX chat_channel_memberships_storage_chat_channel_id_user_id_idx ON public.chat_channel_memberships_storage USING btree (chat_channel_id, user_id);


--
-- Name: chat_channel_memberships_storage_user_id_chat_channel_id_idx; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX chat_channel_memberships_storage_user_id_chat_channel_id_idx ON public.chat_channel_memberships_storage USING btree (user_id, chat_channel_id);


--
-- Name: chat_channels_storage_slug_idx; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE UNIQUE INDEX chat_channels_storage_slug_idx ON public.chat_channels_storage USING btree (slug);


--
-- Name: comments_full_ancestry_idx; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX comments_full_ancestry_idx ON public.comments_new USING btree (ancestry);


--
-- Name: comments_full_ancestry_idx1; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX comments_full_ancestry_idx1 ON public.comments_new USING gin (ancestry public.gin_trgm_ops);


--
-- Name: comments_full_commentable_id_commentable_type_idx; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX comments_full_commentable_id_commentable_type_idx ON public.comments_new USING btree (commentable_id, commentable_type_int);


--
-- Name: comments_full_created_at_idx; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX comments_full_created_at_idx ON public.comments_new USING btree (created_at);


--
-- Name: comments_full_deleted_idx; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX comments_full_deleted_idx ON public.comments_new USING btree (deleted) WHERE (deleted = false);


--
-- Name: comments_full_digest_user_id_ancestry_commentable_id_commen_idx; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE UNIQUE INDEX comments_full_digest_user_id_ancestry_commentable_id_commen_idx ON public.comments_new USING btree (public.digest(body_markdown, 'sha512'::text), user_id, ancestry, commentable_id, commentable_type_int);


--
-- Name: comments_full_hidden_by_commentable_user_idx; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX comments_full_hidden_by_commentable_user_idx ON public.comments_new USING btree (hidden_by_commentable_user) WHERE (hidden_by_commentable_user = false);


--
-- Name: comments_full_score_idx; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX comments_full_score_idx ON public.comments_new USING btree (score);


--
-- Name: comments_full_to_tsvector_idx; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX comments_full_to_tsvector_idx ON public.comments_new USING gin (to_tsvector('simple'::regconfig, COALESCE(body_markdown, ''::text)));


--
-- Name: comments_full_user_id_idx; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX comments_full_user_id_idx ON public.comments_new USING btree (user_id);


--
-- Name: comments_storage_ancestry_idx; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX comments_storage_ancestry_idx ON public.comments_storage USING btree (ancestry);


--
-- Name: comments_storage_ancestry_idx1; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX comments_storage_ancestry_idx1 ON public.comments_storage USING gin (ancestry public.gin_trgm_ops);


--
-- Name: comments_storage_commentable_id_commentable_type_idx; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX comments_storage_commentable_id_commentable_type_idx ON public.comments_storage USING btree (commentable_id, commentable_type);


--
-- Name: comments_storage_created_at_idx; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX comments_storage_created_at_idx ON public.comments_storage USING btree (created_at);


--
-- Name: comments_storage_deleted_idx; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX comments_storage_deleted_idx ON public.comments_storage USING btree (deleted) WHERE (deleted = false);


--
-- Name: comments_storage_digest_user_id_ancestry_commentable_id_com_idx; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE UNIQUE INDEX comments_storage_digest_user_id_ancestry_commentable_id_com_idx ON public.comments_storage USING btree (public.digest(body_markdown, 'sha512'::text), user_id, ancestry, commentable_id, commentable_type);


--
-- Name: comments_storage_hidden_by_commentable_user_idx; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX comments_storage_hidden_by_commentable_user_idx ON public.comments_storage USING btree (hidden_by_commentable_user) WHERE (hidden_by_commentable_user = false);


--
-- Name: comments_storage_score_idx; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX comments_storage_score_idx ON public.comments_storage USING btree (score);


--
-- Name: comments_storage_to_tsvector_idx; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX comments_storage_to_tsvector_idx ON public.comments_storage USING gin (to_tsvector('simple'::regconfig, COALESCE(body_markdown, ''::text)));


--
-- Name: comments_storage_user_id_idx; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX comments_storage_user_id_idx ON public.comments_storage USING btree (user_id);


--
-- Name: consumer_apps_storage_app_bundle_platform_idx; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE UNIQUE INDEX consumer_apps_storage_app_bundle_platform_idx ON public.consumer_apps_storage USING btree (app_bundle, platform);


--
-- Name: credits_storage_purchase_id_purchase_type_idx; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX credits_storage_purchase_id_purchase_type_idx ON public.credits_storage USING btree (purchase_id, purchase_type);


--
-- Name: credits_storage_spent_idx; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX credits_storage_spent_idx ON public.credits_storage USING btree (spent);


--
-- Name: devices_storage_consumer_app_id_idx; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX devices_storage_consumer_app_id_idx ON public.devices_storage USING btree (consumer_app_id);


--
-- Name: devices_storage_user_id_token_platform_consumer_app_id_idx; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE UNIQUE INDEX devices_storage_user_id_token_platform_consumer_app_id_idx ON public.devices_storage USING btree (user_id, token, platform, consumer_app_id);


--
-- Name: display_ad_events_storage_display_ad_id_idx; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX display_ad_events_storage_display_ad_id_idx ON public.display_ad_events_storage USING btree (display_ad_id);


--
-- Name: display_ad_events_storage_user_id_idx; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX display_ad_events_storage_user_id_idx ON public.display_ad_events_storage USING btree (user_id);


--
-- Name: email_authorizations_storage_user_id_idx; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX email_authorizations_storage_user_id_idx ON public.email_authorizations_storage USING btree (user_id);


--
-- Name: feedback_messages_storage_affected_id_idx; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX feedback_messages_storage_affected_id_idx ON public.feedback_messages_storage USING btree (affected_id);


--
-- Name: feedback_messages_storage_offender_id_idx; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX feedback_messages_storage_offender_id_idx ON public.feedback_messages_storage USING btree (offender_id);


--
-- Name: feedback_messages_storage_reporter_id_idx; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX feedback_messages_storage_reporter_id_idx ON public.feedback_messages_storage USING btree (reporter_id);


--
-- Name: feedback_messages_storage_status_idx; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX feedback_messages_storage_status_idx ON public.feedback_messages_storage USING btree (status);


--
-- Name: fk_followables; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX fk_followables ON public.follows USING btree (followable_id, followable_type);


--
-- Name: fk_follows; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX fk_follows ON public.follows USING btree (follower_id, follower_type);


--
-- Name: follows_full_created_at_idx; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX follows_full_created_at_idx ON public.follows_new USING btree (created_at);


--
-- Name: follows_full_followable_id_followable_type_follower_id_foll_idx; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE UNIQUE INDEX follows_full_followable_id_followable_type_follower_id_foll_idx ON public.follows_new USING btree (followable_id, followable_type, follower_id, follower_type);


--
-- Name: follows_full_followable_id_followable_type_idx; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX follows_full_followable_id_followable_type_idx ON public.follows_new USING btree (followable_id, followable_type);


--
-- Name: follows_full_follower_id_follower_type_idx; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX follows_full_follower_id_follower_type_idx ON public.follows_new USING btree (follower_id, follower_type);


--
-- Name: follows_storage_created_at_idx; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX follows_storage_created_at_idx ON public.follows_storage USING btree (created_at);


--
-- Name: follows_storage_followable_id_followable_type_follower_id_f_idx; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE UNIQUE INDEX follows_storage_followable_id_followable_type_follower_id_f_idx ON public.follows_storage USING btree (followable_id, followable_type, follower_id, follower_type);


--
-- Name: follows_storage_followable_id_followable_type_idx; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX follows_storage_followable_id_followable_type_idx ON public.follows_storage USING btree (followable_id, followable_type);


--
-- Name: follows_storage_follower_id_follower_type_idx; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX follows_storage_follower_id_follower_type_idx ON public.follows_storage USING btree (follower_id, follower_type);


--
-- Name: github_issues_storage_url_idx; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE UNIQUE INDEX github_issues_storage_url_idx ON public.github_issues_storage USING btree (url);


--
-- Name: html_variants_full_name_idx; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE UNIQUE INDEX html_variants_full_name_idx ON public.html_variants_new USING btree (name);


--
-- Name: html_variants_storage_name_idx; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE UNIQUE INDEX html_variants_storage_name_idx ON public.html_variants_storage USING btree (name);


--
-- Name: identities_full_provider_uid_idx; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE UNIQUE INDEX identities_full_provider_uid_idx ON public.identities_new USING btree (provider_int, uid);


--
-- Name: identities_full_provider_user_id_idx; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE UNIQUE INDEX identities_full_provider_user_id_idx ON public.identities_new USING btree (provider_int, user_id);


--
-- Name: identities_storage_provider_uid_idx; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE UNIQUE INDEX identities_storage_provider_uid_idx ON public.identities_storage USING btree (provider, uid);


--
-- Name: identities_storage_provider_user_id_idx; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE UNIQUE INDEX identities_storage_provider_user_id_idx ON public.identities_storage USING btree (provider, user_id);


--
-- Name: idx_notification_subs_on_user_id_notifiable_type_notifiable_id; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE UNIQUE INDEX idx_notification_subs_on_user_id_notifiable_type_notifiable_id ON public.notification_subscriptions USING btree (user_id, notifiable_type, notifiable_id);


--
-- Name: idx_pins_on_pinnable_id_profile_id_profile_type_pinnable_type; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE UNIQUE INDEX idx_pins_on_pinnable_id_profile_id_profile_type_pinnable_type ON public.profile_pins USING btree (pinnable_id, profile_id, profile_type, pinnable_type);


--
-- Name: idx_response_templates_on_content_user_id_type_of_content_type; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE UNIQUE INDEX idx_response_templates_on_content_user_id_type_of_content_type ON public.response_templates USING btree (content, user_id, type_of, content_type);


--
-- Name: index_ahoy_events_on_name_and_time; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX index_ahoy_events_on_name_and_time ON public.ahoy_events USING btree (name, "time");


--
-- Name: index_ahoy_events_on_properties; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX index_ahoy_events_on_properties ON public.ahoy_events USING gin (properties jsonb_path_ops);


--
-- Name: index_ahoy_events_on_user_id; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX index_ahoy_events_on_user_id ON public.ahoy_events USING btree (user_id);


--
-- Name: index_ahoy_events_on_visit_id; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX index_ahoy_events_on_visit_id ON public.ahoy_events USING btree (visit_id);


--
-- Name: index_ahoy_messages_on_feedback_message_id; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX index_ahoy_messages_on_feedback_message_id ON public.ahoy_messages USING btree (feedback_message_id);


--
-- Name: index_ahoy_messages_on_to; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX index_ahoy_messages_on_to ON public.ahoy_messages USING btree ("to");


--
-- Name: index_ahoy_messages_on_token; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX index_ahoy_messages_on_token ON public.ahoy_messages USING btree (token);


--
-- Name: index_ahoy_messages_on_user_id_and_mailer; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX index_ahoy_messages_on_user_id_and_mailer ON public.ahoy_messages USING btree (user_id, mailer);


--
-- Name: index_ahoy_messages_on_user_id_and_user_type; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX index_ahoy_messages_on_user_id_and_user_type ON public.ahoy_messages USING btree (user_id, user_type);


--
-- Name: index_ahoy_visits_on_user_id; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX index_ahoy_visits_on_user_id ON public.ahoy_visits USING btree (user_id);


--
-- Name: index_ahoy_visits_on_visit_token; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE UNIQUE INDEX index_ahoy_visits_on_visit_token ON public.ahoy_visits USING btree (visit_token);


--
-- Name: index_api_secrets_on_secret; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE UNIQUE INDEX index_api_secrets_on_secret ON public.api_secrets USING btree (secret);


--
-- Name: index_api_secrets_on_user_id; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX index_api_secrets_on_user_id ON public.api_secrets USING btree (user_id);


--
-- Name: index_articles_on_boost_states; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX index_articles_on_boost_states ON public.articles USING gin (boost_states);


--
-- Name: index_articles_on_cached_tag_list; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX index_articles_on_cached_tag_list ON public.articles USING gin (cached_tag_list public.gin_trgm_ops);


--
-- Name: index_articles_on_canonical_url; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE UNIQUE INDEX index_articles_on_canonical_url ON public.articles USING btree (canonical_url) WHERE (published IS TRUE);


--
-- Name: index_articles_on_collection_id; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX index_articles_on_collection_id ON public.articles USING btree (collection_id);


--
-- Name: index_articles_on_comment_score; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX index_articles_on_comment_score ON public.articles USING btree (comment_score);


--
-- Name: index_articles_on_comments_count; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX index_articles_on_comments_count ON public.articles USING btree (comments_count);


--
-- Name: index_articles_on_featured_number; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX index_articles_on_featured_number ON public.articles USING btree (featured_number);


--
-- Name: index_articles_on_feed_source_url; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE UNIQUE INDEX index_articles_on_feed_source_url ON public.articles USING btree (feed_source_url) WHERE (published IS TRUE);


--
-- Name: index_articles_on_hotness_score; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX index_articles_on_hotness_score ON public.articles USING btree (hotness_score);


--
-- Name: index_articles_on_hotness_score_and_comments_count; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX index_articles_on_hotness_score_and_comments_count ON public.articles USING btree (hotness_score, comments_count);


--
-- Name: index_articles_on_path; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX index_articles_on_path ON public.articles USING btree (path);


--
-- Name: index_articles_on_public_reactions_count; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX index_articles_on_public_reactions_count ON public.articles USING btree (public_reactions_count DESC);


--
-- Name: index_articles_on_published; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX index_articles_on_published ON public.articles USING btree (published);


--
-- Name: index_articles_on_published_at; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX index_articles_on_published_at ON public.articles USING btree (published_at);


--
-- Name: index_articles_on_reading_list_document; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX index_articles_on_reading_list_document ON public.articles USING gin (reading_list_document);


--
-- Name: index_articles_on_slug_and_user_id; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE UNIQUE INDEX index_articles_on_slug_and_user_id ON public.articles USING btree (slug, user_id);


--
-- Name: index_articles_on_user_id; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX index_articles_on_user_id ON public.articles USING btree (user_id);


--
-- Name: index_articles_on_user_id_and_title_and_digest_body_markdown; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE UNIQUE INDEX index_articles_on_user_id_and_title_and_digest_body_markdown ON public.articles USING btree (user_id, title, public.digest(body_markdown, 'sha512'::text));


--
-- Name: index_audit_logs_on_data; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX index_audit_logs_on_data ON public.audit_logs USING gin (data);


--
-- Name: index_audit_logs_on_user_id; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX index_audit_logs_on_user_id ON public.audit_logs USING btree (user_id);


--
-- Name: index_badge_achievements_on_badge_id_and_user_id; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE UNIQUE INDEX index_badge_achievements_on_badge_id_and_user_id ON public.badge_achievements USING btree (badge_id, user_id);


--
-- Name: index_badge_achievements_on_user_id_and_badge_id; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX index_badge_achievements_on_user_id_and_badge_id ON public.badge_achievements USING btree (user_id, badge_id);


--
-- Name: index_badges_on_slug; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE UNIQUE INDEX index_badges_on_slug ON public.badges USING btree (slug);


--
-- Name: index_badges_on_title; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE UNIQUE INDEX index_badges_on_title ON public.badges USING btree (title);


--
-- Name: index_banished_users_on_banished_by_id; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX index_banished_users_on_banished_by_id ON public.banished_users USING btree (banished_by_id);


--
-- Name: index_banished_users_on_username; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE UNIQUE INDEX index_banished_users_on_username ON public.banished_users USING btree (username);


--
-- Name: index_blazer_audits_on_query_id; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX index_blazer_audits_on_query_id ON public.blazer_audits USING btree (query_id);


--
-- Name: index_blazer_audits_on_user_id; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX index_blazer_audits_on_user_id ON public.blazer_audits USING btree (user_id);


--
-- Name: index_blazer_checks_on_creator_id; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX index_blazer_checks_on_creator_id ON public.blazer_checks USING btree (creator_id);


--
-- Name: index_blazer_checks_on_query_id; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX index_blazer_checks_on_query_id ON public.blazer_checks USING btree (query_id);


--
-- Name: index_blazer_dashboard_queries_on_dashboard_id; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX index_blazer_dashboard_queries_on_dashboard_id ON public.blazer_dashboard_queries USING btree (dashboard_id);


--
-- Name: index_blazer_dashboard_queries_on_query_id; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX index_blazer_dashboard_queries_on_query_id ON public.blazer_dashboard_queries USING btree (query_id);


--
-- Name: index_blazer_dashboards_on_creator_id; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX index_blazer_dashboards_on_creator_id ON public.blazer_dashboards USING btree (creator_id);


--
-- Name: index_blazer_queries_on_creator_id; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX index_blazer_queries_on_creator_id ON public.blazer_queries USING btree (creator_id);


--
-- Name: index_broadcasts_on_broadcastable_type_and_broadcastable_id; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE UNIQUE INDEX index_broadcasts_on_broadcastable_type_and_broadcastable_id ON public.broadcasts USING btree (broadcastable_type, broadcastable_id);


--
-- Name: index_broadcasts_on_title_and_type_of; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE UNIQUE INDEX index_broadcasts_on_title_and_type_of ON public.broadcasts USING btree (title, type_of);


--
-- Name: index_chat_channel_memberships_on_chat_channel_id_and_user_id; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE UNIQUE INDEX index_chat_channel_memberships_on_chat_channel_id_and_user_id ON public.chat_channel_memberships USING btree (chat_channel_id, user_id);


--
-- Name: index_chat_channel_memberships_on_user_id_and_chat_channel_id; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX index_chat_channel_memberships_on_user_id_and_chat_channel_id ON public.chat_channel_memberships USING btree (user_id, chat_channel_id);


--
-- Name: index_chat_channels_on_slug; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE UNIQUE INDEX index_chat_channels_on_slug ON public.chat_channels USING btree (slug);


--
-- Name: index_classified_listing_categories_on_name; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE UNIQUE INDEX index_classified_listing_categories_on_name ON public.classified_listing_categories USING btree (name);


--
-- Name: index_classified_listing_categories_on_slug; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE UNIQUE INDEX index_classified_listing_categories_on_slug ON public.classified_listing_categories USING btree (slug);


--
-- Name: index_classified_listings_on_classified_listing_category_id; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX index_classified_listings_on_classified_listing_category_id ON public.classified_listings USING btree (classified_listing_category_id);


--
-- Name: index_classified_listings_on_organization_id; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX index_classified_listings_on_organization_id ON public.classified_listings USING btree (organization_id);


--
-- Name: index_classified_listings_on_published; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX index_classified_listings_on_published ON public.classified_listings USING btree (published);


--
-- Name: index_classified_listings_on_search_fields_as_tsvector; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX index_classified_listings_on_search_fields_as_tsvector ON public.classified_listings USING gin ((((((to_tsvector('simple'::regconfig, COALESCE(body_markdown, ''::text)) || to_tsvector('simple'::regconfig, COALESCE((cached_tag_list)::text, ''::text))) || to_tsvector('simple'::regconfig, COALESCE((location)::text, ''::text))) || to_tsvector('simple'::regconfig, COALESCE((slug)::text, ''::text))) || to_tsvector('simple'::regconfig, COALESCE((title)::text, ''::text)))));


--
-- Name: index_classified_listings_on_user_id; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX index_classified_listings_on_user_id ON public.classified_listings USING btree (user_id);


--
-- Name: index_collections_on_organization_id; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX index_collections_on_organization_id ON public.collections USING btree (organization_id);


--
-- Name: index_collections_on_slug_and_user_id; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE UNIQUE INDEX index_collections_on_slug_and_user_id ON public.collections USING btree (slug, user_id);


--
-- Name: index_collections_on_user_id; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX index_collections_on_user_id ON public.collections USING btree (user_id);


--
-- Name: index_comments_on_ancestry; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX index_comments_on_ancestry ON public.comments USING btree (ancestry);


--
-- Name: index_comments_on_ancestry_trgm; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX index_comments_on_ancestry_trgm ON public.comments USING gin (ancestry public.gin_trgm_ops);


--
-- Name: index_comments_on_body_markdown_as_tsvector; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX index_comments_on_body_markdown_as_tsvector ON public.comments USING gin (to_tsvector('simple'::regconfig, COALESCE(body_markdown, ''::text)));


--
-- Name: index_comments_on_body_markdown_user_ancestry_commentable; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE UNIQUE INDEX index_comments_on_body_markdown_user_ancestry_commentable ON public.comments USING btree (public.digest(body_markdown, 'sha512'::text), user_id, ancestry, commentable_id, commentable_type);


--
-- Name: index_comments_on_commentable_id_and_commentable_type; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX index_comments_on_commentable_id_and_commentable_type ON public.comments USING btree (commentable_id, commentable_type);


--
-- Name: index_comments_on_created_at; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX index_comments_on_created_at ON public.comments USING btree (created_at);


--
-- Name: index_comments_on_deleted; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX index_comments_on_deleted ON public.comments USING btree (deleted) WHERE (deleted = false);


--
-- Name: index_comments_on_hidden_by_commentable_user; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX index_comments_on_hidden_by_commentable_user ON public.comments USING btree (hidden_by_commentable_user) WHERE (hidden_by_commentable_user = false);


--
-- Name: index_comments_on_score; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX index_comments_on_score ON public.comments USING btree (score);


--
-- Name: index_comments_on_user_id; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX index_comments_on_user_id ON public.comments USING btree (user_id);


--
-- Name: index_consumer_apps_on_app_bundle_and_platform; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE UNIQUE INDEX index_consumer_apps_on_app_bundle_and_platform ON public.consumer_apps USING btree (app_bundle, platform);


--
-- Name: index_credits_on_purchase_id_and_purchase_type; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX index_credits_on_purchase_id_and_purchase_type ON public.credits USING btree (purchase_id, purchase_type);


--
-- Name: index_credits_on_spent; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX index_credits_on_spent ON public.credits USING btree (spent);


--
-- Name: index_data_update_scripts_on_file_name; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE UNIQUE INDEX index_data_update_scripts_on_file_name ON public.data_update_scripts USING btree (file_name);


--
-- Name: index_devices_on_consumer_app_id; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX index_devices_on_consumer_app_id ON public.devices USING btree (consumer_app_id);


--
-- Name: index_devices_on_user_id_and_token_and_platform_and_app; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE UNIQUE INDEX index_devices_on_user_id_and_token_and_platform_and_app ON public.devices USING btree (user_id, token, platform, consumer_app_id);


--
-- Name: index_discussion_locks_on_article_id; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE UNIQUE INDEX index_discussion_locks_on_article_id ON public.discussion_locks USING btree (article_id);


--
-- Name: index_discussion_locks_on_locking_user_id; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX index_discussion_locks_on_locking_user_id ON public.discussion_locks USING btree (locking_user_id);


--
-- Name: index_display_ad_events_on_display_ad_id; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX index_display_ad_events_on_display_ad_id ON public.display_ad_events USING btree (display_ad_id);


--
-- Name: index_display_ad_events_on_user_id; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX index_display_ad_events_on_user_id ON public.display_ad_events USING btree (user_id);


--
-- Name: index_email_authorizations_on_user_id; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX index_email_authorizations_on_user_id ON public.email_authorizations USING btree (user_id);


--
-- Name: index_feedback_messages_on_affected_id; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX index_feedback_messages_on_affected_id ON public.feedback_messages USING btree (affected_id);


--
-- Name: index_feedback_messages_on_offender_id; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX index_feedback_messages_on_offender_id ON public.feedback_messages USING btree (offender_id);


--
-- Name: index_feedback_messages_on_reporter_id; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX index_feedback_messages_on_reporter_id ON public.feedback_messages USING btree (reporter_id);


--
-- Name: index_feedback_messages_on_status; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX index_feedback_messages_on_status ON public.feedback_messages USING btree (status);


--
-- Name: index_field_test_events_on_field_test_membership_id; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX index_field_test_events_on_field_test_membership_id ON public.field_test_events USING btree (field_test_membership_id);


--
-- Name: index_field_test_memberships_on_experiment_and_created_at; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX index_field_test_memberships_on_experiment_and_created_at ON public.field_test_memberships USING btree (experiment, created_at);


--
-- Name: index_field_test_memberships_on_participant; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE UNIQUE INDEX index_field_test_memberships_on_participant ON public.field_test_memberships USING btree (participant_type, participant_id, experiment);


--
-- Name: index_flipper_features_on_key; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE UNIQUE INDEX index_flipper_features_on_key ON public.flipper_features USING btree (key);


--
-- Name: index_flipper_gates_on_feature_key_and_key_and_value; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE UNIQUE INDEX index_flipper_gates_on_feature_key_and_key_and_value ON public.flipper_gates USING btree (feature_key, key, value);


--
-- Name: index_follows_on_created_at; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX index_follows_on_created_at ON public.follows USING btree (created_at);


--
-- Name: index_follows_on_followable_and_follower; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE UNIQUE INDEX index_follows_on_followable_and_follower ON public.follows USING btree (followable_id, followable_type, follower_id, follower_type);


--
-- Name: index_github_issues_on_url; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE UNIQUE INDEX index_github_issues_on_url ON public.github_issues USING btree (url);


--
-- Name: index_github_repos_on_github_id_code; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE UNIQUE INDEX index_github_repos_on_github_id_code ON public.github_repos USING btree (github_id_code);


--
-- Name: index_github_repos_on_url; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE UNIQUE INDEX index_github_repos_on_url ON public.github_repos USING btree (url);


--
-- Name: index_html_variant_successes_on_html_variant_id_and_article_id; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX index_html_variant_successes_on_html_variant_id_and_article_id ON public.html_variant_successes USING btree (html_variant_id, article_id);


--
-- Name: index_html_variant_trials_on_html_variant_id_and_article_id; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX index_html_variant_trials_on_html_variant_id_and_article_id ON public.html_variant_trials USING btree (html_variant_id, article_id);


--
-- Name: index_html_variants_on_name; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE UNIQUE INDEX index_html_variants_on_name ON public.html_variants USING btree (name);


--
-- Name: index_identities_on_provider_and_uid; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE UNIQUE INDEX index_identities_on_provider_and_uid ON public.identities USING btree (provider, uid);


--
-- Name: index_identities_on_provider_and_user_id; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE UNIQUE INDEX index_identities_on_provider_and_user_id ON public.identities USING btree (provider, user_id);


--
-- Name: index_mentions_on_user_id_and_mentionable_id_mentionable_type; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE UNIQUE INDEX index_mentions_on_user_id_and_mentionable_id_mentionable_type ON public.mentions USING btree (user_id, mentionable_id, mentionable_type);


--
-- Name: index_messages_on_chat_channel_id; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX index_messages_on_chat_channel_id ON public.messages USING btree (chat_channel_id);


--
-- Name: index_messages_on_user_id; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX index_messages_on_user_id ON public.messages USING btree (user_id);


--
-- Name: index_navigation_links_on_url_and_name; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE UNIQUE INDEX index_navigation_links_on_url_and_name ON public.navigation_links USING btree (url, name);


--
-- Name: index_notification_subscriptions_on_notifiable_and_config; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX index_notification_subscriptions_on_notifiable_and_config ON public.notification_subscriptions USING btree (notifiable_id, notifiable_type, config);


--
-- Name: index_notifications_on_created_at; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX index_notifications_on_created_at ON public.notifications USING btree (created_at);


--
-- Name: index_notifications_on_notifiable_id_notifiable_type_and_action; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX index_notifications_on_notifiable_id_notifiable_type_and_action ON public.notifications USING btree (notifiable_id, notifiable_type, action);


--
-- Name: index_notifications_on_notifiable_type; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX index_notifications_on_notifiable_type ON public.notifications USING btree (notifiable_type);


--
-- Name: index_notifications_on_notified_at; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX index_notifications_on_notified_at ON public.notifications USING btree (notified_at);


--
-- Name: index_notifications_on_org_notifiable_action_is_null; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE UNIQUE INDEX index_notifications_on_org_notifiable_action_is_null ON public.notifications USING btree (organization_id, notifiable_id, notifiable_type) WHERE (action IS NULL);


--
-- Name: index_notifications_on_org_notifiable_and_action_not_null; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE UNIQUE INDEX index_notifications_on_org_notifiable_and_action_not_null ON public.notifications USING btree (organization_id, notifiable_id, notifiable_type, action) WHERE (action IS NOT NULL);


--
-- Name: index_notifications_on_user_notifiable_action_is_null; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE UNIQUE INDEX index_notifications_on_user_notifiable_action_is_null ON public.notifications USING btree (user_id, notifiable_id, notifiable_type) WHERE (action IS NULL);


--
-- Name: index_notifications_on_user_notifiable_and_action_not_null; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE UNIQUE INDEX index_notifications_on_user_notifiable_and_action_not_null ON public.notifications USING btree (user_id, notifiable_id, notifiable_type, action) WHERE (action IS NOT NULL);


--
-- Name: index_notifications_user_id_organization_id_notifiable_action; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE UNIQUE INDEX index_notifications_user_id_organization_id_notifiable_action ON public.notifications USING btree (user_id, organization_id, notifiable_id, notifiable_type, action);


--
-- Name: index_oauth_access_grants_on_application_id; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX index_oauth_access_grants_on_application_id ON public.oauth_access_grants USING btree (application_id);


--
-- Name: index_oauth_access_grants_on_resource_owner_id; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX index_oauth_access_grants_on_resource_owner_id ON public.oauth_access_grants USING btree (resource_owner_id);


--
-- Name: index_oauth_access_grants_on_token; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE UNIQUE INDEX index_oauth_access_grants_on_token ON public.oauth_access_grants USING btree (token);


--
-- Name: index_oauth_access_tokens_on_application_id; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX index_oauth_access_tokens_on_application_id ON public.oauth_access_tokens USING btree (application_id);


--
-- Name: index_oauth_access_tokens_on_refresh_token; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE UNIQUE INDEX index_oauth_access_tokens_on_refresh_token ON public.oauth_access_tokens USING btree (refresh_token);


--
-- Name: index_oauth_access_tokens_on_resource_owner_id; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX index_oauth_access_tokens_on_resource_owner_id ON public.oauth_access_tokens USING btree (resource_owner_id);


--
-- Name: index_oauth_access_tokens_on_token; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE UNIQUE INDEX index_oauth_access_tokens_on_token ON public.oauth_access_tokens USING btree (token);


--
-- Name: index_oauth_applications_on_uid; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE UNIQUE INDEX index_oauth_applications_on_uid ON public.oauth_applications USING btree (uid);


--
-- Name: index_on_user_subscription_sourcebable_type_and_id; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX index_on_user_subscription_sourcebable_type_and_id ON public.user_subscriptions USING btree (user_subscription_sourceable_type, user_subscription_sourceable_id);


--
-- Name: index_organization_memberships_on_user_id_and_organization_id; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE UNIQUE INDEX index_organization_memberships_on_user_id_and_organization_id ON public.organization_memberships USING btree (user_id, organization_id);


--
-- Name: index_organizations_on_secret; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE UNIQUE INDEX index_organizations_on_secret ON public.organizations USING btree (secret);


--
-- Name: index_organizations_on_slug; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE UNIQUE INDEX index_organizations_on_slug ON public.organizations USING btree (slug);


--
-- Name: index_page_views_on_article_id; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX index_page_views_on_article_id ON public.page_views USING btree (article_id);


--
-- Name: index_page_views_on_created_at; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX index_page_views_on_created_at ON public.page_views USING btree (created_at);


--
-- Name: index_page_views_on_user_id; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX index_page_views_on_user_id ON public.page_views USING btree (user_id);


--
-- Name: index_pages_on_slug; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE UNIQUE INDEX index_pages_on_slug ON public.pages USING btree (slug);


--
-- Name: index_pod_episode_appearances_on_podcast_episode_id_and_user_id; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE UNIQUE INDEX index_pod_episode_appearances_on_podcast_episode_id_and_user_id ON public.podcast_episode_appearances USING btree (podcast_episode_id, user_id);


--
-- Name: index_podcast_episodes_on_guid; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE UNIQUE INDEX index_podcast_episodes_on_guid ON public.podcast_episodes USING btree (guid);


--
-- Name: index_podcast_episodes_on_media_url; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE UNIQUE INDEX index_podcast_episodes_on_media_url ON public.podcast_episodes USING btree (media_url);


--
-- Name: index_podcast_episodes_on_podcast_id; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX index_podcast_episodes_on_podcast_id ON public.podcast_episodes USING btree (podcast_id);


--
-- Name: index_podcast_episodes_on_search_fields_as_tsvector; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX index_podcast_episodes_on_search_fields_as_tsvector ON public.podcast_episodes USING gin ((((to_tsvector('simple'::regconfig, COALESCE(body, ''::text)) || to_tsvector('simple'::regconfig, COALESCE((subtitle)::text, ''::text))) || to_tsvector('simple'::regconfig, COALESCE((title)::text, ''::text)))));


--
-- Name: index_podcast_episodes_on_title; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX index_podcast_episodes_on_title ON public.podcast_episodes USING btree (title);


--
-- Name: index_podcast_episodes_on_website_url; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX index_podcast_episodes_on_website_url ON public.podcast_episodes USING btree (website_url);


--
-- Name: index_podcast_ownerships_on_podcast_id_and_user_id; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE UNIQUE INDEX index_podcast_ownerships_on_podcast_id_and_user_id ON public.podcast_ownerships USING btree (podcast_id, user_id);


--
-- Name: index_podcasts_on_creator_id; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX index_podcasts_on_creator_id ON public.podcasts USING btree (creator_id);


--
-- Name: index_podcasts_on_feed_url; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE UNIQUE INDEX index_podcasts_on_feed_url ON public.podcasts USING btree (feed_url);


--
-- Name: index_podcasts_on_published; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX index_podcasts_on_published ON public.podcasts USING btree (published) WHERE (published = true);


--
-- Name: index_podcasts_on_reachable; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX index_podcasts_on_reachable ON public.podcasts USING btree (reachable) WHERE (reachable = true);


--
-- Name: index_podcasts_on_slug; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE UNIQUE INDEX index_podcasts_on_slug ON public.podcasts USING btree (slug);


--
-- Name: index_poll_skips_on_poll_and_user; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE UNIQUE INDEX index_poll_skips_on_poll_and_user ON public.poll_skips USING btree (poll_id, user_id);


--
-- Name: index_poll_votes_on_poll_id_and_user_id; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE UNIQUE INDEX index_poll_votes_on_poll_id_and_user_id ON public.poll_votes USING btree (poll_id, user_id);


--
-- Name: index_poll_votes_on_poll_option_and_user; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE UNIQUE INDEX index_poll_votes_on_poll_option_and_user ON public.poll_votes USING btree (poll_option_id, user_id);


--
-- Name: index_profile_field_groups_on_name; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE UNIQUE INDEX index_profile_field_groups_on_name ON public.profile_field_groups USING btree (name);


--
-- Name: index_profile_fields_on_label; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE UNIQUE INDEX index_profile_fields_on_label ON public.profile_fields USING btree (label);


--
-- Name: index_profile_fields_on_profile_field_group_id; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX index_profile_fields_on_profile_field_group_id ON public.profile_fields USING btree (profile_field_group_id);


--
-- Name: index_profile_pins_on_profile_id; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX index_profile_pins_on_profile_id ON public.profile_pins USING btree (profile_id);


--
-- Name: index_profiles_on_user_id; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE UNIQUE INDEX index_profiles_on_user_id ON public.profiles USING btree (user_id);


--
-- Name: index_rating_votes_on_article_id; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX index_rating_votes_on_article_id ON public.rating_votes USING btree (article_id);


--
-- Name: index_rating_votes_on_user_id_and_article_id_and_context; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE UNIQUE INDEX index_rating_votes_on_user_id_and_article_id_and_context ON public.rating_votes USING btree (user_id, article_id, context);


--
-- Name: index_reactions_on_category; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX index_reactions_on_category ON public.reactions USING btree (category);


--
-- Name: index_reactions_on_created_at; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX index_reactions_on_created_at ON public.reactions USING btree (created_at);


--
-- Name: index_reactions_on_points; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX index_reactions_on_points ON public.reactions USING btree (points);


--
-- Name: index_reactions_on_reactable_id_and_reactable_type; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX index_reactions_on_reactable_id_and_reactable_type ON public.reactions USING btree (reactable_id, reactable_type);


--
-- Name: index_reactions_on_reactable_type; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX index_reactions_on_reactable_type ON public.reactions USING btree (reactable_type);


--
-- Name: index_reactions_on_status; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX index_reactions_on_status ON public.reactions USING btree (status);


--
-- Name: index_reactions_on_user_id_reactable_id_reactable_type_category; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE UNIQUE INDEX index_reactions_on_user_id_reactable_id_reactable_type_category ON public.reactions USING btree (user_id, reactable_id, reactable_type, category);


--
-- Name: index_response_templates_on_type_of; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX index_response_templates_on_type_of ON public.response_templates USING btree (type_of);


--
-- Name: index_response_templates_on_user_id_and_type_of; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX index_response_templates_on_user_id_and_type_of ON public.response_templates USING btree (user_id, type_of);


--
-- Name: index_roles_on_name; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX index_roles_on_name ON public.roles USING btree (name);


--
-- Name: index_roles_on_name_and_resource_type_and_resource_id; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX index_roles_on_name_and_resource_type_and_resource_id ON public.roles USING btree (name, resource_type, resource_id);


--
-- Name: index_settings_authentications_on_var; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE UNIQUE INDEX index_settings_authentications_on_var ON public.settings_authentications USING btree (var);


--
-- Name: index_settings_campaigns_on_var; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE UNIQUE INDEX index_settings_campaigns_on_var ON public.settings_campaigns USING btree (var);


--
-- Name: index_settings_communities_on_var; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE UNIQUE INDEX index_settings_communities_on_var ON public.settings_communities USING btree (var);


--
-- Name: index_settings_rate_limits_on_var; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE UNIQUE INDEX index_settings_rate_limits_on_var ON public.settings_rate_limits USING btree (var);


--
-- Name: index_settings_smtp_on_var; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE UNIQUE INDEX index_settings_smtp_on_var ON public.settings_smtp USING btree (var);


--
-- Name: index_settings_user_experiences_on_var; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE UNIQUE INDEX index_settings_user_experiences_on_var ON public.settings_user_experiences USING btree (var);


--
-- Name: index_site_configs_on_var; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE UNIQUE INDEX index_site_configs_on_var ON public.site_configs USING btree (var);


--
-- Name: index_sponsorships_on_level; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX index_sponsorships_on_level ON public.sponsorships USING btree (level);


--
-- Name: index_sponsorships_on_organization_id; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX index_sponsorships_on_organization_id ON public.sponsorships USING btree (organization_id);


--
-- Name: index_sponsorships_on_sponsorable_id_and_sponsorable_type; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX index_sponsorships_on_sponsorable_id_and_sponsorable_type ON public.sponsorships USING btree (sponsorable_id, sponsorable_type);


--
-- Name: index_sponsorships_on_status; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX index_sponsorships_on_status ON public.sponsorships USING btree (status);


--
-- Name: index_sponsorships_on_user_id; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX index_sponsorships_on_user_id ON public.sponsorships USING btree (user_id);


--
-- Name: index_subscriber_id_and_email_with_user_subscription_source; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE UNIQUE INDEX index_subscriber_id_and_email_with_user_subscription_source ON public.user_subscriptions USING btree (subscriber_id, subscriber_email, user_subscription_sourceable_type, user_subscription_sourceable_id);


--
-- Name: index_tag_adjustments_on_tag_name_and_article_id; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE UNIQUE INDEX index_tag_adjustments_on_tag_name_and_article_id ON public.tag_adjustments USING btree (tag_name, article_id);


--
-- Name: index_taggings_on_context; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX index_taggings_on_context ON public.taggings USING btree (context);


--
-- Name: index_taggings_on_tag_id; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX index_taggings_on_tag_id ON public.taggings USING btree (tag_id);


--
-- Name: index_taggings_on_taggable_id; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX index_taggings_on_taggable_id ON public.taggings USING btree (taggable_id);


--
-- Name: index_taggings_on_taggable_id_and_taggable_type_and_context; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX index_taggings_on_taggable_id_and_taggable_type_and_context ON public.taggings USING btree (taggable_id, taggable_type, context);


--
-- Name: index_taggings_on_taggable_type; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX index_taggings_on_taggable_type ON public.taggings USING btree (taggable_type);


--
-- Name: index_taggings_on_tagger_id; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX index_taggings_on_tagger_id ON public.taggings USING btree (tagger_id);


--
-- Name: index_taggings_on_tagger_id_and_tagger_type; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX index_taggings_on_tagger_id_and_tagger_type ON public.taggings USING btree (tagger_id, tagger_type);


--
-- Name: index_tags_on_name; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE UNIQUE INDEX index_tags_on_name ON public.tags USING btree (name);


--
-- Name: index_tags_on_social_preview_template; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX index_tags_on_social_preview_template ON public.tags USING btree (social_preview_template);


--
-- Name: index_tags_on_supported; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX index_tags_on_supported ON public.tags USING btree (supported);


--
-- Name: index_user_blocks_on_blocked_id_and_blocker_id; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE UNIQUE INDEX index_user_blocks_on_blocked_id_and_blocker_id ON public.user_blocks USING btree (blocked_id, blocker_id);


--
-- Name: index_user_subscriptions_on_author_id; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX index_user_subscriptions_on_author_id ON public.user_subscriptions USING btree (author_id);


--
-- Name: index_user_subscriptions_on_subscriber_email; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX index_user_subscriptions_on_subscriber_email ON public.user_subscriptions USING btree (subscriber_email);


--
-- Name: index_users_notification_settings_on_user_id; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE UNIQUE INDEX index_users_notification_settings_on_user_id ON public.users_notification_settings USING btree (user_id);


--
-- Name: index_users_on_apple_username; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX index_users_on_apple_username ON public.users USING btree (apple_username);


--
-- Name: index_users_on_confirmation_token; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE UNIQUE INDEX index_users_on_confirmation_token ON public.users USING btree (confirmation_token);


--
-- Name: index_users_on_created_at; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX index_users_on_created_at ON public.users USING btree (created_at);


--
-- Name: index_users_on_email; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE UNIQUE INDEX index_users_on_email ON public.users USING btree (email);


--
-- Name: index_users_on_facebook_username; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX index_users_on_facebook_username ON public.users USING btree (facebook_username);


--
-- Name: index_users_on_feed_fetched_at; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX index_users_on_feed_fetched_at ON public.users USING btree (feed_fetched_at);


--
-- Name: index_users_on_github_username; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE UNIQUE INDEX index_users_on_github_username ON public.users USING btree (github_username);


--
-- Name: index_users_on_invitation_token; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE UNIQUE INDEX index_users_on_invitation_token ON public.users USING btree (invitation_token);


--
-- Name: index_users_on_invitations_count; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX index_users_on_invitations_count ON public.users USING btree (invitations_count);


--
-- Name: index_users_on_invited_by_id; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX index_users_on_invited_by_id ON public.users USING btree (invited_by_id);


--
-- Name: index_users_on_invited_by_type_and_invited_by_id; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX index_users_on_invited_by_type_and_invited_by_id ON public.users USING btree (invited_by_type, invited_by_id);


--
-- Name: index_users_on_name_as_tsvector; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX index_users_on_name_as_tsvector ON public.users USING gin (to_tsvector('simple'::regconfig, COALESCE((name)::text, ''::text)));


--
-- Name: index_users_on_old_old_username; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX index_users_on_old_old_username ON public.users USING btree (old_old_username);


--
-- Name: index_users_on_old_username; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX index_users_on_old_username ON public.users USING btree (old_username);


--
-- Name: index_users_on_reset_password_token; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE UNIQUE INDEX index_users_on_reset_password_token ON public.users USING btree (reset_password_token);


--
-- Name: index_users_on_twitter_username; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE UNIQUE INDEX index_users_on_twitter_username ON public.users USING btree (twitter_username);


--
-- Name: index_users_on_username; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE UNIQUE INDEX index_users_on_username ON public.users USING btree (username);


--
-- Name: index_users_on_username_as_tsvector; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX index_users_on_username_as_tsvector ON public.users USING gin (to_tsvector('simple'::regconfig, COALESCE((username)::text, ''::text)));


--
-- Name: index_users_roles_on_user_id_and_role_id; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX index_users_roles_on_user_id_and_role_id ON public.users_roles USING btree (user_id, role_id);


--
-- Name: index_users_settings_on_feed_url; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX index_users_settings_on_feed_url ON public.users_settings USING btree (feed_url) WHERE ((COALESCE(feed_url, ''::character varying))::text <> ''::text);


--
-- Name: index_users_settings_on_user_id; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE UNIQUE INDEX index_users_settings_on_user_id ON public.users_settings USING btree (user_id);


--
-- Name: index_webhook_endpoints_on_events; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX index_webhook_endpoints_on_events ON public.webhook_endpoints USING btree (events);


--
-- Name: index_webhook_endpoints_on_oauth_application_id; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX index_webhook_endpoints_on_oauth_application_id ON public.webhook_endpoints USING btree (oauth_application_id);


--
-- Name: index_webhook_endpoints_on_target_url; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE UNIQUE INDEX index_webhook_endpoints_on_target_url ON public.webhook_endpoints USING btree (target_url);


--
-- Name: index_webhook_endpoints_on_user_id; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX index_webhook_endpoints_on_user_id ON public.webhook_endpoints USING btree (user_id);


--
-- Name: mentions_full_user_id_mentionable_id_mentionable_type_idx; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE UNIQUE INDEX mentions_full_user_id_mentionable_id_mentionable_type_idx ON public.mentions_new USING btree (user_id, mentionable_id, mentionable_type_int);


--
-- Name: mentions_storage_user_id_mentionable_id_mentionable_type_idx; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE UNIQUE INDEX mentions_storage_user_id_mentionable_id_mentionable_type_idx ON public.mentions_storage USING btree (user_id, mentionable_id, mentionable_type);


--
-- Name: navigation_links_storage_url_name_idx; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE UNIQUE INDEX navigation_links_storage_url_name_idx ON public.navigation_links_storage USING btree (url, name);


--
-- Name: notification_subscriptions_fu_notifiable_id_notifiable_type_idx; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX notification_subscriptions_fu_notifiable_id_notifiable_type_idx ON public.notification_subscriptions_new USING btree (notifiable_id, notifiable_type_int, config);


--
-- Name: notification_subscriptions_fu_user_id_notifiable_type_notif_idx; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE UNIQUE INDEX notification_subscriptions_fu_user_id_notifiable_type_notif_idx ON public.notification_subscriptions_new USING btree (user_id, notifiable_type_int, notifiable_id);


--
-- Name: notification_subscriptions_st_notifiable_id_notifiable_type_idx; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX notification_subscriptions_st_notifiable_id_notifiable_type_idx ON public.notification_subscriptions_storage USING btree (notifiable_id, notifiable_type, config);


--
-- Name: notification_subscriptions_st_user_id_notifiable_type_notif_idx; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE UNIQUE INDEX notification_subscriptions_st_user_id_notifiable_type_notif_idx ON public.notification_subscriptions_storage USING btree (user_id, notifiable_type, notifiable_id);


--
-- Name: organization_memberships_full_user_id_organization_id_idx; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE UNIQUE INDEX organization_memberships_full_user_id_organization_id_idx ON public.organization_memberships_new USING btree (user_id, organization_id);


--
-- Name: organization_memberships_storage_user_id_organization_id_idx; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE UNIQUE INDEX organization_memberships_storage_user_id_organization_id_idx ON public.organization_memberships_storage USING btree (user_id, organization_id);


--
-- Name: pages_storage_slug_idx; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE UNIQUE INDEX pages_storage_slug_idx ON public.pages_storage USING btree (slug);


--
-- Name: podcast_episode_appearances_stor_podcast_episode_id_user_id_idx; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE UNIQUE INDEX podcast_episode_appearances_stor_podcast_episode_id_user_id_idx ON public.podcast_episode_appearances_storage USING btree (podcast_episode_id, user_id);


--
-- Name: profile_fields_storage_label_idx; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE UNIQUE INDEX profile_fields_storage_label_idx ON public.profile_fields_storage USING btree (label);


--
-- Name: profile_fields_storage_profile_field_group_id_idx; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX profile_fields_storage_profile_field_group_id_idx ON public.profile_fields_storage USING btree (profile_field_group_id);


--
-- Name: profile_pins_full_pinnable_id_profile_id_profile_type_pinna_idx; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE UNIQUE INDEX profile_pins_full_pinnable_id_profile_id_profile_type_pinna_idx ON public.profile_pins_new USING btree (pinnable_id, profile_id, profile_type, pinnable_type_int);


--
-- Name: profile_pins_full_profile_id_idx; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX profile_pins_full_profile_id_idx ON public.profile_pins_new USING btree (profile_id);


--
-- Name: profile_pins_storage_pinnable_id_profile_id_profile_type_pi_idx; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE UNIQUE INDEX profile_pins_storage_pinnable_id_profile_id_profile_type_pi_idx ON public.profile_pins_storage USING btree (pinnable_id, profile_id, profile_type, pinnable_type);


--
-- Name: profile_pins_storage_profile_id_idx; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX profile_pins_storage_profile_id_idx ON public.profile_pins_storage USING btree (profile_id);


--
-- Name: rating_votes_full_article_id_idx; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX rating_votes_full_article_id_idx ON public.rating_votes_new USING btree (article_id);


--
-- Name: rating_votes_full_user_id_article_id_context_idx; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE UNIQUE INDEX rating_votes_full_user_id_article_id_context_idx ON public.rating_votes_new USING btree (user_id, article_id, context_int);


--
-- Name: rating_votes_storage_article_id_idx; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX rating_votes_storage_article_id_idx ON public.rating_votes_storage USING btree (article_id);


--
-- Name: rating_votes_storage_user_id_article_id_context_idx; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE UNIQUE INDEX rating_votes_storage_user_id_article_id_context_idx ON public.rating_votes_storage USING btree (user_id, article_id, context);


--
-- Name: reactions_full_category_idx; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX reactions_full_category_idx ON public.reactions_new USING btree (category);


--
-- Name: reactions_full_created_at_idx; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX reactions_full_created_at_idx ON public.reactions_new USING btree (created_at);


--
-- Name: reactions_full_points_idx; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX reactions_full_points_idx ON public.reactions_new USING btree (points);


--
-- Name: reactions_full_reactable_id_reactable_type_idx; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX reactions_full_reactable_id_reactable_type_idx ON public.reactions_new USING btree (reactable_id, reactable_type_int);


--
-- Name: reactions_full_reactable_type_idx; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX reactions_full_reactable_type_idx ON public.reactions_new USING btree (reactable_type_int);


--
-- Name: reactions_full_status_idx; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX reactions_full_status_idx ON public.reactions_new USING btree (status);


--
-- Name: reactions_full_user_id_reactable_id_reactable_type_category_idx; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE UNIQUE INDEX reactions_full_user_id_reactable_id_reactable_type_category_idx ON public.reactions_new USING btree (user_id, reactable_id, reactable_type_int, category);


--
-- Name: reactions_storage_category_idx; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX reactions_storage_category_idx ON public.reactions_storage USING btree (category);


--
-- Name: reactions_storage_created_at_idx; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX reactions_storage_created_at_idx ON public.reactions_storage USING btree (created_at);


--
-- Name: reactions_storage_points_idx; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX reactions_storage_points_idx ON public.reactions_storage USING btree (points);


--
-- Name: reactions_storage_reactable_id_reactable_type_idx; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX reactions_storage_reactable_id_reactable_type_idx ON public.reactions_storage USING btree (reactable_id, reactable_type);


--
-- Name: reactions_storage_reactable_type_idx; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX reactions_storage_reactable_type_idx ON public.reactions_storage USING btree (reactable_type);


--
-- Name: reactions_storage_status_idx; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX reactions_storage_status_idx ON public.reactions_storage USING btree (status);


--
-- Name: reactions_storage_user_id_reactable_id_reactable_type_categ_idx; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE UNIQUE INDEX reactions_storage_user_id_reactable_id_reactable_type_categ_idx ON public.reactions_storage USING btree (user_id, reactable_id, reactable_type, category);


--
-- Name: response_templates_full_content_user_id_type_of_content_typ_idx; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE UNIQUE INDEX response_templates_full_content_user_id_type_of_content_typ_idx ON public.response_templates_new USING btree (content, user_id, type_of, content_type_int);


--
-- Name: response_templates_full_type_of_idx; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX response_templates_full_type_of_idx ON public.response_templates_new USING btree (type_of);


--
-- Name: response_templates_full_user_id_type_of_idx; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX response_templates_full_user_id_type_of_idx ON public.response_templates_new USING btree (user_id, type_of);


--
-- Name: response_templates_storage_content_user_id_type_of_content__idx; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE UNIQUE INDEX response_templates_storage_content_user_id_type_of_content__idx ON public.response_templates_storage USING btree (content, user_id, type_of, content_type);


--
-- Name: response_templates_storage_type_of_idx; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX response_templates_storage_type_of_idx ON public.response_templates_storage USING btree (type_of);


--
-- Name: response_templates_storage_user_id_type_of_idx; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX response_templates_storage_user_id_type_of_idx ON public.response_templates_storage USING btree (user_id, type_of);


--
-- Name: roles_full_name_idx; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX roles_full_name_idx ON public.roles_new USING btree (name_int);


--
-- Name: roles_full_name_resource_type_resource_id_idx; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX roles_full_name_resource_type_resource_id_idx ON public.roles_new USING btree (name_int, resource_type, resource_id);


--
-- Name: roles_storage_name_idx; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX roles_storage_name_idx ON public.roles_storage USING btree (name);


--
-- Name: roles_storage_name_resource_type_resource_id_idx; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX roles_storage_name_resource_type_resource_id_idx ON public.roles_storage USING btree (name, resource_type, resource_id);


--
-- Name: sponsorships_full_level_idx; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX sponsorships_full_level_idx ON public.sponsorships_new USING btree (level_int);


--
-- Name: sponsorships_full_organization_id_idx; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX sponsorships_full_organization_id_idx ON public.sponsorships_new USING btree (organization_id);


--
-- Name: sponsorships_full_sponsorable_id_sponsorable_type_idx; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX sponsorships_full_sponsorable_id_sponsorable_type_idx ON public.sponsorships_new USING btree (sponsorable_id, sponsorable_type);


--
-- Name: sponsorships_full_status_idx; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX sponsorships_full_status_idx ON public.sponsorships_new USING btree (status);


--
-- Name: sponsorships_full_user_id_idx; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX sponsorships_full_user_id_idx ON public.sponsorships_new USING btree (user_id);


--
-- Name: sponsorships_storage_level_idx; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX sponsorships_storage_level_idx ON public.sponsorships_storage USING btree (level);


--
-- Name: sponsorships_storage_organization_id_idx; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX sponsorships_storage_organization_id_idx ON public.sponsorships_storage USING btree (organization_id);


--
-- Name: sponsorships_storage_sponsorable_id_sponsorable_type_idx; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX sponsorships_storage_sponsorable_id_sponsorable_type_idx ON public.sponsorships_storage USING btree (sponsorable_id, sponsorable_type);


--
-- Name: sponsorships_storage_status_idx; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX sponsorships_storage_status_idx ON public.sponsorships_storage USING btree (status);


--
-- Name: sponsorships_storage_user_id_idx; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX sponsorships_storage_user_id_idx ON public.sponsorships_storage USING btree (user_id);


--
-- Name: tag_adjustments_full_tag_name_article_id_idx; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE UNIQUE INDEX tag_adjustments_full_tag_name_article_id_idx ON public.tag_adjustments_new USING btree (tag_name, article_id);


--
-- Name: tag_adjustments_storage_tag_name_article_id_idx; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE UNIQUE INDEX tag_adjustments_storage_tag_name_article_id_idx ON public.tag_adjustments_storage USING btree (tag_name, article_id);


--
-- Name: taggings_idx; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE UNIQUE INDEX taggings_idx ON public.taggings USING btree (tag_id, taggable_id, taggable_type, context, tagger_id, tagger_type);


--
-- Name: taggings_idy; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX taggings_idy ON public.taggings USING btree (taggable_id, taggable_type, tagger_id, context);


--
-- Name: user_blocks_storage_blocked_id_blocker_id_idx; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE UNIQUE INDEX user_blocks_storage_blocked_id_blocker_id_idx ON public.user_blocks_storage USING btree (blocked_id, blocker_id);


--
-- Name: user_subscriptions_storage_author_id_idx; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX user_subscriptions_storage_author_id_idx ON public.user_subscriptions_storage USING btree (author_id);


--
-- Name: user_subscriptions_storage_subscriber_email_idx; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX user_subscriptions_storage_subscriber_email_idx ON public.user_subscriptions_storage USING btree (subscriber_email);


--
-- Name: user_subscriptions_storage_subscriber_id_subscriber_email_u_idx; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE UNIQUE INDEX user_subscriptions_storage_subscriber_id_subscriber_email_u_idx ON public.user_subscriptions_storage USING btree (subscriber_id, subscriber_email, user_subscription_sourceable_type, user_subscription_sourceable_id);


--
-- Name: user_subscriptions_storage_user_subscription_sourceable_typ_idx; Type: INDEX; Schema: public; Owner: ubuntu
--

CREATE INDEX user_subscriptions_storage_user_subscription_sourceable_typ_idx ON public.user_subscriptions_storage USING btree (user_subscription_sourceable_type, user_subscription_sourceable_id);


--
-- Name: articles update_reading_list_document; Type: TRIGGER; Schema: public; Owner: ubuntu
--

CREATE TRIGGER update_reading_list_document BEFORE INSERT OR UPDATE ON public.articles FOR EACH ROW EXECUTE FUNCTION public.update_reading_list_document();


--
-- Name: tweets fk_rails_003928b7f5; Type: FK CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.tweets
    ADD CONSTRAINT fk_rails_003928b7f5 FOREIGN KEY (user_id) REFERENCES public.users(id) ON DELETE SET NULL;


--
-- Name: page_views fk_rails_00f38b1a99; Type: FK CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.page_views
    ADD CONSTRAINT fk_rails_00f38b1a99 FOREIGN KEY (article_id) REFERENCES public.articles(id) ON DELETE CASCADE;


--
-- Name: comments fk_rails_03de2dc08c; Type: FK CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.comments
    ADD CONSTRAINT fk_rails_03de2dc08c FOREIGN KEY (user_id) REFERENCES public.users(id) ON DELETE CASCADE;


--
-- Name: webhook_endpoints fk_rails_083276d374; Type: FK CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.webhook_endpoints
    ADD CONSTRAINT fk_rails_083276d374 FOREIGN KEY (oauth_application_id) REFERENCES public.oauth_applications(id);


--
-- Name: podcast_episode_appearances fk_rails_09327c8b91; Type: FK CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.podcast_episode_appearances
    ADD CONSTRAINT fk_rails_09327c8b91 FOREIGN KEY (user_id) REFERENCES public.users(id);


--
-- Name: discussion_locks fk_rails_1003b14907; Type: FK CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.discussion_locks
    ADD CONSTRAINT fk_rails_1003b14907 FOREIGN KEY (article_id) REFERENCES public.articles(id);


--
-- Name: messages fk_rails_1321992401; Type: FK CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.messages
    ADD CONSTRAINT fk_rails_1321992401 FOREIGN KEY (chat_channel_id) REFERENCES public.chat_channels(id);


--
-- Name: page_views fk_rails_13a4e75c00; Type: FK CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.page_views
    ADD CONSTRAINT fk_rails_13a4e75c00 FOREIGN KEY (user_id) REFERENCES public.users(id) ON DELETE SET NULL;


--
-- Name: banished_users fk_rails_153ba6df7a; Type: FK CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.banished_users
    ADD CONSTRAINT fk_rails_153ba6df7a FOREIGN KEY (banished_by_id) REFERENCES public.users(id) ON DELETE SET NULL;


--
-- Name: display_ad_events fk_rails_1821fcc2c7; Type: FK CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.display_ad_events
    ADD CONSTRAINT fk_rails_1821fcc2c7 FOREIGN KEY (display_ad_id) REFERENCES public.display_ads(id) ON DELETE CASCADE;


--
-- Name: mentions fk_rails_1b711e94aa; Type: FK CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.mentions
    ADD CONSTRAINT fk_rails_1b711e94aa FOREIGN KEY (user_id) REFERENCES public.users(id) ON DELETE CASCADE;


--
-- Name: user_subscriptions fk_rails_1ed776f5d9; Type: FK CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.user_subscriptions
    ADD CONSTRAINT fk_rails_1ed776f5d9 FOREIGN KEY (subscriber_id) REFERENCES public.users(id);


--
-- Name: audit_logs fk_rails_1f26bc34ae; Type: FK CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.audit_logs
    ADD CONSTRAINT fk_rails_1f26bc34ae FOREIGN KEY (user_id) REFERENCES public.users(id);


--
-- Name: collections fk_rails_217eef6689; Type: FK CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.collections
    ADD CONSTRAINT fk_rails_217eef6689 FOREIGN KEY (organization_id) REFERENCES public.organizations(id) ON DELETE SET NULL;


--
-- Name: podcasts fk_rails_23fc7f8ed6; Type: FK CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.podcasts
    ADD CONSTRAINT fk_rails_23fc7f8ed6 FOREIGN KEY (creator_id) REFERENCES public.users(id);


--
-- Name: classified_listings fk_rails_2571500d9c; Type: FK CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.classified_listings
    ADD CONSTRAINT fk_rails_2571500d9c FOREIGN KEY (organization_id) REFERENCES public.organizations(id) ON DELETE CASCADE;


--
-- Name: messages fk_rails_273a25a7a6; Type: FK CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.messages
    ADD CONSTRAINT fk_rails_273a25a7a6 FOREIGN KEY (user_id) REFERENCES public.users(id);


--
-- Name: badge_achievements fk_rails_27820f58ce; Type: FK CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.badge_achievements
    ADD CONSTRAINT fk_rails_27820f58ce FOREIGN KEY (badge_id) REFERENCES public.badges(id);


--
-- Name: articles fk_rails_2b371e3029; Type: FK CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.articles
    ADD CONSTRAINT fk_rails_2b371e3029 FOREIGN KEY (collection_id) REFERENCES public.collections(id) ON DELETE SET NULL;


--
-- Name: notification_subscriptions fk_rails_2bf71acda7; Type: FK CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.notification_subscriptions
    ADD CONSTRAINT fk_rails_2bf71acda7 FOREIGN KEY (user_id) REFERENCES public.users(id) ON DELETE CASCADE;


--
-- Name: oauth_access_grants fk_rails_330c32d8d9; Type: FK CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.oauth_access_grants
    ADD CONSTRAINT fk_rails_330c32d8d9 FOREIGN KEY (resource_owner_id) REFERENCES public.users(id);


--
-- Name: notes fk_rails_36c9deba43; Type: FK CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.notes
    ADD CONSTRAINT fk_rails_36c9deba43 FOREIGN KEY (author_id) REFERENCES public.users(id) ON DELETE SET NULL;


--
-- Name: podcast_ownerships fk_rails_3710d65292; Type: FK CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.podcast_ownerships
    ADD CONSTRAINT fk_rails_3710d65292 FOREIGN KEY (podcast_id) REFERENCES public.podcasts(id);


--
-- Name: notifications fk_rails_394d9847aa; Type: FK CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.notifications
    ADD CONSTRAINT fk_rails_394d9847aa FOREIGN KEY (organization_id) REFERENCES public.organizations(id) ON DELETE CASCADE;


--
-- Name: users_notification_settings fk_rails_3bbee215b3; Type: FK CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.users_notification_settings
    ADD CONSTRAINT fk_rails_3bbee215b3 FOREIGN KEY (user_id) REFERENCES public.users(id);


--
-- Name: articles fk_rails_3d31dad1cc; Type: FK CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.articles
    ADD CONSTRAINT fk_rails_3d31dad1cc FOREIGN KEY (user_id) REFERENCES public.users(id) ON DELETE CASCADE;


--
-- Name: poll_skips fk_rails_4046c49c05; Type: FK CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.poll_skips
    ADD CONSTRAINT fk_rails_4046c49c05 FOREIGN KEY (user_id) REFERENCES public.users(id) ON DELETE CASCADE;


--
-- Name: devices fk_rails_410b63ef65; Type: FK CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.devices
    ADD CONSTRAINT fk_rails_410b63ef65 FOREIGN KEY (user_id) REFERENCES public.users(id);


--
-- Name: polls fk_rails_48d9b585ee; Type: FK CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.polls
    ADD CONSTRAINT fk_rails_48d9b585ee FOREIGN KEY (article_id) REFERENCES public.articles(id) ON DELETE CASCADE;


--
-- Name: badge_achievements fk_rails_4a2e48ca67; Type: FK CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.badge_achievements
    ADD CONSTRAINT fk_rails_4a2e48ca67 FOREIGN KEY (user_id) REFERENCES public.users(id);


--
-- Name: users_roles fk_rails_4a41696df6; Type: FK CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.users_roles
    ADD CONSTRAINT fk_rails_4a41696df6 FOREIGN KEY (user_id) REFERENCES public.users(id) ON DELETE CASCADE;


--
-- Name: chat_channel_memberships fk_rails_4ba367990a; Type: FK CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.chat_channel_memberships
    ADD CONSTRAINT fk_rails_4ba367990a FOREIGN KEY (user_id) REFERENCES public.users(id);


--
-- Name: html_variants fk_rails_4bb9f66719; Type: FK CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.html_variants
    ADD CONSTRAINT fk_rails_4bb9f66719 FOREIGN KEY (user_id) REFERENCES public.users(id) ON DELETE CASCADE;


--
-- Name: identities fk_rails_5373344100; Type: FK CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.identities
    ADD CONSTRAINT fk_rails_5373344100 FOREIGN KEY (user_id) REFERENCES public.users(id) ON DELETE CASCADE;


--
-- Name: credits fk_rails_5628a713de; Type: FK CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.credits
    ADD CONSTRAINT fk_rails_5628a713de FOREIGN KEY (organization_id) REFERENCES public.organizations(id) ON DELETE RESTRICT;


--
-- Name: podcast_ownerships fk_rails_574aee0ec6; Type: FK CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.podcast_ownerships
    ADD CONSTRAINT fk_rails_574aee0ec6 FOREIGN KEY (user_id) REFERENCES public.users(id);


--
-- Name: organization_memberships fk_rails_57cf70d280; Type: FK CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.organization_memberships
    ADD CONSTRAINT fk_rails_57cf70d280 FOREIGN KEY (user_id) REFERENCES public.users(id) ON DELETE CASCADE;


--
-- Name: ahoy_messages fk_rails_5894d6c55a; Type: FK CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.ahoy_messages
    ADD CONSTRAINT fk_rails_5894d6c55a FOREIGN KEY (user_id) REFERENCES public.users(id) ON DELETE CASCADE;


--
-- Name: html_variant_successes fk_rails_58c8775ab2; Type: FK CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.html_variant_successes
    ADD CONSTRAINT fk_rails_58c8775ab2 FOREIGN KEY (article_id) REFERENCES public.articles(id) ON DELETE SET NULL;


--
-- Name: user_subscriptions fk_rails_59b0197af7; Type: FK CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.user_subscriptions
    ADD CONSTRAINT fk_rails_59b0197af7 FOREIGN KEY (author_id) REFERENCES public.users(id);


--
-- Name: html_variant_successes fk_rails_5b92043d3f; Type: FK CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.html_variant_successes
    ADD CONSTRAINT fk_rails_5b92043d3f FOREIGN KEY (html_variant_id) REFERENCES public.html_variants(id) ON DELETE CASCADE;


--
-- Name: organization_memberships fk_rails_715ab7f4fe; Type: FK CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.organization_memberships
    ADD CONSTRAINT fk_rails_715ab7f4fe FOREIGN KEY (organization_id) REFERENCES public.organizations(id) ON DELETE CASCADE;


--
-- Name: oauth_access_tokens fk_rails_732cb83ab7; Type: FK CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.oauth_access_tokens
    ADD CONSTRAINT fk_rails_732cb83ab7 FOREIGN KEY (application_id) REFERENCES public.oauth_applications(id);


--
-- Name: sponsorships fk_rails_778bb453b1; Type: FK CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.sponsorships
    ADD CONSTRAINT fk_rails_778bb453b1 FOREIGN KEY (organization_id) REFERENCES public.organizations(id);


--
-- Name: articles fk_rails_7809a1a57d; Type: FK CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.articles
    ADD CONSTRAINT fk_rails_7809a1a57d FOREIGN KEY (organization_id) REFERENCES public.organizations(id) ON DELETE SET NULL;


--
-- Name: webhook_endpoints fk_rails_819fdd0983; Type: FK CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.webhook_endpoints
    ADD CONSTRAINT fk_rails_819fdd0983 FOREIGN KEY (user_id) REFERENCES public.users(id);


--
-- Name: html_variant_trials fk_rails_823a31b2cf; Type: FK CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.html_variant_trials
    ADD CONSTRAINT fk_rails_823a31b2cf FOREIGN KEY (html_variant_id) REFERENCES public.html_variants(id) ON DELETE CASCADE;


--
-- Name: poll_votes fk_rails_848ece0184; Type: FK CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.poll_votes
    ADD CONSTRAINT fk_rails_848ece0184 FOREIGN KEY (poll_option_id) REFERENCES public.poll_options(id) ON DELETE CASCADE;


--
-- Name: feedback_messages fk_rails_887c5f31ff; Type: FK CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.feedback_messages
    ADD CONSTRAINT fk_rails_887c5f31ff FOREIGN KEY (reporter_id) REFERENCES public.users(id) ON DELETE SET NULL;


--
-- Name: podcast_episodes fk_rails_893fc9044f; Type: FK CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.podcast_episodes
    ADD CONSTRAINT fk_rails_893fc9044f FOREIGN KEY (podcast_id) REFERENCES public.podcasts(id) ON DELETE CASCADE;


--
-- Name: classified_listings fk_rails_8ec4e83da0; Type: FK CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.classified_listings
    ADD CONSTRAINT fk_rails_8ec4e83da0 FOREIGN KEY (user_id) REFERENCES public.users(id) ON DELETE CASCADE;


--
-- Name: credits fk_rails_9001739776; Type: FK CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.credits
    ADD CONSTRAINT fk_rails_9001739776 FOREIGN KEY (user_id) REFERENCES public.users(id) ON DELETE CASCADE;


--
-- Name: user_blocks fk_rails_9457ce6a10; Type: FK CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.user_blocks
    ADD CONSTRAINT fk_rails_9457ce6a10 FOREIGN KEY (blocked_id) REFERENCES public.users(id);


--
-- Name: poll_skips fk_rails_97ff88c452; Type: FK CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.poll_skips
    ADD CONSTRAINT fk_rails_97ff88c452 FOREIGN KEY (poll_id) REFERENCES public.polls(id) ON DELETE CASCADE;


--
-- Name: api_secrets fk_rails_9aaa384ac8; Type: FK CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.api_secrets
    ADD CONSTRAINT fk_rails_9aaa384ac8 FOREIGN KEY (user_id) REFERENCES public.users(id) ON DELETE CASCADE;


--
-- Name: collections fk_rails_9b33697360; Type: FK CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.collections
    ADD CONSTRAINT fk_rails_9b33697360 FOREIGN KEY (user_id) REFERENCES public.users(id) ON DELETE CASCADE;


--
-- Name: reactions fk_rails_9f02fc96a0; Type: FK CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.reactions
    ADD CONSTRAINT fk_rails_9f02fc96a0 FOREIGN KEY (user_id) REFERENCES public.users(id) ON DELETE CASCADE;


--
-- Name: taggings fk_rails_9fcd2e236b; Type: FK CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.taggings
    ADD CONSTRAINT fk_rails_9fcd2e236b FOREIGN KEY (tag_id) REFERENCES public.tags(id) ON DELETE CASCADE;


--
-- Name: ahoy_events fk_rails_a0df956a8d; Type: FK CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.ahoy_events
    ADD CONSTRAINT fk_rails_a0df956a8d FOREIGN KEY (visit_id) REFERENCES public.ahoy_visits(id) ON DELETE CASCADE;


--
-- Name: rating_votes fk_rails_a3fec5b316; Type: FK CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.rating_votes
    ADD CONSTRAINT fk_rails_a3fec5b316 FOREIGN KEY (article_id) REFERENCES public.articles(id) ON DELETE CASCADE;


--
-- Name: rating_votes fk_rails_a47bf2c1e2; Type: FK CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.rating_votes
    ADD CONSTRAINT fk_rails_a47bf2c1e2 FOREIGN KEY (user_id) REFERENCES public.users(id) ON DELETE SET NULL;


--
-- Name: tag_adjustments fk_rails_a49150b7b2; Type: FK CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.tag_adjustments
    ADD CONSTRAINT fk_rails_a49150b7b2 FOREIGN KEY (article_id) REFERENCES public.articles(id) ON DELETE CASCADE;


--
-- Name: poll_votes fk_rails_a6e6974b7e; Type: FK CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.poll_votes
    ADD CONSTRAINT fk_rails_a6e6974b7e FOREIGN KEY (poll_id) REFERENCES public.polls(id) ON DELETE CASCADE;


--
-- Name: response_templates fk_rails_a8702c6917; Type: FK CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.response_templates
    ADD CONSTRAINT fk_rails_a8702c6917 FOREIGN KEY (user_id) REFERENCES public.users(id);


--
-- Name: tags fk_rails_a9dc141dc9; Type: FK CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.tags
    ADD CONSTRAINT fk_rails_a9dc141dc9 FOREIGN KEY (mod_chat_channel_id) REFERENCES public.chat_channels(id) ON DELETE SET NULL;


--
-- Name: poll_options fk_rails_aa85becb42; Type: FK CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.poll_options
    ADD CONSTRAINT fk_rails_aa85becb42 FOREIGN KEY (poll_id) REFERENCES public.polls(id) ON DELETE CASCADE;


--
-- Name: notifications fk_rails_b080fb4855; Type: FK CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.notifications
    ADD CONSTRAINT fk_rails_b080fb4855 FOREIGN KEY (user_id) REFERENCES public.users(id) ON DELETE CASCADE;


--
-- Name: chat_channel_memberships fk_rails_b2bb73e339; Type: FK CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.chat_channel_memberships
    ADD CONSTRAINT fk_rails_b2bb73e339 FOREIGN KEY (chat_channel_id) REFERENCES public.chat_channels(id);


--
-- Name: sponsorships fk_rails_b3190c5fc6; Type: FK CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.sponsorships
    ADD CONSTRAINT fk_rails_b3190c5fc6 FOREIGN KEY (user_id) REFERENCES public.users(id);


--
-- Name: oauth_access_grants fk_rails_b4b53e07b8; Type: FK CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.oauth_access_grants
    ADD CONSTRAINT fk_rails_b4b53e07b8 FOREIGN KEY (application_id) REFERENCES public.oauth_applications(id);


--
-- Name: poll_votes fk_rails_b64de9b025; Type: FK CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.poll_votes
    ADD CONSTRAINT fk_rails_b64de9b025 FOREIGN KEY (user_id) REFERENCES public.users(id) ON DELETE CASCADE;


--
-- Name: html_variant_trials fk_rails_ba2bd12f4d; Type: FK CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.html_variant_trials
    ADD CONSTRAINT fk_rails_ba2bd12f4d FOREIGN KEY (article_id) REFERENCES public.articles(id) ON DELETE SET NULL;


--
-- Name: github_repos fk_rails_bbb82bb7f1; Type: FK CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.github_repos
    ADD CONSTRAINT fk_rails_bbb82bb7f1 FOREIGN KEY (user_id) REFERENCES public.users(id) ON DELETE CASCADE;


--
-- Name: feedback_messages fk_rails_c15ceb2839; Type: FK CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.feedback_messages
    ADD CONSTRAINT fk_rails_c15ceb2839 FOREIGN KEY (offender_id) REFERENCES public.users(id) ON DELETE SET NULL;


--
-- Name: tag_adjustments fk_rails_c4e50e84fd; Type: FK CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.tag_adjustments
    ADD CONSTRAINT fk_rails_c4e50e84fd FOREIGN KEY (tag_id) REFERENCES public.tags(id) ON DELETE CASCADE;


--
-- Name: display_ad_events fk_rails_c692cbd6e1; Type: FK CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.display_ad_events
    ADD CONSTRAINT fk_rails_c692cbd6e1 FOREIGN KEY (user_id) REFERENCES public.users(id) ON DELETE CASCADE;


--
-- Name: display_ads fk_rails_ca571cb23e; Type: FK CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.display_ads
    ADD CONSTRAINT fk_rails_ca571cb23e FOREIGN KEY (organization_id) REFERENCES public.organizations(id) ON DELETE CASCADE;


--
-- Name: tags fk_rails_d11c10a859; Type: FK CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.tags
    ADD CONSTRAINT fk_rails_d11c10a859 FOREIGN KEY (badge_id) REFERENCES public.badges(id) ON DELETE SET NULL;


--
-- Name: user_blocks fk_rails_d1bf232861; Type: FK CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.user_blocks
    ADD CONSTRAINT fk_rails_d1bf232861 FOREIGN KEY (blocker_id) REFERENCES public.users(id);


--
-- Name: podcast_episode_appearances fk_rails_d9250101ef; Type: FK CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.podcast_episode_appearances
    ADD CONSTRAINT fk_rails_d9250101ef FOREIGN KEY (podcast_episode_id) REFERENCES public.podcast_episodes(id);


--
-- Name: badge_achievements fk_rails_da1af2d63c; Type: FK CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.badge_achievements
    ADD CONSTRAINT fk_rails_da1af2d63c FOREIGN KEY (rewarder_id) REFERENCES public.users(id) ON DELETE SET NULL;


--
-- Name: ahoy_visits fk_rails_db648022ad; Type: FK CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.ahoy_visits
    ADD CONSTRAINT fk_rails_db648022ad FOREIGN KEY (user_id) REFERENCES public.users(id) ON DELETE CASCADE;


--
-- Name: profile_fields fk_rails_df1b1bea83; Type: FK CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.profile_fields
    ADD CONSTRAINT fk_rails_df1b1bea83 FOREIGN KEY (profile_field_group_id) REFERENCES public.profile_field_groups(id);


--
-- Name: discussion_locks fk_rails_e05310987d; Type: FK CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.discussion_locks
    ADD CONSTRAINT fk_rails_e05310987d FOREIGN KEY (locking_user_id) REFERENCES public.users(id);


--
-- Name: devices fk_rails_e38dbf9115; Type: FK CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.devices
    ADD CONSTRAINT fk_rails_e38dbf9115 FOREIGN KEY (consumer_app_id) REFERENCES public.consumer_apps(id);


--
-- Name: profiles fk_rails_e424190865; Type: FK CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.profiles
    ADD CONSTRAINT fk_rails_e424190865 FOREIGN KEY (user_id) REFERENCES public.users(id) ON DELETE CASCADE;


--
-- Name: feedback_messages fk_rails_e81fc50c33; Type: FK CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.feedback_messages
    ADD CONSTRAINT fk_rails_e81fc50c33 FOREIGN KEY (affected_id) REFERENCES public.users(id) ON DELETE SET NULL;


--
-- Name: tag_adjustments fk_rails_e8f5a32807; Type: FK CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.tag_adjustments
    ADD CONSTRAINT fk_rails_e8f5a32807 FOREIGN KEY (user_id) REFERENCES public.users(id) ON DELETE CASCADE;


--
-- Name: users_settings fk_rails_ea528144ba; Type: FK CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.users_settings
    ADD CONSTRAINT fk_rails_ea528144ba FOREIGN KEY (user_id) REFERENCES public.users(id);


--
-- Name: ahoy_messages fk_rails_eb7709e291; Type: FK CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.ahoy_messages
    ADD CONSTRAINT fk_rails_eb7709e291 FOREIGN KEY (feedback_message_id) REFERENCES public.feedback_messages(id) ON DELETE SET NULL;


--
-- Name: users_roles fk_rails_eb7b4658f8; Type: FK CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.users_roles
    ADD CONSTRAINT fk_rails_eb7b4658f8 FOREIGN KEY (role_id) REFERENCES public.roles(id) ON DELETE CASCADE;


--
-- Name: oauth_access_tokens fk_rails_ee63f25419; Type: FK CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.oauth_access_tokens
    ADD CONSTRAINT fk_rails_ee63f25419 FOREIGN KEY (resource_owner_id) REFERENCES public.users(id);


--
-- Name: ahoy_events fk_rails_f1ed9fc4a0; Type: FK CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.ahoy_events
    ADD CONSTRAINT fk_rails_f1ed9fc4a0 FOREIGN KEY (user_id) REFERENCES public.users(id) ON DELETE CASCADE;


--
-- Name: email_authorizations fk_rails_faf7e663d1; Type: FK CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.email_authorizations
    ADD CONSTRAINT fk_rails_faf7e663d1 FOREIGN KEY (user_id) REFERENCES public.users(id) ON DELETE CASCADE;


--
-- Name: classified_listings fk_rails_fd32b9b45f; Type: FK CONSTRAINT; Schema: public; Owner: ubuntu
--

ALTER TABLE ONLY public.classified_listings
    ADD CONSTRAINT fk_rails_fd32b9b45f FOREIGN KEY (classified_listing_category_id) REFERENCES public.classified_listing_categories(id);


--
-- PostgreSQL database dump complete
--

